(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Od={exports:{}},Ll={};var Hy;function Q2(){if(Hy)return Ll;Hy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var Fy;function K2(){return Fy||(Fy=1,Od.exports=Q2()),Od.exports}var p=K2(),Vd={exports:{}},je={};var Gy;function $2(){if(Gy)return je;Gy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,ie={};function he(V,J,ue){this.props=V,this.context=J,this.refs=ie,this.updater=ue||Z}he.prototype.isReactComponent={},he.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},he.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function De(){}De.prototype=he.prototype;function ye(V,J,ue){this.props=V,this.context=J,this.refs=ie,this.updater=ue||Z}var Fe=ye.prototype=new De;Fe.constructor=ye,$(Fe,he.prototype),Fe.isPureReactComponent=!0;var Ne=Array.isArray;function Ue(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function A(V,J,ue){var pe=ue.ref;return{$$typeof:r,type:V,key:J,ref:pe!==void 0?pe:null,props:ue}}function k(V,J){return A(V.type,J,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function j(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return J[ue]})}var C=/\/+/g;function $e(V,J){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):J.toString(36)}function Dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ue,Ue):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,J,ue,pe,we){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ge=!1;if(V===null)Ge=!0;else switch(Re){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(V.$$typeof){case r:case e:Ge=!0;break;case E:return Ge=V._init,Q(Ge(V._payload),J,ue,pe,we)}}if(Ge)return we=we(V),Ge=pe===""?"."+$e(V,0):pe,Ne(we)?(ue="",Ge!=null&&(ue=Ge.replace(C,"$&/")+"/"),Q(we,J,ue,"",function(ji){return ji})):we!=null&&(M(we)&&(we=k(we,ue+(we.key==null||V&&V.key===we.key?"":(""+we.key).replace(C,"$&/")+"/")+Ge)),J.push(we)),1;Ge=0;var Mt=pe===""?".":pe+":";if(Ne(V))for(var mt=0;mt<V.length;mt++)pe=V[mt],Re=Mt+$e(pe,mt),Ge+=Q(pe,J,ue,Re,we);else if(mt=P(V),typeof mt=="function")for(V=mt.call(V),mt=0;!(pe=V.next()).done;)pe=pe.value,Re=Mt+$e(pe,mt++),Ge+=Q(pe,J,ue,Re,we);else if(Re==="object"){if(typeof V.then=="function")return Q(Dt(V),J,ue,pe,we);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function z(V,J,ue){if(V==null)return V;var pe=[],we=0;return Q(V,pe,"","",function(Re){return J.call(ue,Re,we++)}),pe}function le(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var qe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ke={map:z,forEach:function(V,J,ue){z(V,function(){J.apply(this,arguments)},ue)},count:function(V){var J=0;return z(V,function(){J++}),J},toArray:function(V){return z(V,function(J){return J})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return je.Activity=S,je.Children=ke,je.Component=he,je.Fragment=i,je.Profiler=o,je.PureComponent=ye,je.StrictMode=s,je.Suspense=y,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,je.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},je.cache=function(V){return function(){return V.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(V,J,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var pe=$({},V.props),we=V.key;if(J!=null)for(Re in J.key!==void 0&&(we=""+J.key),J)!w.call(J,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&J.ref===void 0||(pe[Re]=J[Re]);var Re=arguments.length-2;if(Re===1)pe.children=ue;else if(1<Re){for(var Ge=Array(Re),Mt=0;Mt<Re;Mt++)Ge[Mt]=arguments[Mt+2];pe.children=Ge}return A(V.type,we,pe)},je.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},je.createElement=function(V,J,ue){var pe,we={},Re=null;if(J!=null)for(pe in J.key!==void 0&&(Re=""+J.key),J)w.call(J,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(we[pe]=J[pe]);var Ge=arguments.length-2;if(Ge===1)we.children=ue;else if(1<Ge){for(var Mt=Array(Ge),mt=0;mt<Ge;mt++)Mt[mt]=arguments[mt+2];we.children=Mt}if(V&&V.defaultProps)for(pe in Ge=V.defaultProps,Ge)we[pe]===void 0&&(we[pe]=Ge[pe]);return A(V,Re,we)},je.createRef=function(){return{current:null}},je.forwardRef=function(V){return{$$typeof:g,render:V}},je.isValidElement=M,je.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:le}},je.memo=function(V,J){return{$$typeof:_,type:V,compare:J===void 0?null:J}},je.startTransition=function(V){var J=R.T,ue={};R.T=ue;try{var pe=V(),we=R.S;we!==null&&we(ue,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(Ue,qe)}catch(Re){qe(Re)}finally{J!==null&&ue.types!==null&&(J.types=ue.types),R.T=J}},je.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},je.use=function(V){return R.H.use(V)},je.useActionState=function(V,J,ue){return R.H.useActionState(V,J,ue)},je.useCallback=function(V,J){return R.H.useCallback(V,J)},je.useContext=function(V){return R.H.useContext(V)},je.useDebugValue=function(){},je.useDeferredValue=function(V,J){return R.H.useDeferredValue(V,J)},je.useEffect=function(V,J){return R.H.useEffect(V,J)},je.useEffectEvent=function(V){return R.H.useEffectEvent(V)},je.useId=function(){return R.H.useId()},je.useImperativeHandle=function(V,J,ue){return R.H.useImperativeHandle(V,J,ue)},je.useInsertionEffect=function(V,J){return R.H.useInsertionEffect(V,J)},je.useLayoutEffect=function(V,J){return R.H.useLayoutEffect(V,J)},je.useMemo=function(V,J){return R.H.useMemo(V,J)},je.useOptimistic=function(V,J){return R.H.useOptimistic(V,J)},je.useReducer=function(V,J,ue){return R.H.useReducer(V,J,ue)},je.useRef=function(V){return R.H.useRef(V)},je.useState=function(V){return R.H.useState(V)},je.useSyncExternalStore=function(V,J,ue){return R.H.useSyncExternalStore(V,J,ue)},je.useTransition=function(){return R.H.useTransition()},je.version="19.2.1",je}var Yy;function Mm(){return Yy||(Yy=1,Vd.exports=$2()),Vd.exports}var ae=Mm(),kd={exports:{}},Ul={},jd={exports:{}},Ld={};var Qy;function X2(){return Qy||(Qy=1,(function(r){function e(Q,z){var le=Q.length;Q.push(z);e:for(;0<le;){var qe=le-1>>>1,ke=Q[qe];if(0<o(ke,z))Q[qe]=z,Q[le]=ke,le=qe;else break e}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var z=Q[0],le=Q.pop();if(le!==z){Q[0]=le;e:for(var qe=0,ke=Q.length,V=ke>>>1;qe<V;){var J=2*(qe+1)-1,ue=Q[J],pe=J+1,we=Q[pe];if(0>o(ue,le))pe<ke&&0>o(we,ue)?(Q[qe]=we,Q[pe]=le,qe=pe):(Q[qe]=ue,Q[J]=le,qe=J);else if(pe<ke&&0>o(we,le))Q[qe]=we,Q[pe]=le,qe=pe;else break e}}return z}function o(Q,z){var le=Q.sortIndex-z.sortIndex;return le!==0?le:Q.id-z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var y=[],_=[],E=1,S=null,N=3,P=!1,Z=!1,$=!1,ie=!1,he=typeof setTimeout=="function"?setTimeout:null,De=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function Fe(Q){for(var z=i(_);z!==null;){if(z.callback===null)s(_);else if(z.startTime<=Q)s(_),z.sortIndex=z.expirationTime,e(y,z);else break;z=i(_)}}function Ne(Q){if($=!1,Fe(Q),!Z)if(i(y)!==null)Z=!0,Ue||(Ue=!0,j());else{var z=i(_);z!==null&&Dt(Ne,z.startTime-Q)}}var Ue=!1,R=-1,w=5,A=-1;function k(){return ie?!0:!(r.unstable_now()-A<w)}function M(){if(ie=!1,Ue){var Q=r.unstable_now();A=Q;var z=!0;try{e:{Z=!1,$&&($=!1,De(R),R=-1),P=!0;var le=N;try{t:{for(Fe(Q),S=i(y);S!==null&&!(S.expirationTime>Q&&k());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,N=S.priorityLevel;var ke=qe(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof ke=="function"){S.callback=ke,Fe(Q),z=!0;break t}S===i(y)&&s(y),Fe(Q)}else s(y);S=i(y)}if(S!==null)z=!0;else{var V=i(_);V!==null&&Dt(Ne,V.startTime-Q),z=!1}}break e}finally{S=null,N=le,P=!1}z=void 0}}finally{z?j():Ue=!1}}}var j;if(typeof ye=="function")j=function(){ye(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,$e=C.port2;C.port1.onmessage=M,j=function(){$e.postMessage(null)}}else j=function(){he(M,0)};function Dt(Q,z){R=he(function(){Q(r.unstable_now())},z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var z=3;break;default:z=N}var le=N;N=z;try{return Q()}finally{N=le}},r.unstable_requestPaint=function(){ie=!0},r.unstable_runWithPriority=function(Q,z){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var le=N;N=Q;try{return z()}finally{N=le}},r.unstable_scheduleCallback=function(Q,z,le){var qe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?qe+le:qe):le=qe,Q){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=le+ke,Q={id:E++,callback:z,priorityLevel:Q,startTime:le,expirationTime:ke,sortIndex:-1},le>qe?(Q.sortIndex=le,e(_,Q),i(y)===null&&Q===i(_)&&($?(De(R),R=-1):$=!0,Dt(Ne,le-qe))):(Q.sortIndex=ke,e(y,Q),Z||P||(Z=!0,Ue||(Ue=!0,j()))),Q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(Q){var z=N;return function(){var le=N;N=z;try{return Q.apply(this,arguments)}finally{N=le}}}})(Ld)),Ld}var Ky;function Z2(){return Ky||(Ky=1,jd.exports=X2()),jd.exports}var Ud={exports:{}},On={};var $y;function J2(){if($y)return On;$y=1;var r=Mm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:_,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,On.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,E)},On.flushSync=function(y){var _=h.T,E=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=_,s.p=E,s.d.f()}},On.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},On.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},On.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,S=g(E,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:P}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:N,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},On.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},On.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,S=g(E,_.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},On.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},On.requestFormReset=function(y){s.d.r(y)},On.unstable_batchedUpdates=function(y,_){return y(_)},On.useFormState=function(y,_,E){return h.H.useFormState(y,_,E)},On.useFormStatus=function(){return h.H.useHostTransitionStatus()},On.version="19.2.1",On}var Xy;function W2(){if(Xy)return Ud.exports;Xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ud.exports=J2(),Ud.exports}var Zy;function eE(){if(Zy)return Ul;Zy=1;var r=Z2(),e=Mm(),i=W2();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return y(f),t;if(d===l)return y(f),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var x=!1,v=f.child;v;){if(v===a){x=!0,a=f,l=d;break}if(v===l){x=!0,l=f,a=d;break}v=v.sibling}if(!x){for(v=d.child;v;){if(v===a){x=!0,a=d,l=f;break}if(v===l){x=!0,l=d,a=f;break}v=v.sibling}if(!x)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),De=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case he:return"Profiler";case ie:return"StrictMode";case Ne:return"Suspense";case Ue:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case ye:return t.displayName||"Context";case De:return(t._context.displayName||"Context")+".Consumer";case Fe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:$e(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return $e(t(n))}catch{}}return null}var Dt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},qe=[],ke=-1;function V(t){return{current:t}}function J(t){0>ke||(t.current=qe[ke],qe[ke]=null,ke--)}function ue(t,n){ke++,qe[ke]=t.current,t.current=n}var pe=V(null),we=V(null),Re=V(null),Ge=V(null);function Mt(t,n){switch(ue(Re,n),ue(we,t),ue(pe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?hy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=hy(n),t=dy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(pe),ue(pe,t)}function mt(){J(pe),J(we),J(Re)}function ji(t){t.memoizedState!==null&&ue(Ge,t);var n=pe.current,a=dy(n,t.type);n!==a&&(ue(we,t),ue(pe,a))}function Kn(t){we.current===t&&(J(pe),J(we)),Ge.current===t&&(J(Ge),Ol._currentValue=le)}var tr,Xt;function dn(t){if(tr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);tr=n&&n[1]||"",Xt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tr+t+Xt}var nr=!1;function Un(t,n){if(!t||nr)return"";nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var H=G}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(G){H=G}t.call(ee.prototype)}}else{try{throw Error()}catch(G){H=G}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),x=d[0],v=d[1];if(x&&v){var I=x.split(`
`),q=v.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===q.length)for(l=I.length-1,f=q.length-1;1<=l&&0<=f&&I[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==q[f]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=f);break}}}finally{nr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?dn(a):""}function ir(t,n){switch(t.tag){case 26:case 27:case 5:return dn(t.type);case 16:return dn("Lazy");case 13:return t.child!==n&&n!==null?dn("Suspense Fallback"):dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return Un(t.type,!1);case 11:return Un(t.type.render,!1);case 1:return Un(t.type,!0);case 31:return dn("Activity");default:return""}}function yn(t){try{var n="",a=null;do n+=ir(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,ft=r.unstable_scheduleCallback,Wi=r.unstable_cancelCallback,$n=r.unstable_shouldYield,sr=r.unstable_requestPaint,_n=r.unstable_now,Xn=r.unstable_getCurrentPriorityLevel,Li=r.unstable_ImmediatePriority,Ui=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,za=r.unstable_LowPriority,Ts=r.unstable_IdlePriority,na=r.log,es=r.unstable_setDisableYieldValue,Pn=null,St=null;function xn(t){if(typeof na=="function"&&es(t),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Pn,t)}catch{}}var rt=Math.clz32?Math.clz32:ar,rr=Math.log,an=Math.LN2;function ar(t){return t>>>=0,t===0?32:31-(rr(t)/an|0)|0}var on=256,Pi=262144,ot=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ln(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?f=Zn(l):(x&=v,x!==0?f=Zn(x):a||(a=v&~t,a!==0&&(f=Zn(a))))):(v=l&~d,v!==0?f=Zn(v):x!==0?f=Zn(x):a||(a=l&~t,a!==0&&(f=Zn(a)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:f}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function cn(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(){var t=ot;return ot<<=1,(ot&62914560)===0&&(ot=4194304),t}function Bn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function _i(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function or(t,n,a,l,f,d){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=x&~a;0<a;){var K=31-rt(a),ee=1<<K;v[K]=0,I[K]=-1;var H=q[K];if(H!==null)for(q[K]=null,K=0;K<H.length;K++){var G=H[K];G!==null&&(G.lane&=-536870913)}a&=~ee}l!==0&&zi(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(x&~n))}function zi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-rt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function oi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-rt(a),f=1<<l;f&n|t[l]&n&&(t[l]|=n),a&=~f}}function li(t,n){var a=n&-n;return a=(a&42)!==0?1:ts(a),(a&(t.suspendedLanes|n))!==0?0:a}function ts(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ns(){var t=z.p;return t!==0?t:(t=window.event,t===void 0?32:jy(t.type))}function qn(t,n){var a=z.p;try{return z.p=t,n()}finally{z.p=a}}var Nt=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Nt,Ke="__reactProps$"+Nt,In="__reactContainer$"+Nt,Dn="__reactEvents$"+Nt,is="__reactListeners$"+Nt,Bi="__reactHandles$"+Nt,Ba="__reactResources$"+Nt,xi="__reactMarker$"+Nt;function lr(t){delete t[Ot],delete t[Ke],delete t[Dn],delete t[is],delete t[Bi]}function bi(t){var n=t[Ot];if(n)return n;for(var a=t.parentNode;a;){if(n=a[In]||a[Ot]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=by(t);t!==null;){if(a=t[Ot])return a;t=by(t)}return n}t=a,a=t.parentNode}return null}function ei(t){if(t=t[Ot]||t[In]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function vi(t){var n=t[Ba];return n||(n=t[Ba]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Vt(t){t[xi]=!0}var ia=new Set,sa={};function oe(t,n){bn(t,n),bn(t+"Capture",n)}function bn(t,n){for(sa[t]=n,t=0;t<n.length;t++)ia.add(n[t])}var Fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cr={},ra={};function qa(t){return At.call(ra,t)?!0:At.call(cr,t)?!1:Fn.test(t)?ra[t]=!0:(cr[t]=!0,!1)}function ur(t,n,a){if(qa(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Pe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ss(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function aa(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(x){a=""+x,d.call(this,x)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function lt(t){if(!t._valueTracker){var n=ss(t)?"checked":"value";t._valueTracker=aa(t,n,""+t[n])}}function rs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ss(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jt=/[\n"\\]/g;function vn(t){return t.replace(Jt,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fr(t,n,a,l,f,d,x,v){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),n!=null?x==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),n!=null?Ss(t,x,Zt(n)):a!=null?Ss(t,x,Zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+Zt(v):t.removeAttribute("name")}function oa(t,n,a,l,f,d,x,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){lt(t);return}a=a!=null?""+Zt(a):"",n=n!=null?""+Zt(n):a,v||n===t.value||(t.value=n),t.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=v?t.checked:!!l,t.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),lt(t)}function Ss(t,n,a){n==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function D(t,n,a,l){if(t=t.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=n.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),n=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Y(t,n,a){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Zt(a):""}function W(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Zt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),lt(t)}function fe(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var me=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function se(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||me.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function re(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&a[f]!==l&&se(t,f,l)}else for(var d in n)n.hasOwnProperty(d)&&se(t,d,n[d])}function ge(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Te=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Se=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function be(t){return Se.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function de(){}var wt=null;function it(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ut=null,vt=null;function Pt(t){var n=ei(t);if(n&&(t=n.stateNode)){var a=t[Ke]||null;e:switch(t=n.stateNode,n.type){case"input":if(fr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var f=l[Ke]||null;if(!f)throw Error(s(90));fr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&rs(l)}break e;case"textarea":Y(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&D(t,!!a.multiple,n,!1)}}}var Et=!1;function zt(t,n,a){if(Et)return t(n,a);Et=!0;try{var l=t(n);return l}finally{if(Et=!1,(Ut!==null||vt!==null)&&(du(),Ut&&(n=Ut,t=vt,vt=Ut=null,Pt(n),t)))for(n=0;n<t.length;n++)Pt(t[n])}}function kt(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ke]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Gt)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{Mn=!1}var ci=null,Ti=null,ws=null;function qi(){if(ws)return ws;var t,n=Ti,a=n.length,l,f="value"in ci?ci.value:ci.textContent,d=f.length;for(t=0;t<a&&n[t]===f[t];t++);var x=a-t;for(l=1;l<=x&&n[a-l]===f[d-l];l++);return ws=f.slice(t,1<l?1-l:void 0)}function la(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function As(){return!0}function Hi(){return!1}function En(t){function n(a,l,f,d,x){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?As:Hi,this.isPropagationStopped=Hi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),n}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=En(Ns),hr=S({},Ns,{view:0,detail:0}),Jo=En(hr),dr,Ha,os,Fa=S({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(dr=t.screenX-os.screenX,Ha=t.screenY-os.screenY):Ha=dr=0,os=t),dr)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),Wo=En(Fa),ca=S({},Fa,{dataTransfer:0}),vc=En(ca),Ec=S({},hr,{relatedTarget:0}),ua=En(Ec),el=S({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Tc=En(el),Ga=S({},Ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sc=En(Ga),wc=S({},Ns,{data:0}),ls=En(wc),Ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Rc[t])?!!n[t]:!1}function mr(){return Cc}var Yn=S({},hr,{key:function(t){if(t.key){var n=Ac[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ic=En(Yn),Dc=S({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=En(Dc),u=S({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=En(u),b=S({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=En(b),U=S({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=En(U),ce=S({},Ns,{newState:0,oldState:0}),ze=En(ce),Yt=[9,13,27,32],ht=Gt&&"CompositionEvent"in window,jt=null;Gt&&"documentMode"in document&&(jt=document.documentMode);var Si=Gt&&"TextEvent"in window&&!jt,cs=Gt&&(!ht||jt&&8<jt&&11>=jt),Fi=" ",Gi=!1;function fa(t,n){switch(t){case"keyup":return Yt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function yv(t,n){switch(t){case"compositionend":return Ya(n);case"keypress":return n.which!==32?null:(Gi=!0,Fi);case"textInput":return t=n.data,t===Fi&&Gi?null:t;default:return null}}function _v(t,n){if(Qa)return t==="compositionend"||!ht&&fa(t,n)?(t=qi(),ws=Ti=ci=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cs&&n.locale!=="ko"?null:n.data;default:return null}}var xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xv[t.type]:n==="textarea"}function S0(t,n,a,l){Ut?vt?vt.push(l):vt=[l]:Ut=l,n=bu(n,"onChange"),0<n.length&&(a=new as("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var tl=null,nl=null;function bv(t){ay(t,0)}function Mc(t){var n=Hn(t);if(rs(n))return t}function w0(t,n){if(t==="change")return n}var A0=!1;if(Gt){var zf;if(Gt){var Bf="oninput"in document;if(!Bf){var N0=document.createElement("div");N0.setAttribute("oninput","return;"),Bf=typeof N0.oninput=="function"}zf=Bf}else zf=!1;A0=zf&&(!document.documentMode||9<document.documentMode)}function R0(){tl&&(tl.detachEvent("onpropertychange",C0),nl=tl=null)}function C0(t){if(t.propertyName==="value"&&Mc(nl)){var n=[];S0(n,nl,t,it(t)),zt(bv,n)}}function vv(t,n,a){t==="focusin"?(R0(),tl=n,nl=a,tl.attachEvent("onpropertychange",C0)):t==="focusout"&&R0()}function Ev(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(nl)}function Tv(t,n){if(t==="click")return Mc(n)}function Sv(t,n){if(t==="input"||t==="change")return Mc(n)}function wv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ui=typeof Object.is=="function"?Object.is:wv;function il(t,n){if(ui(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!At.call(n,f)||!ui(t[f],n[f]))return!1}return!0}function I0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D0(t,n){var a=I0(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=I0(a)}}function M0(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?M0(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function O0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ei(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ei(t.document)}return n}function qf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Av=Gt&&"documentMode"in document&&11>=document.documentMode,Ka=null,Hf=null,sl=null,Ff=!1;function V0(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ff||Ka==null||Ka!==Ei(l)||(l=Ka,"selectionStart"in l&&qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=bu(Hf,"onSelect"),0<l.length&&(n=new as("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ka)))}function ha(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var $a={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Gf={},k0={};Gt&&(k0=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function da(t){if(Gf[t])return Gf[t];if(!$a[t])return t;var n=$a[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in k0)return Gf[t]=n[a];return t}var j0=da("animationend"),L0=da("animationiteration"),U0=da("animationstart"),Nv=da("transitionrun"),Rv=da("transitionstart"),Cv=da("transitioncancel"),P0=da("transitionend"),z0=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function Yi(t,n){z0.set(t,n),oe(n,[t])}var Oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wi=[],Xa=0,Qf=0;function Vc(){for(var t=Xa,n=Qf=Xa=0;n<t;){var a=wi[n];wi[n++]=null;var l=wi[n];wi[n++]=null;var f=wi[n];wi[n++]=null;var d=wi[n];if(wi[n++]=null,l!==null&&f!==null){var x=l.pending;x===null?f.next=f:(f.next=x.next,x.next=f),l.pending=f}d!==0&&B0(a,f,d)}}function kc(t,n,a,l){wi[Xa++]=t,wi[Xa++]=n,wi[Xa++]=a,wi[Xa++]=l,Qf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kf(t,n,a,l){return kc(t,n,a,l),jc(t)}function ma(t,n){return kc(t,null,null,n),jc(t)}function B0(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&n!==null&&(f=31-rt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[n]:l.push(n),n.lane=a|536870912),d):null}function jc(t){if(50<Al)throw Al=0,id=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Za={};function Iv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,n,a,l){return new Iv(t,n,a,l)}function $f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cs(t,n){var a=t.alternate;return a===null?(a=fi(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function q0(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lc(t,n,a,l,f,d){var x=0;if(l=t,typeof t=="function")$f(t)&&(x=1);else if(typeof t=="string")x=k2(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=fi(31,a,n,f),t.elementType=A,t.lanes=d,t;case $:return ga(a.children,f,d,n);case ie:x=8,f|=24;break;case he:return t=fi(12,a,n,f|2),t.elementType=he,t.lanes=d,t;case Ne:return t=fi(13,a,n,f),t.elementType=Ne,t.lanes=d,t;case Ue:return t=fi(19,a,n,f),t.elementType=Ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:x=10;break e;case De:x=9;break e;case Fe:x=11;break e;case R:x=14;break e;case w:x=16,l=null;break e}x=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=fi(x,a,n,f),n.elementType=t,n.type=l,n.lanes=d,n}function ga(t,n,a,l){return t=fi(7,t,l,n),t.lanes=a,t}function Xf(t,n,a){return t=fi(6,t,null,n),t.lanes=a,t}function H0(t){var n=fi(18,null,null,0);return n.stateNode=t,n}function Zf(t,n,a){return n=fi(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var F0=new WeakMap;function Ai(t,n){if(typeof t=="object"&&t!==null){var a=F0.get(t);return a!==void 0?a:(n={value:t,source:n,stack:yn(n)},F0.set(t,n),n)}return{value:t,source:n,stack:yn(n)}}var Ja=[],Wa=0,Uc=null,rl=0,Ni=[],Ri=0,gr=null,us=1,fs="";function Is(t,n){Ja[Wa++]=rl,Ja[Wa++]=Uc,Uc=t,rl=n}function G0(t,n,a){Ni[Ri++]=us,Ni[Ri++]=fs,Ni[Ri++]=gr,gr=t;var l=us;t=fs;var f=32-rt(l)-1;l&=~(1<<f),a+=1;var d=32-rt(n)+f;if(30<d){var x=f-f%5;d=(l&(1<<x)-1).toString(32),l>>=x,f-=x,us=1<<32-rt(n)+f|a<<f|l,fs=d+t}else us=1<<d|a<<f|l,fs=t}function Jf(t){t.return!==null&&(Is(t,1),G0(t,1,0))}function Wf(t){for(;t===Uc;)Uc=Ja[--Wa],Ja[Wa]=null,rl=Ja[--Wa],Ja[Wa]=null;for(;t===gr;)gr=Ni[--Ri],Ni[Ri]=null,fs=Ni[--Ri],Ni[Ri]=null,us=Ni[--Ri],Ni[Ri]=null}function Y0(t,n){Ni[Ri++]=us,Ni[Ri++]=fs,Ni[Ri++]=gr,us=n.id,fs=n.overflow,gr=t}var Tn=null,Rt=null,st=!1,pr=null,Ci=!1,eh=Error(s(519));function yr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Ai(n,t)),eh}function Q0(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ot]=t,n[Ke]=l,a){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ze(Rl[a],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Ze("invalid",n),oa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ze("invalid",n);break;case"textarea":Ze("invalid",n),W(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||uy(n.textContent,a)?(l.popover!=null&&(Ze("beforetoggle",n),Ze("toggle",n)),l.onScroll!=null&&Ze("scroll",n),l.onScrollEnd!=null&&Ze("scrollend",n),l.onClick!=null&&(n.onclick=de),n=!0):n=!1,n||yr(t,!0)}function K0(t){for(Tn=t.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:Tn=Tn.return}}function eo(t){if(t!==Tn)return!1;if(!st)return K0(t),st=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||_d(t.type,t.memoizedProps)),a=!a),a&&Rt&&yr(t),K0(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Rt=xy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Rt=xy(t)}else n===27?(n=Rt,Dr(t.type)?(t=Td,Td=null,Rt=t):Rt=n):Rt=Tn?Di(t.stateNode.nextSibling):null;return!0}function pa(){Rt=Tn=null,st=!1}function th(){var t=pr;return t!==null&&(si===null?si=t:si.push.apply(si,t),pr=null),t}function al(t){pr===null?pr=[t]:pr.push(t)}var nh=V(null),ya=null,Ds=null;function _r(t,n,a){ue(nh,n._currentValue),n._currentValue=a}function Ms(t){t._currentValue=nh.current,J(nh)}function ih(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function sh(t,n,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var x=f.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=f;for(var I=0;I<n.length;I++)if(v.context===n[I]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),ih(d.return,a,t),l||(x=null);break e}d=v.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(s(341));x.lanes|=a,d=x.alternate,d!==null&&(d.lanes|=a),ih(x,a,t),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function to(t,n,a,l){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var v=f.type;ui(f.pendingProps.value,x.value)||(t!==null?t.push(v):t=[v])}}else if(f===Ge.current){if(x=f.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}f=f.return}t!==null&&sh(n,t,a,l),n.flags|=262144}function Pc(t){for(t=t.firstContext;t!==null;){if(!ui(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _a(t){ya=t,Ds=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Sn(t){return $0(ya,t)}function zc(t,n){return ya===null&&_a(t),$0(t,n)}function $0(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ds===null){if(t===null)throw Error(s(308));Ds=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ds=Ds.next=n;return a}var Dv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Mv=r.unstable_scheduleCallback,Ov=r.unstable_NormalPriority,Wt={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rh(){return{controller:new Dv,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&Mv(Ov,function(){t.controller.abort()})}var ll=null,ah=0,no=0,io=null;function Vv(t,n){if(ll===null){var a=ll=[];ah=0,no=cd(),io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ah++,n.then(X0,X0),n}function X0(){if(--ah===0&&ll!==null){io!==null&&(io.status="fulfilled");var t=ll;ll=null,no=0,io=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function kv(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Z0=Q.S;Q.S=function(t,n){Vp=_n(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Vv(t,n),Z0!==null&&Z0(t,n)};var xa=V(null);function oh(){var t=xa.current;return t!==null?t:Tt.pooledCache}function Bc(t,n){n===null?ue(xa,xa.current):ue(xa,n.pool)}function J0(){var t=oh();return t===null?null:{parent:Wt._currentValue,pool:t}}var so=Error(s(460)),lh=Error(s(474)),qc=Error(s(542)),Hc={then:function(){}};function W0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function eg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(de,de),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t;default:if(typeof n.status=="string")n.then(de,de);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ng(t),t}throw va=n,so}}function ba(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(va=a,so):a}}var va=null;function tg(){if(va===null)throw Error(s(459));var t=va;return va=null,t}function ng(t){if(t===so||t===qc)throw Error(s(483))}var ro=null,cl=0;function Fc(t){var n=cl;return cl+=1,ro===null&&(ro=[]),eg(ro,t,n)}function ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gc(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ig(t){function n(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Cs(L,O),L.index=0,L.sibling=null,L}function d(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function x(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function v(L,O,B,X){return O===null||O.tag!==6?(O=Xf(B,L.mode,X),O.return=L,O):(O=f(O,B),O.return=L,O)}function I(L,O,B,X){var Ae=B.type;return Ae===$?K(L,O,B.props.children,X,B.key):O!==null&&(O.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===w&&ba(Ae)===O.type)?(O=f(O,B.props),ul(O,B),O.return=L,O):(O=Lc(B.type,B.key,B.props,null,L.mode,X),ul(O,B),O.return=L,O)}function q(L,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Zf(B,L.mode,X),O.return=L,O):(O=f(O,B.children||[]),O.return=L,O)}function K(L,O,B,X,Ae){return O===null||O.tag!==7?(O=ga(B,L.mode,X,Ae),O.return=L,O):(O=f(O,B),O.return=L,O)}function ee(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Xf(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return B=Lc(O.type,O.key,O.props,null,L.mode,B),ul(B,O),B.return=L,B;case Z:return O=Zf(O,L.mode,B),O.return=L,O;case w:return O=ba(O),ee(L,O,B)}if(Dt(O)||j(O))return O=ga(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return ee(L,Fc(O),B);if(O.$$typeof===ye)return ee(L,zc(L,O),B);Gc(L,O)}return null}function H(L,O,B,X){var Ae=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Ae!==null?null:v(L,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return B.key===Ae?I(L,O,B,X):null;case Z:return B.key===Ae?q(L,O,B,X):null;case w:return B=ba(B),H(L,O,B,X)}if(Dt(B)||j(B))return Ae!==null?null:K(L,O,B,X,null);if(typeof B.then=="function")return H(L,O,Fc(B),X);if(B.$$typeof===ye)return H(L,O,zc(L,B),X);Gc(L,B)}return null}function G(L,O,B,X,Ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,v(O,L,""+X,Ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return L=L.get(X.key===null?B:X.key)||null,I(O,L,X,Ae);case Z:return L=L.get(X.key===null?B:X.key)||null,q(O,L,X,Ae);case w:return X=ba(X),G(L,O,B,X,Ae)}if(Dt(X)||j(X))return L=L.get(B)||null,K(O,L,X,Ae,null);if(typeof X.then=="function")return G(L,O,B,Fc(X),Ae);if(X.$$typeof===ye)return G(L,O,B,zc(O,X),Ae);Gc(O,X)}return null}function xe(L,O,B,X){for(var Ae=null,ct=null,ve=O,He=O=0,We=null;ve!==null&&He<B.length;He++){ve.index>He?(We=ve,ve=null):We=ve.sibling;var ut=H(L,ve,B[He],X);if(ut===null){ve===null&&(ve=We);break}t&&ve&&ut.alternate===null&&n(L,ve),O=d(ut,O,He),ct===null?Ae=ut:ct.sibling=ut,ct=ut,ve=We}if(He===B.length)return a(L,ve),st&&Is(L,He),Ae;if(ve===null){for(;He<B.length;He++)ve=ee(L,B[He],X),ve!==null&&(O=d(ve,O,He),ct===null?Ae=ve:ct.sibling=ve,ct=ve);return st&&Is(L,He),Ae}for(ve=l(ve);He<B.length;He++)We=G(ve,L,He,B[He],X),We!==null&&(t&&We.alternate!==null&&ve.delete(We.key===null?He:We.key),O=d(We,O,He),ct===null?Ae=We:ct.sibling=We,ct=We);return t&&ve.forEach(function(jr){return n(L,jr)}),st&&Is(L,He),Ae}function Ie(L,O,B,X){if(B==null)throw Error(s(151));for(var Ae=null,ct=null,ve=O,He=O=0,We=null,ut=B.next();ve!==null&&!ut.done;He++,ut=B.next()){ve.index>He?(We=ve,ve=null):We=ve.sibling;var jr=H(L,ve,ut.value,X);if(jr===null){ve===null&&(ve=We);break}t&&ve&&jr.alternate===null&&n(L,ve),O=d(jr,O,He),ct===null?Ae=jr:ct.sibling=jr,ct=jr,ve=We}if(ut.done)return a(L,ve),st&&Is(L,He),Ae;if(ve===null){for(;!ut.done;He++,ut=B.next())ut=ee(L,ut.value,X),ut!==null&&(O=d(ut,O,He),ct===null?Ae=ut:ct.sibling=ut,ct=ut);return st&&Is(L,He),Ae}for(ve=l(ve);!ut.done;He++,ut=B.next())ut=G(ve,L,He,ut.value,X),ut!==null&&(t&&ut.alternate!==null&&ve.delete(ut.key===null?He:ut.key),O=d(ut,O,He),ct===null?Ae=ut:ct.sibling=ut,ct=ut);return t&&ve.forEach(function(Y2){return n(L,Y2)}),st&&Is(L,He),Ae}function bt(L,O,B,X){if(typeof B=="object"&&B!==null&&B.type===$&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case P:e:{for(var Ae=B.key;O!==null;){if(O.key===Ae){if(Ae=B.type,Ae===$){if(O.tag===7){a(L,O.sibling),X=f(O,B.props.children),X.return=L,L=X;break e}}else if(O.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===w&&ba(Ae)===O.type){a(L,O.sibling),X=f(O,B.props),ul(X,B),X.return=L,L=X;break e}a(L,O);break}else n(L,O);O=O.sibling}B.type===$?(X=ga(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=Lc(B.type,B.key,B.props,null,L.mode,X),ul(X,B),X.return=L,L=X)}return x(L);case Z:e:{for(Ae=B.key;O!==null;){if(O.key===Ae)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),X=f(O,B.children||[]),X.return=L,L=X;break e}else{a(L,O);break}else n(L,O);O=O.sibling}X=Zf(B,L.mode,X),X.return=L,L=X}return x(L);case w:return B=ba(B),bt(L,O,B,X)}if(Dt(B))return xe(L,O,B,X);if(j(B)){if(Ae=j(B),typeof Ae!="function")throw Error(s(150));return B=Ae.call(B),Ie(L,O,B,X)}if(typeof B.then=="function")return bt(L,O,Fc(B),X);if(B.$$typeof===ye)return bt(L,O,zc(L,B),X);Gc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),X=f(O,B),X.return=L,L=X):(a(L,O),X=Xf(B,L.mode,X),X.return=L,L=X),x(L)):a(L,O)}return function(L,O,B,X){try{cl=0;var Ae=bt(L,O,B,X);return ro=null,Ae}catch(ve){if(ve===so||ve===qc)throw ve;var ct=fi(29,ve,null,L.mode);return ct.lanes=X,ct.return=L,ct}finally{}}}var Ea=ig(!0),sg=ig(!1),xr=!1;function ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=jc(t),B0(t,null,a),n}return kc(t,l,n,a),jc(t)}function fl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,oi(t,a)}}function fh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=x:d=d.next=x,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var hh=!1;function hl(){if(hh){var t=io;if(t!==null)throw t}}function dl(t,n,a,l){hh=!1;var f=t.updateQueue;xr=!1;var d=f.firstBaseUpdate,x=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var I=v,q=I.next;I.next=null,x===null?d=q:x.next=q,x=I;var K=t.alternate;K!==null&&(K=K.updateQueue,v=K.lastBaseUpdate,v!==x&&(v===null?K.firstBaseUpdate=q:v.next=q,K.lastBaseUpdate=I))}if(d!==null){var ee=f.baseState;x=0,K=q=I=null,v=d;do{var H=v.lane&-536870913,G=H!==v.lane;if(G?(Je&H)===H:(l&H)===H){H!==0&&H===no&&(hh=!0),K!==null&&(K=K.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var xe=t,Ie=v;H=n;var bt=a;switch(Ie.tag){case 1:if(xe=Ie.payload,typeof xe=="function"){ee=xe.call(bt,ee,H);break e}ee=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ie.payload,H=typeof xe=="function"?xe.call(bt,ee,H):xe,H==null)break e;ee=S({},ee,H);break e;case 2:xr=!0}}H=v.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:v.tag,payload:v.payload,callback:v.callback,next:null},K===null?(q=K=G,I=ee):K=K.next=G,x|=H;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;G=v,v=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);K===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Ar|=x,t.lanes=x,t.memoizedState=ee}}function rg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ag(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)rg(a[t],n)}var ao=V(null),Yc=V(0);function og(t,n){t=Bs,ue(Yc,t),ue(ao,n),Bs=t|n.baseLanes}function dh(){ue(Yc,Bs),ue(ao,ao.current)}function mh(){Bs=Yc.current,J(ao),J(Yc)}var hi=V(null),Ii=null;function Er(t){var n=t.alternate;ue(Qt,Qt.current&1),ue(hi,t),Ii===null&&(n===null||ao.current!==null||n.memoizedState!==null)&&(Ii=t)}function gh(t){ue(Qt,Qt.current),ue(hi,t),Ii===null&&(Ii=t)}function lg(t){t.tag===22?(ue(Qt,Qt.current),ue(hi,t),Ii===null&&(Ii=t)):Tr()}function Tr(){ue(Qt,Qt.current),ue(hi,hi.current)}function di(t){J(hi),Ii===t&&(Ii=null),J(Qt)}var Qt=V(0);function Qc(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Ed(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Os=0,Be=null,_t=null,en=null,Kc=!1,oo=!1,Ta=!1,$c=0,ml=0,lo=null,jv=0;function Ht(){throw Error(s(321))}function ph(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ui(t[a],n[a]))return!1;return!0}function yh(t,n,a,l,f,d){return Os=d,Be=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Gg:Mh,Ta=!1,d=a(l,f),Ta=!1,oo&&(d=ug(n,a,l,f)),cg(t),d}function cg(t){Q.H=yl;var n=_t!==null&&_t.next!==null;if(Os=0,en=_t=Be=null,Kc=!1,ml=0,lo=null,n)throw Error(s(300));t===null||tn||(t=t.dependencies,t!==null&&Pc(t)&&(tn=!0))}function ug(t,n,a,l){Be=t;var f=0;do{if(oo&&(lo=null),ml=0,oo=!1,25<=f)throw Error(s(301));if(f+=1,en=_t=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Yg,d=n(a,l)}while(oo);return d}function Lv(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(Be.flags|=1024),n}function _h(){var t=$c!==0;return $c=0,t}function xh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function bh(t){if(Kc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Kc=!1}Os=0,en=_t=Be=null,oo=!1,ml=$c=0,lo=null}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Be.memoizedState=en=t:en=en.next=t,en}function Kt(){if(_t===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var n=en===null?Be.memoizedState:en.next;if(n!==null)en=n,_t=t;else{if(t===null)throw Be.alternate===null?Error(s(467)):Error(s(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},en===null?Be.memoizedState=en=t:en=en.next=t}return en}function Xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,lo===null&&(lo=[]),t=eg(lo,t,n),n=Be,(en===null?n.memoizedState:en.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Gg:Mh),t}function Zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ye)return Sn(t)}throw Error(s(438,String(t)))}function vh(t){var n=null,a=Be.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xc(),Be.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=k;return n.index++,a}function Vs(t,n){return typeof n=="function"?n(t):n}function Jc(t){var n=Kt();return Eh(n,_t,t)}function Eh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var x=f.next;f.next=d.next,d.next=x}n.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var v=x=null,I=null,q=n,K=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Je&ee)===ee:(Os&ee)===ee){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===no&&(K=!0);else if((Os&H)===H){q=q.next,H===no&&(K=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(v=I=ee,x=d):I=I.next=ee,Be.lanes|=H,Ar|=H;ee=q.action,Ta&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else H={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(v=I=H,x=d):I=I.next=H,Be.lanes|=ee,Ar|=ee;q=q.next}while(q!==null&&q!==n);if(I===null?x=d:I.next=v,!ui(d,t.memoizedState)&&(tn=!0,K&&(a=io,a!==null)))throw a;t.memoizedState=d,t.baseState=x,t.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Th(t){var n=Kt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do d=t(d,x.action),x=x.next;while(x!==f);ui(d,n.memoizedState)||(tn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function fg(t,n,a){var l=Be,f=Kt(),d=st;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var x=!ui((_t||f).memoizedState,a);if(x&&(f.memoizedState=a,tn=!0),f=f.queue,Ah(mg.bind(null,l,f,t),[t]),f.getSnapshot!==n||x||en!==null&&en.memoizedState.tag&1){if(l.flags|=2048,co(9,{destroy:void 0},dg.bind(null,l,f,a,n),null),Tt===null)throw Error(s(349));d||(Os&127)!==0||hg(l,n,a)}return a}function hg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Be.updateQueue,n===null?(n=Xc(),Be.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function dg(t,n,a,l){n.value=a,n.getSnapshot=l,gg(n)&&pg(t)}function mg(t,n,a){return a(function(){gg(n)&&pg(t)})}function gg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ui(t,a)}catch{return!0}}function pg(t){var n=ma(t,2);n!==null&&ri(n,t,2)}function Sh(t){var n=Qn();if(typeof t=="function"){var a=t;if(t=a(),Ta){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:t},n}function yg(t,n,a,l){return t.baseState=a,Eh(t,_t,typeof l=="function"?l:Vs)}function Uv(t,n,a,l,f){if(tu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){d.listeners.push(x)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,_g(n,d)):(d.next=a.next,n.pending=a.next=d)}}function _g(t,n){var a=n.action,l=n.payload,f=t.state;if(n.isTransition){var d=Q.T,x={};Q.T=x;try{var v=a(f,l),I=Q.S;I!==null&&I(x,v),xg(t,n,v)}catch(q){wh(t,n,q)}finally{d!==null&&x.types!==null&&(d.types=x.types),Q.T=d}}else try{d=a(f,l),xg(t,n,d)}catch(q){wh(t,n,q)}}function xg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bg(t,n,l)},function(l){return wh(t,n,l)}):bg(t,n,a)}function bg(t,n,a){n.status="fulfilled",n.value=a,vg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,_g(t,a)))}function wh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,vg(n),n=n.next;while(n!==l)}t.action=null}function vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Eg(t,n){return n}function Tg(t,n){if(st){var a=Tt.formState;if(a!==null){e:{var l=Be;if(st){if(Rt){t:{for(var f=Rt,d=Ci;f.nodeType!==8;){if(!d){f=null;break t}if(f=Di(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Rt=Di(f.nextSibling),l=f.data==="F!";break e}}yr(l)}l=!1}l&&(n=a[0])}}return a=Qn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},a.queue=l,a=qg.bind(null,Be,l),l.dispatch=a,l=Sh(!1),d=Dh.bind(null,Be,!1,l.queue),l=Qn(),f={state:n,dispatch:null,action:t,pending:null},l.queue=f,a=Uv.bind(null,Be,f,d,a),f.dispatch=a,l.memoizedState=t,[n,a,!1]}function Sg(t){var n=Kt();return wg(n,_t,t)}function wg(t,n,a){if(n=Eh(t,n,Eg)[0],t=Jc(Vs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(x){throw x===so?qc:x}else l=n;n=Kt();var f=n.queue,d=f.dispatch;return a!==n.memoizedState&&(Be.flags|=2048,co(9,{destroy:void 0},Pv.bind(null,f,a),null)),[l,d,t]}function Pv(t,n){t.action=n}function Ag(t){var n=Kt(),a=_t;if(a!==null)return wg(n,a,t);Kt(),n=n.memoizedState,a=Kt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function co(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Be.updateQueue,n===null&&(n=Xc(),Be.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ng(){return Kt().memoizedState}function Wc(t,n,a,l){var f=Qn();Be.flags|=t,f.memoizedState=co(1|n,{destroy:void 0},a,l===void 0?null:l)}function eu(t,n,a,l){var f=Kt();l=l===void 0?null:l;var d=f.memoizedState.inst;_t!==null&&l!==null&&ph(l,_t.memoizedState.deps)?f.memoizedState=co(n,d,a,l):(Be.flags|=t,f.memoizedState=co(1|n,d,a,l))}function Rg(t,n){Wc(8390656,8,t,n)}function Ah(t,n){eu(2048,8,t,n)}function zv(t){Be.flags|=4;var n=Be.updateQueue;if(n===null)n=Xc(),Be.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Cg(t){var n=Kt().memoizedState;return zv({ref:n,nextImpl:t}),function(){if((dt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Ig(t,n){return eu(4,2,t,n)}function Dg(t,n){return eu(4,4,t,n)}function Mg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Og(t,n,a){a=a!=null?a.concat([t]):null,eu(4,4,Mg.bind(null,n,t),a)}function Nh(){}function Vg(t,n){var a=Kt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ph(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function kg(t,n){var a=Kt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ph(n,l[1]))return l[0];if(l=t(),Ta){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l}function Rh(t,n,a){return a===void 0||(Os&1073741824)!==0&&(Je&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=jp(),Be.lanes|=t,Ar|=t,a)}function jg(t,n,a,l){return ui(a,n)?a:ao.current!==null?(t=Rh(t,a,l),ui(t,n)||(tn=!0),t):(Os&42)===0||(Os&1073741824)!==0&&(Je&261930)===0?(tn=!0,t.memoizedState=a):(t=jp(),Be.lanes|=t,Ar|=t,n)}function Lg(t,n,a,l,f){var d=z.p;z.p=d!==0&&8>d?d:8;var x=Q.T,v={};Q.T=v,Dh(t,!1,n,a);try{var I=f(),q=Q.S;if(q!==null&&q(v,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=kv(I,l);pl(t,n,K,pi(t))}else pl(t,n,l,pi(t))}catch(ee){pl(t,n,{then:function(){},status:"rejected",reason:ee},pi())}finally{z.p=d,x!==null&&v.types!==null&&(x.types=v.types),Q.T=x}}function Bv(){}function Ch(t,n,a,l){if(t.tag!==5)throw Error(s(476));var f=Ug(t).queue;Lg(t,f,n,le,a===null?Bv:function(){return Pg(t),a(l)})}function Ug(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:le},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pg(t){var n=Ug(t);n.next===null&&(n=t.alternate.memoizedState),pl(t,n.next.queue,{},pi())}function Ih(){return Sn(Ol)}function zg(){return Kt().memoizedState}function Bg(){return Kt().memoizedState}function qv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=pi();t=br(a);var l=vr(n,t,a);l!==null&&(ri(l,n,a),fl(l,n,a)),n={cache:rh()},t.payload=n;return}n=n.return}}function Hv(t,n,a){var l=pi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tu(t)?Hg(n,a):(a=Kf(t,n,a,l),a!==null&&(ri(a,t,l),Fg(a,n,l)))}function qg(t,n,a){var l=pi();pl(t,n,a,l)}function pl(t,n,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tu(t))Hg(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var x=n.lastRenderedState,v=d(x,a);if(f.hasEagerState=!0,f.eagerState=v,ui(v,x))return kc(t,n,f,0),Tt===null&&Vc(),!1}catch{}finally{}if(a=Kf(t,n,f,l),a!==null)return ri(a,t,l),Fg(a,n,l),!0}return!1}function Dh(t,n,a,l){if(l={lane:2,revertLane:cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tu(t)){if(n)throw Error(s(479))}else n=Kf(t,a,l,2),n!==null&&ri(n,t,2)}function tu(t){var n=t.alternate;return t===Be||n!==null&&n===Be}function Hg(t,n){oo=Kc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Fg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,oi(t,a)}}var yl={readContext:Sn,use:Zc,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};yl.useEffectEvent=Ht;var Gg={readContext:Sn,use:Zc,useCallback:function(t,n){return Qn().memoizedState=[t,n===void 0?null:n],t},useContext:Sn,useEffect:Rg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Wc(4194308,4,Mg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Wc(4194308,4,t,n)},useInsertionEffect:function(t,n){Wc(4,2,t,n)},useMemo:function(t,n){var a=Qn();n=n===void 0?null:n;var l=t();if(Ta){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Qn();if(a!==void 0){var f=a(n);if(Ta){xn(!0);try{a(n)}finally{xn(!1)}}}else f=n;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Hv.bind(null,Be,t),[l.memoizedState,t]},useRef:function(t){var n=Qn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sh(t);var n=t.queue,a=qg.bind(null,Be,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Nh,useDeferredValue:function(t,n){var a=Qn();return Rh(a,t,n)},useTransition:function(){var t=Sh(!1);return t=Lg.bind(null,Be,t.queue,!0,!1),Qn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Be,f=Qn();if(st){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Tt===null)throw Error(s(349));(Je&127)!==0||hg(l,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,Rg(mg.bind(null,l,d,t),[t]),l.flags|=2048,co(9,{destroy:void 0},dg.bind(null,l,d,a,n),null),a},useId:function(){var t=Qn(),n=Tt.identifierPrefix;if(st){var a=fs,l=us;a=(l&~(1<<32-rt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$c++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=jv++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:Tg,useActionState:Tg,useOptimistic:function(t){var n=Qn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Dh.bind(null,Be,!0,a),a.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return Qn().memoizedState=qv.bind(null,Be)},useEffectEvent:function(t){var n=Qn(),a={impl:t};return n.memoizedState=a,function(){if((dt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Mh={readContext:Sn,use:Zc,useCallback:Vg,useContext:Sn,useEffect:Ah,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Dg,useMemo:kg,useReducer:Jc,useRef:Ng,useState:function(){return Jc(Vs)},useDebugValue:Nh,useDeferredValue:function(t,n){var a=Kt();return jg(a,_t.memoizedState,t,n)},useTransition:function(){var t=Jc(Vs)[0],n=Kt().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:fg,useId:zg,useHostTransitionStatus:Ih,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var a=Kt();return yg(a,_t,t,n)},useMemoCache:vh,useCacheRefresh:Bg};Mh.useEffectEvent=Cg;var Yg={readContext:Sn,use:Zc,useCallback:Vg,useContext:Sn,useEffect:Ah,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Dg,useMemo:kg,useReducer:Th,useRef:Ng,useState:function(){return Th(Vs)},useDebugValue:Nh,useDeferredValue:function(t,n){var a=Kt();return _t===null?Rh(a,t,n):jg(a,_t.memoizedState,t,n)},useTransition:function(){var t=Th(Vs)[0],n=Kt().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:fg,useId:zg,useHostTransitionStatus:Ih,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var a=Kt();return _t!==null?yg(a,_t,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vh,useCacheRefresh:Bg};Yg.useEffectEvent=Cg;function Oh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=pi(),f=br(l);f.payload=n,a!=null&&(f.callback=a),n=vr(t,f,l),n!==null&&(ri(n,t,l),fl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=pi(),f=br(l);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=vr(t,f,l),n!==null&&(ri(n,t,l),fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=pi(),l=br(a);l.tag=2,n!=null&&(l.callback=n),n=vr(t,l,a),n!==null&&(ri(n,t,a),fl(n,t,a))}};function Qg(t,n,a,l,f,d,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,x):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(f,d):!0}function Kg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Vh.enqueueReplaceState(n,n.state,null)}function Sa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function $g(t){Oc(t)}function Xg(t){console.error(t)}function Zg(t){Oc(t)}function nu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kh(t,n,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){nu(t,n)},a}function Wg(t){return t=br(t),t.tag=3,t}function ep(t,n,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Jg(n,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){Jg(n,a,l),typeof f!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function Fv(t,n,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&to(n,a,f,!0),a=hi.current,a!==null){switch(a.tag){case 31:case 13:return Ii===null?mu():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Hc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ad(t,l,f)),!1;case 22:return a.flags|=65536,l===Hc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ad(t,l,f)),!1}throw Error(s(435,a.tag))}return ad(t,l,f),mu(),!1}if(st)return n=hi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==eh&&(t=Error(s(422),{cause:l}),al(Ai(t,a)))):(l!==eh&&(n=Error(s(423),{cause:l}),al(Ai(n,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ai(l,a),f=kh(t.stateNode,l,f),fh(t,f),Ft!==4&&(Ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Ai(d,a),wl===null?wl=[d]:wl.push(d),Ft!==4&&(Ft=2),n===null)return!0;l=Ai(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=kh(a.stateNode,l,t),fh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wg(f),ep(f,t,a,l),fh(a,f),!1}a=a.return}while(a!==null);return!1}var jh=Error(s(461)),tn=!1;function wn(t,n,a,l){n.child=t===null?sg(n,null,a,l):Ea(n,t.child,a,l)}function tp(t,n,a,l,f){a=a.render;var d=n.ref;if("ref"in l){var x={};for(var v in l)v!=="ref"&&(x[v]=l[v])}else x=l;return _a(n),l=yh(t,n,a,x,d,f),v=_h(),t!==null&&!tn?(xh(t,n,f),ks(t,n,f)):(st&&v&&Jf(n),n.flags|=1,wn(t,n,l,f),n.child)}function np(t,n,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,ip(t,n,d,l,f)):(t=Lc(a.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Fh(t,f)){var x=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(x,l)&&t.ref===n.ref)return ks(t,n,f)}return n.flags|=1,t=Cs(d,l),t.ref=n.ref,t.return=n,n.child=t}function ip(t,n,a,l,f){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===n.ref)if(tn=!1,n.pendingProps=l=d,Fh(t,f))(t.flags&131072)!==0&&(tn=!0);else return n.lanes=t.lanes,ks(t,n,f)}return Lh(t,n,a,l,f)}function sp(t,n,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=n.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,n.child=null;return rp(t,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bc(n,d!==null?d.cachePool:null),d!==null?og(n,d):dh(),lg(n);else return l=n.lanes=536870912,rp(t,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Bc(n,d.cachePool),og(n,d),Tr(),n.memoizedState=null):(t!==null&&Bc(n,null),dh(),Tr());return wn(t,n,f,a),n.child}function _l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function rp(t,n,a,l,f){var d=oh();return d=d===null?null:{parent:Wt._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&Bc(n,null),dh(),lg(n),t!==null&&to(t,n,l,!0),n.childLanes=f,null}function iu(t,n){return n=ru({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ap(t,n,a){return Ea(n,t.child,null,a),t=iu(n,n.pendingProps),t.flags|=2,di(n),n.memoizedState=null,t}function Gv(t,n,a){var l=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(st){if(l.mode==="hidden")return t=iu(n,l),n.lanes=536870912,_l(null,t);if(gh(n),(t=Rt)?(t=_y(t,Ci),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:gr!==null?{id:us,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},a=H0(t),a.return=n,n.child=a,Tn=n,Rt=null)):t=null,t===null)throw yr(n);return n.lanes=536870912,null}return iu(n,l)}var d=t.memoizedState;if(d!==null){var x=d.dehydrated;if(gh(n),f)if(n.flags&256)n.flags&=-257,n=ap(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(tn||to(t,n,a,!1),f=(a&t.childLanes)!==0,tn||f){if(l=Tt,l!==null&&(x=li(l,a),x!==0&&x!==d.retryLane))throw d.retryLane=x,ma(t,x),ri(l,t,x),jh;mu(),n=ap(t,n,a)}else t=d.treeContext,Rt=Di(x.nextSibling),Tn=n,st=!0,pr=null,Ci=!1,t!==null&&Y0(n,t),n=iu(n,l),n.flags|=4096;return n}return t=Cs(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function su(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Lh(t,n,a,l,f){return _a(n),a=yh(t,n,a,l,void 0,f),l=_h(),t!==null&&!tn?(xh(t,n,f),ks(t,n,f)):(st&&l&&Jf(n),n.flags|=1,wn(t,n,a,f),n.child)}function op(t,n,a,l,f,d){return _a(n),n.updateQueue=null,a=ug(n,l,a,f),cg(t),l=_h(),t!==null&&!tn?(xh(t,n,d),ks(t,n,d)):(st&&l&&Jf(n),n.flags|=1,wn(t,n,a,d),n.child)}function lp(t,n,a,l,f){if(_a(n),n.stateNode===null){var d=Za,x=a.contextType;typeof x=="object"&&x!==null&&(d=Sn(x)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},ch(n),x=a.contextType,d.context=typeof x=="object"&&x!==null?Sn(x):Za,d.state=n.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Oh(n,a,x,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(x=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),x!==d.state&&Vh.enqueueReplaceState(d,d.state,null),dl(n,l,d,f),hl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var v=n.memoizedProps,I=Sa(a,v);d.props=I;var q=d.context,K=a.contextType;x=Za,typeof K=="object"&&K!==null&&(x=Sn(K));var ee=a.getDerivedStateFromProps;K=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||q!==x)&&Kg(n,d,l,x),xr=!1;var H=n.memoizedState;d.state=H,dl(n,l,d,f),hl(),q=n.memoizedState,v||H!==q||xr?(typeof ee=="function"&&(Oh(n,a,ee,l),q=n.memoizedState),(I=xr||Qg(n,a,I,l,H,q,x))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),d.props=l,d.state=q,d.context=x,l=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,uh(t,n),x=n.memoizedProps,K=Sa(a,x),d.props=K,ee=n.pendingProps,H=d.context,q=a.contextType,I=Za,typeof q=="object"&&q!==null&&(I=Sn(q)),v=a.getDerivedStateFromProps,(q=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==ee||H!==I)&&Kg(n,d,l,I),xr=!1,H=n.memoizedState,d.state=H,dl(n,l,d,f),hl();var G=n.memoizedState;x!==ee||H!==G||xr||t!==null&&t.dependencies!==null&&Pc(t.dependencies)?(typeof v=="function"&&(Oh(n,a,v,l),G=n.memoizedState),(K=xr||Qg(n,a,K,l,H,G,I)||t!==null&&t.dependencies!==null&&Pc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,su(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Ea(n,t.child,null,f),n.child=Ea(n,null,a,f)):wn(t,n,a,f),n.memoizedState=d.state,t=n.child):t=ks(t,n,f),t}function cp(t,n,a,l){return pa(),n.flags|=256,wn(t,n,a,l),n.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(t){return{baseLanes:t,cachePool:J0()}}function zh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=gi),t}function up(t,n,a){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,x;if((x=d)||(x=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),x&&(f=!0,n.flags&=-129),x=(n.flags&32)!==0,n.flags&=-33,t===null){if(st){if(f?Er(n):Tr(),(t=Rt)?(t=_y(t,Ci),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:gr!==null?{id:us,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},a=H0(t),a.return=n,n.child=a,Tn=n,Rt=null)):t=null,t===null)throw yr(n);return Ed(t)?n.lanes=32:n.lanes=536870912,null}var v=l.children;return l=l.fallback,f?(Tr(),f=n.mode,v=ru({mode:"hidden",children:v},f),l=ga(l,f,a,null),v.return=n,l.return=n,v.sibling=l,n.child=v,l=n.child,l.memoizedState=Ph(a),l.childLanes=zh(t,x,a),n.memoizedState=Uh,_l(null,l)):(Er(n),Bh(n,v))}var I=t.memoizedState;if(I!==null&&(v=I.dehydrated,v!==null)){if(d)n.flags&256?(Er(n),n.flags&=-257,n=qh(t,n,a)):n.memoizedState!==null?(Tr(),n.child=t.child,n.flags|=128,n=null):(Tr(),v=l.fallback,f=n.mode,l=ru({mode:"visible",children:l.children},f),v=ga(v,f,a,null),v.flags|=2,l.return=n,v.return=n,l.sibling=v,n.child=l,Ea(n,t.child,null,a),l=n.child,l.memoizedState=Ph(a),l.childLanes=zh(t,x,a),n.memoizedState=Uh,n=_l(null,l));else if(Er(n),Ed(v)){if(x=v.nextSibling&&v.nextSibling.dataset,x)var q=x.dgst;x=q,l=Error(s(419)),l.stack="",l.digest=x,al({value:l,source:null,stack:null}),n=qh(t,n,a)}else if(tn||to(t,n,a,!1),x=(a&t.childLanes)!==0,tn||x){if(x=Tt,x!==null&&(l=li(x,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,ma(t,l),ri(x,t,l),jh;vd(v)||mu(),n=qh(t,n,a)}else vd(v)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,Rt=Di(v.nextSibling),Tn=n,st=!0,pr=null,Ci=!1,t!==null&&Y0(n,t),n=Bh(n,l.children),n.flags|=4096);return n}return f?(Tr(),v=l.fallback,f=n.mode,I=t.child,q=I.sibling,l=Cs(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?v=Cs(q,v):(v=ga(v,f,a,null),v.flags|=2),v.return=n,l.return=n,l.sibling=v,n.child=l,_l(null,l),l=n.child,v=t.child.memoizedState,v===null?v=Ph(a):(f=v.cachePool,f!==null?(I=Wt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=J0(),v={baseLanes:v.baseLanes|a,cachePool:f}),l.memoizedState=v,l.childLanes=zh(t,x,a),n.memoizedState=Uh,_l(t.child,l)):(Er(n),a=t.child,t=a.sibling,a=Cs(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(x=n.deletions,x===null?(n.deletions=[t],n.flags|=16):x.push(t)),n.child=a,n.memoizedState=null,a)}function Bh(t,n){return n=ru({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ru(t,n){return t=fi(22,t,null,n),t.lanes=0,t}function qh(t,n,a){return Ea(n,t.child,null,a),t=Bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ih(t.return,n,a)}function Hh(t,n,a,l,f,d){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(x.isBackwards=n,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=f,x.treeForkCount=d)}function hp(t,n,a){var l=n.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var x=Qt.current,v=(x&2)!==0;if(v?(x=x&1|2,n.flags|=128):x&=1,ue(Qt,x),wn(t,n,l,a),l=st?rl:0,!v&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fp(t,a,n);else if(t.tag===19)fp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=n.child,f=null;a!==null;)t=a.alternate,t!==null&&Qc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Hh(n,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Qc(t)===null){n.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Hh(n,!0,a,null,d,l);break;case"together":Hh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ks(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ar|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(to(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Cs(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Cs(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Fh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pc(t)))}function Yv(t,n,a){switch(n.tag){case 3:Mt(n,n.stateNode.containerInfo),_r(n,Wt,t.memoizedState.cache),pa();break;case 27:case 5:ji(n);break;case 4:Mt(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(n),n.flags|=128,null):(a&n.child.childLanes)!==0?up(t,n,a):(Er(n),t=ks(t,n,a),t!==null?t.sibling:null);Er(n);break;case 19:var f=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(to(t,n,a,!1),l=(a&n.childLanes)!==0),f){if(l)return hp(t,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Qt,Qt.current),l)break;return null;case 22:return n.lanes=0,sp(t,n,a,n.pendingProps);case 24:_r(n,Wt,t.memoizedState.cache)}return ks(t,n,a)}function dp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)tn=!0;else{if(!Fh(t,a)&&(n.flags&128)===0)return tn=!1,Yv(t,n,a);tn=(t.flags&131072)!==0}else tn=!1,st&&(n.flags&1048576)!==0&&G0(n,rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ba(n.elementType),n.type=t,typeof t=="function")$f(t)?(l=Sa(t,l),n.tag=1,n=lp(null,n,t,l,a)):(n.tag=0,n=Lh(null,n,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===Fe){n.tag=11,n=tp(null,n,t,l,a);break e}else if(f===R){n.tag=14,n=np(null,n,t,l,a);break e}}throw n=$e(t)||t,Error(s(306,n,""))}}return n;case 0:return Lh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,f=Sa(l,n.pendingProps),lp(t,n,l,f,a);case 3:e:{if(Mt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,uh(t,n),dl(n,l,null,a);var x=n.memoizedState;if(l=x.cache,_r(n,Wt,l),l!==d.cache&&sh(n,[Wt],a,!0),hl(),l=x.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:x.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=cp(t,n,l,a);break e}else if(l!==f){f=Ai(Error(s(424)),n),al(f),n=cp(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Rt=Di(t.firstChild),Tn=n,st=!0,pr=null,Ci=!0,a=sg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pa(),l===f){n=ks(t,n,a);break e}wn(t,n,l,a)}n=n.child}return n;case 26:return su(t,n),t===null?(a=Sy(n.type,null,n.pendingProps,null))?n.memoizedState=a:st||(a=n.type,t=n.pendingProps,l=vu(Re.current).createElement(a),l[Ot]=n,l[Ke]=t,An(l,a,t),Vt(l),n.stateNode=l):n.memoizedState=Sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ji(n),t===null&&st&&(l=n.stateNode=vy(n.type,n.pendingProps,Re.current),Tn=n,Ci=!0,f=Rt,Dr(n.type)?(Td=f,Rt=Di(l.firstChild)):Rt=f),wn(t,n,n.pendingProps.children,a),su(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&st&&((f=l=Rt)&&(l=E2(l,n.type,n.pendingProps,Ci),l!==null?(n.stateNode=l,Tn=n,Rt=Di(l.firstChild),Ci=!1,f=!0):f=!1),f||yr(n)),ji(n),f=n.type,d=n.pendingProps,x=t!==null?t.memoizedProps:null,l=d.children,_d(f,d)?l=null:x!==null&&_d(f,x)&&(n.flags|=32),n.memoizedState!==null&&(f=yh(t,n,Lv,null,null,a),Ol._currentValue=f),su(t,n),wn(t,n,l,a),n.child;case 6:return t===null&&st&&((t=a=Rt)&&(a=T2(a,n.pendingProps,Ci),a!==null?(n.stateNode=a,Tn=n,Rt=null,t=!0):t=!1),t||yr(n)),null;case 13:return up(t,n,a);case 4:return Mt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ea(n,null,l,a):wn(t,n,l,a),n.child;case 11:return tp(t,n,n.type,n.pendingProps,a);case 7:return wn(t,n,n.pendingProps,a),n.child;case 8:return wn(t,n,n.pendingProps.children,a),n.child;case 12:return wn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,_r(n,n.type,l.value),wn(t,n,l.children,a),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,_a(n),f=Sn(f),l=l(f),n.flags|=1,wn(t,n,l,a),n.child;case 14:return np(t,n,n.type,n.pendingProps,a);case 15:return ip(t,n,n.type,n.pendingProps,a);case 19:return hp(t,n,a);case 31:return Gv(t,n,a);case 22:return sp(t,n,a,n.pendingProps);case 24:return _a(n),l=Sn(Wt),t===null?(f=oh(),f===null&&(f=Tt,d=rh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:l,cache:f},ch(n),_r(n,Wt,f)):((t.lanes&a)!==0&&(uh(t,n),dl(n,null,null,a),hl()),f=t.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),_r(n,Wt,l)):(l=d.cache,_r(n,Wt,l),l!==f.cache&&sh(n,[Wt],a,!0))),wn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function js(t){t.flags|=4}function Gh(t,n,a,l,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(zp())t.flags|=8192;else throw va=Hc,lh}else t.flags&=-16777217}function mp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cy(n))if(zp())t.flags|=8192;else throw va=Hc,lh}function au(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Jn():536870912,t.lanes|=n,mo|=n)}function xl(t,n){if(!st)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Qv(t,n,a){var l=n.pendingProps;switch(Wf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(n),null;case 1:return Ct(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ms(Wt),mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(eo(n)?js(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,th())),Ct(n),null;case 26:var f=n.type,d=n.memoizedState;return t===null?(js(n),d!==null?(Ct(n),mp(n,d)):(Ct(n),Gh(n,f,null,l,a))):d?d!==t.memoizedState?(js(n),Ct(n),mp(n,d)):(Ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&js(n),Ct(n),Gh(n,f,t,l,a)),null;case 27:if(Kn(n),a=Re.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&js(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ct(n),null}t=pe.current,eo(n)?Q0(n):(t=vy(f,l,a),n.stateNode=t,js(n))}return Ct(n),null;case 5:if(Kn(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&js(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ct(n),null}if(d=pe.current,eo(n))Q0(n);else{var x=vu(Re.current);switch(d){case 1:d=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=x.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?x.createElement(f,{is:l.is}):x.createElement(f)}}d[Ot]=n,d[Ke]=l;e:for(x=n.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===n)break e;for(;x.sibling===null;){if(x.return===null||x.return===n)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}n.stateNode=d;e:switch(An(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&js(n)}}return Ct(n),Gh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&js(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Re.current,eo(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,f=Tn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ot]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uy(t.nodeValue,a)),t||yr(n,!0)}else t=vu(t).createTextNode(l),t[Ot]=n,n.stateNode=t}return Ct(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=eo(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ot]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ct(n),t=!1}else a=th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(di(n),n):(di(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ct(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=eo(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ot]=n}else pa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ct(n),f=!1}else f=th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(di(n),n):(di(n),null)}return di(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),au(n,n.updateQueue),Ct(n),null);case 4:return mt(),t===null&&dd(n.stateNode.containerInfo),Ct(n),null;case 10:return Ms(n.type),Ct(n),null;case 19:if(J(Qt),l=n.memoizedState,l===null)return Ct(n),null;if(f=(n.flags&128)!==0,d=l.rendering,d===null)if(f)xl(l,!1);else{if(Ft!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Qc(t),d!==null){for(n.flags|=128,xl(l,!1),t=d.updateQueue,n.updateQueue=t,au(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)q0(a,t),a=a.sibling;return ue(Qt,Qt.current&1|2),st&&Is(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&_n()>fu&&(n.flags|=128,f=!0,xl(l,!1),n.lanes=4194304)}else{if(!f)if(t=Qc(d),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,au(n,t),xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!st)return Ct(n),null}else 2*_n()-l.renderingStartTime>fu&&a!==536870912&&(n.flags|=128,f=!0,xl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=_n(),t.sibling=null,a=Qt.current,ue(Qt,f?a&1|2:a&1),st&&Is(n,l.treeForkCount),t):(Ct(n),null);case 22:case 23:return di(n),mh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ct(n),n.subtreeFlags&6&&(n.flags|=8192)):Ct(n),a=n.updateQueue,a!==null&&au(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&J(xa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ms(Wt),Ct(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Kv(t,n){switch(Wf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ms(Wt),mt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Kn(n),null;case 31:if(n.memoizedState!==null){if(di(n),n.alternate===null)throw Error(s(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(di(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(Qt),null;case 4:return mt(),null;case 10:return Ms(n.type),null;case 22:case 23:return di(n),mh(),t!==null&&J(xa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ms(Wt),null;case 25:return null;default:return null}}function gp(t,n){switch(Wf(n),n.tag){case 3:Ms(Wt),mt();break;case 26:case 27:case 5:Kn(n);break;case 4:mt();break;case 31:n.memoizedState!==null&&di(n);break;case 13:di(n);break;case 19:J(Qt);break;case 10:Ms(n.type);break;case 22:case 23:di(n),mh(),t!==null&&J(xa);break;case 24:Ms(Wt)}}function bl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,x=a.inst;l=d(),x.destroy=l}a=a.next}while(a!==f)}}catch(v){yt(n,n.return,v)}}function Sr(t,n,a){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var x=l.inst,v=x.destroy;if(v!==void 0){x.destroy=void 0,f=n;var I=a,q=v;try{q()}catch(K){yt(f,I,K)}}}l=l.next}while(l!==d)}}catch(K){yt(n,n.return,K)}}function pp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ag(n,a)}catch(l){yt(t,t.return,l)}}}function yp(t,n,a){a.props=Sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){yt(t,n,l)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){yt(t,n,f)}}function hs(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){yt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){yt(t,n,f)}else a.current=null}function _p(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){yt(t,t.return,f)}}function Yh(t,n,a){try{var l=t.stateNode;p2(l,t.type,a,n),l[Ke]=n}catch(f){yt(t,t.return,f)}}function xp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Dr(t.type)||t.tag===4}function Qh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=de));else if(l!==4&&(l===27&&Dr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Kh(t,n,a),t=t.sibling;t!==null;)Kh(t,n,a),t=t.sibling}function ou(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ou(t,n,a),t=t.sibling;t!==null;)ou(t,n,a),t=t.sibling}function bp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);An(n,l,a),n[Ot]=t,n[Ke]=a}catch(d){yt(t,t.return,d)}}var Ls=!1,nn=!1,$h=!1,vp=typeof WeakSet=="function"?WeakSet:Set,mn=null;function $v(t,n){if(t=t.containerInfo,pd=Ru,t=O0(t),qf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var x=0,v=-1,I=-1,q=0,K=0,ee=t,H=null;t:for(;;){for(var G;ee!==a||f!==0&&ee.nodeType!==3||(v=x+f),ee!==d||l!==0&&ee.nodeType!==3||(I=x+l),ee.nodeType===3&&(x+=ee.nodeValue.length),(G=ee.firstChild)!==null;)H=ee,ee=G;for(;;){if(ee===t)break t;if(H===a&&++q===f&&(v=x),H===d&&++K===l&&(I=x),(G=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=G}a=v===-1||I===-1?null:{start:v,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:t,selectionRange:a},Ru=!1,mn=n;mn!==null;)if(n=mn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,mn=t;else for(;mn!==null;){switch(n=mn,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var xe=Sa(a.type,f);t=l.getSnapshotBeforeUpdate(xe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ie){yt(a,a.return,Ie)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,mn=t;break}mn=n.return}}function Ep(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ps(t,a),l&4&&bl(5,a);break;case 1:if(Ps(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(x){yt(a,a.return,x)}else{var f=Sa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(x){yt(a,a.return,x)}}l&64&&pp(a),l&512&&vl(a,a.return);break;case 3:if(Ps(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ag(t,n)}catch(x){yt(a,a.return,x)}}break;case 27:n===null&&l&4&&bp(a);case 26:case 5:Ps(t,a),n===null&&l&4&&_p(a),l&512&&vl(a,a.return);break;case 12:Ps(t,a);break;case 31:Ps(t,a),l&4&&wp(t,a);break;case 13:Ps(t,a),l&4&&Ap(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=s2.bind(null,a),S2(t,a))));break;case 22:if(l=a.memoizedState!==null||Ls,!l){n=n!==null&&n.memoizedState!==null||nn,f=Ls;var d=nn;Ls=l,(nn=n)&&!d?zs(t,a,(a.subtreeFlags&8772)!==0):Ps(t,a),Ls=f,nn=d}break;case 30:break;default:Ps(t,a)}}function Tp(t){var n=t.alternate;n!==null&&(t.alternate=null,Tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&lr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Lt=null,ti=!1;function Us(t,n,a){for(a=a.child;a!==null;)Sp(t,n,a),a=a.sibling}function Sp(t,n,a){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:nn||hs(a,n),Us(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nn||hs(a,n);var l=Lt,f=ti;Dr(a.type)&&(Lt=a.stateNode,ti=!1),Us(t,n,a),Il(a.stateNode),Lt=l,ti=f;break;case 5:nn||hs(a,n);case 6:if(l=Lt,f=ti,Lt=null,Us(t,n,a),Lt=l,ti=f,Lt!==null)if(ti)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(a.stateNode)}catch(d){yt(a,n,d)}else try{Lt.removeChild(a.stateNode)}catch(d){yt(a,n,d)}break;case 18:Lt!==null&&(ti?(t=Lt,py(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Eo(t)):py(Lt,a.stateNode));break;case 4:l=Lt,f=ti,Lt=a.stateNode.containerInfo,ti=!0,Us(t,n,a),Lt=l,ti=f;break;case 0:case 11:case 14:case 15:Sr(2,a,n),nn||Sr(4,a,n),Us(t,n,a);break;case 1:nn||(hs(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yp(a,n,l)),Us(t,n,a);break;case 21:Us(t,n,a);break;case 22:nn=(l=nn)||a.memoizedState!==null,Us(t,n,a),nn=l;break;default:Us(t,n,a)}}function wp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Eo(t)}catch(a){yt(n,n.return,a)}}}function Ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Eo(t)}catch(a){yt(n,n.return,a)}}function Xv(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vp),n;default:throw Error(s(435,t.tag))}}function lu(t,n){var a=Xv(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var f=r2.bind(null,t,l);l.then(f,f)}})}function ni(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,x=n,v=x;e:for(;v!==null;){switch(v.tag){case 27:if(Dr(v.type)){Lt=v.stateNode,ti=!1;break e}break;case 5:Lt=v.stateNode,ti=!1;break e;case 3:case 4:Lt=v.stateNode.containerInfo,ti=!0;break e}v=v.return}if(Lt===null)throw Error(s(160));Sp(d,x,f),Lt=null,ti=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Np(n,t),n=n.sibling}var Qi=null;function Np(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ni(n,t),ii(t),l&4&&(Sr(3,t,t.return),bl(3,t),Sr(5,t,t.return));break;case 1:ni(n,t),ii(t),l&512&&(nn||a===null||hs(a,a.return)),l&64&&Ls&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Qi;if(ni(n,t),ii(t),l&512&&(nn||a===null||hs(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[xi]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),An(d,l,a),d[Ot]=t,Vt(d),l=d;break e;case"link":var x=Ny("link","href",f).get(l+(a.href||""));if(x){for(var v=0;v<x.length;v++)if(d=x[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(v,1);break t}}d=f.createElement(l),An(d,l,a),f.head.appendChild(d);break;case"meta":if(x=Ny("meta","content",f).get(l+(a.content||""))){for(v=0;v<x.length;v++)if(d=x[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(v,1);break t}}d=f.createElement(l),An(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ot]=t,Vt(d),l=d}t.stateNode=l}else Ry(f,t.type,t.stateNode);else t.stateNode=Ay(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ry(f,t.type,t.stateNode):Ay(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yh(t,t.memoizedProps,a.memoizedProps)}break;case 27:ni(n,t),ii(t),l&512&&(nn||a===null||hs(a,a.return)),a!==null&&l&4&&Yh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ni(n,t),ii(t),l&512&&(nn||a===null||hs(a,a.return)),t.flags&32){f=t.stateNode;try{fe(f,"")}catch(xe){yt(t,t.return,xe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Yh(t,f,a!==null?a.memoizedProps:f)),l&1024&&($h=!0);break;case 6:if(ni(n,t),ii(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(xe){yt(t,t.return,xe)}}break;case 3:if(Su=null,f=Qi,Qi=Eu(n.containerInfo),ni(n,t),Qi=f,ii(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Eo(n.containerInfo)}catch(xe){yt(t,t.return,xe)}$h&&($h=!1,Rp(t));break;case 4:l=Qi,Qi=Eu(t.stateNode.containerInfo),ni(n,t),ii(t),Qi=l;break;case 12:ni(n,t),ii(t);break;case 31:ni(n,t),ii(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lu(t,l)));break;case 13:ni(n,t),ii(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uu=_n()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lu(t,l)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Ls,K=nn;if(Ls=q||f,nn=K||I,ni(n,t),nn=K,Ls=q,ii(t),l&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||I||Ls||nn||wa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(d=I.stateNode,f)x=d.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{v=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;v.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(xe){yt(I,I.return,xe)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(xe){yt(I,I.return,xe)}}}else if(n.tag===18){if(a===null){I=n;try{var G=I.stateNode;f?yy(G,!0):yy(I.stateNode,!1)}catch(xe){yt(I,I.return,xe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lu(t,a))));break;case 19:ni(n,t),ii(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lu(t,l)));break;case 30:break;case 21:break;default:ni(n,t),ii(t)}}function ii(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(xp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Qh(t);ou(t,d,f);break;case 5:var x=a.stateNode;a.flags&32&&(fe(x,""),a.flags&=-33);var v=Qh(t);ou(t,v,x);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Qh(t);Kh(t,q,I);break;default:throw Error(s(161))}}catch(K){yt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ps(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ep(t,n.alternate,n),n=n.sibling}function wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Sr(4,n,n.return),wa(n);break;case 1:hs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&yp(n,n.return,a),wa(n);break;case 27:Il(n.stateNode);case 26:case 5:hs(n,n.return),wa(n);break;case 22:n.memoizedState===null&&wa(n);break;case 30:wa(n);break;default:wa(n)}t=t.sibling}}function zs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=t,d=n,x=d.flags;switch(d.tag){case 0:case 11:case 15:zs(f,d,a),bl(4,d);break;case 1:if(zs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){yt(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var v=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)rg(I[f],v)}catch(q){yt(l,l.return,q)}}a&&x&64&&pp(d),vl(d,d.return);break;case 27:bp(d);case 26:case 5:zs(f,d,a),a&&l===null&&x&4&&_p(d),vl(d,d.return);break;case 12:zs(f,d,a);break;case 31:zs(f,d,a),a&&x&4&&wp(f,d);break;case 13:zs(f,d,a),a&&x&4&&Ap(f,d);break;case 22:d.memoizedState===null&&zs(f,d,a),vl(d,d.return);break;case 30:break;default:zs(f,d,a)}n=n.sibling}}function Xh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Zh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t))}function Ki(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cp(t,n,a,l),n=n.sibling}function Cp(t,n,a,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ki(t,n,a,l),f&2048&&bl(9,n);break;case 1:Ki(t,n,a,l);break;case 3:Ki(t,n,a,l),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t)));break;case 12:if(f&2048){Ki(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,x=d.id,v=d.onPostCommit;typeof v=="function"&&v(x,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){yt(n,n.return,I)}}else Ki(t,n,a,l);break;case 31:Ki(t,n,a,l);break;case 13:Ki(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,x=n.alternate,n.memoizedState!==null?d._visibility&2?Ki(t,n,a,l):El(t,n):d._visibility&2?Ki(t,n,a,l):(d._visibility|=2,uo(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Xh(x,n);break;case 24:Ki(t,n,a,l),f&2048&&Zh(n.alternate,n);break;default:Ki(t,n,a,l)}}function uo(t,n,a,l,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,x=n,v=a,I=l,q=x.flags;switch(x.tag){case 0:case 11:case 15:uo(d,x,v,I,f),bl(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?uo(d,x,v,I,f):El(d,x):(K._visibility|=2,uo(d,x,v,I,f)),f&&q&2048&&Xh(x.alternate,x);break;case 24:uo(d,x,v,I,f),f&&q&2048&&Zh(x.alternate,x);break;default:uo(d,x,v,I,f)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,f=l.flags;switch(l.tag){case 22:El(a,l),f&2048&&Xh(l.alternate,l);break;case 24:El(a,l),f&2048&&Zh(l.alternate,l);break;default:El(a,l)}n=n.sibling}}var Tl=8192;function fo(t,n,a){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Ip(t,n,a),t=t.sibling}function Ip(t,n,a){switch(t.tag){case 26:fo(t,n,a),t.flags&Tl&&t.memoizedState!==null&&j2(a,Qi,t.memoizedState,t.memoizedProps);break;case 5:fo(t,n,a);break;case 3:case 4:var l=Qi;Qi=Eu(t.stateNode.containerInfo),fo(t,n,a),Qi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,fo(t,n,a),Tl=l):fo(t,n,a));break;default:fo(t,n,a)}}function Dp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];mn=l,Op(l,t)}Dp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mp(t),t=t.sibling}function Mp(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Sr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,cu(t)):Sl(t);break;default:Sl(t)}}function cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];mn=l,Op(l,t)}Dp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Sr(8,n,n.return),cu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,cu(n));break;default:cu(n)}t=t.sibling}}function Op(t,n){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:Sr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,mn=l;else e:for(a=t;mn!==null;){l=mn;var f=l.sibling,d=l.return;if(Tp(l),l===a){mn=null;break e}if(f!==null){f.return=d,mn=f;break e}mn=d}}}var Zv={getCacheForType:function(t){var n=Sn(Wt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Sn(Wt).controller.signal}},Jv=typeof WeakMap=="function"?WeakMap:Map,dt=0,Tt=null,Xe=null,Je=0,pt=0,mi=null,wr=!1,ho=!1,Jh=!1,Bs=0,Ft=0,Ar=0,Aa=0,Wh=0,gi=0,mo=0,wl=null,si=null,ed=!1,uu=0,Vp=0,fu=1/0,hu=null,Nr=null,un=0,Rr=null,go=null,qs=0,td=0,nd=null,kp=null,Al=0,id=null;function pi(){return(dt&2)!==0&&Je!==0?Je&-Je:Q.T!==null?cd():ns()}function jp(){if(gi===0)if((Je&536870912)===0||st){var t=Pi;Pi<<=1,(Pi&3932160)===0&&(Pi=262144),gi=t}else gi=536870912;return t=hi.current,t!==null&&(t.flags|=32),gi}function ri(t,n,a){(t===Tt&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(po(t,0),Cr(t,Je,gi,!1)),_i(t,a),((dt&2)===0||t!==Tt)&&(t===Tt&&((dt&2)===0&&(Aa|=a),Ft===4&&Cr(t,Je,gi,!1)),ds(t))}function Lp(t,n,a){if((dt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),f=l?t2(t,n):rd(t,n,!0),d=l;do{if(f===0){ho&&!l&&Cr(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!Wv(a)){f=rd(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){n=x;e:{var v=t;f=wl;var I=v.current.memoizedState.isDehydrated;if(I&&(po(v,x).flags|=256),x=rd(v,x,!1),x!==2){if(Jh&&!I){v.errorRecoveryDisabledLanes|=d,Aa|=d,f=4;break e}d=si,si=f,d!==null&&(si===null?si=d:si.push.apply(si,d))}f=x}if(d=!1,f!==2)continue}}if(f===1){po(t,0),Cr(t,n,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Cr(l,n,gi,!wr);break e;case 2:si=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=uu+300-_n(),10<f)){if(Cr(l,n,gi,!wr),ln(l,0,!0)!==0)break e;qs=n,l.timeoutHandle=my(Up.bind(null,l,a,si,hu,ed,n,gi,Aa,mo,wr,d,"Throttled",-0,0),f);break e}Up(l,a,si,hu,ed,n,gi,Aa,mo,wr,d,null,-0,0)}}break}while(!0);ds(t)}function Up(t,n,a,l,f,d,x,v,I,q,K,ee,H,G){if(t.timeoutHandle=-1,ee=n.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:de},Ip(n,d,ee);var xe=(d&62914560)===d?uu-_n():(d&4194048)===d?Vp-_n():0;if(xe=L2(ee,xe),xe!==null){qs=d,t.cancelPendingCommit=xe(Yp.bind(null,t,n,d,a,l,f,x,v,I,K,ee,null,H,G)),Cr(t,d,x,!q);return}}Yp(t,n,d,a,l,f,x,v,I)}function Wv(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!ui(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(t,n,a,l){n&=~Wh,n&=~Aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var f=n;0<f;){var d=31-rt(f),x=1<<d;l[d]=-1,f&=~x}a!==0&&zi(t,a,n)}function du(){return(dt&6)===0?(Nl(0),!1):!0}function sd(){if(Xe!==null){if(pt===0)var t=Xe.return;else t=Xe,Ds=ya=null,bh(t),ro=null,cl=0,t=Xe;for(;t!==null;)gp(t.alternate,t),t=t.return;Xe=null}}function po(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,x2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qs=0,sd(),Tt=t,Xe=a=Cs(t.current,null),Je=n,pt=0,mi=null,wr=!1,ho=zn(t,n),Jh=!1,mo=gi=Wh=Aa=Ar=Ft=0,si=wl=null,ed=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var f=31-rt(l),d=1<<f;n|=t[f],l&=~d}return Bs=n,Vc(),a}function Pp(t,n){Be=null,Q.H=yl,n===so||n===qc?(n=tg(),pt=3):n===lh?(n=tg(),pt=4):pt=n===jh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mi=n,Xe===null&&(Ft=1,nu(t,Ai(n,t.current)))}function zp(){var t=hi.current;return t===null?!0:(Je&4194048)===Je?Ii===null:(Je&62914560)===Je||(Je&536870912)!==0?t===Ii:!1}function Bp(){var t=Q.H;return Q.H=yl,t===null?yl:t}function qp(){var t=Q.A;return Q.A=Zv,t}function mu(){Ft=4,wr||(Je&4194048)!==Je&&hi.current!==null||(ho=!0),(Ar&134217727)===0&&(Aa&134217727)===0||Tt===null||Cr(Tt,Je,gi,!1)}function rd(t,n,a){var l=dt;dt|=2;var f=Bp(),d=qp();(Tt!==t||Je!==n)&&(hu=null,po(t,n)),n=!1;var x=Ft;e:do try{if(pt!==0&&Xe!==null){var v=Xe,I=mi;switch(pt){case 8:sd(),x=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(n=!0);var q=pt;if(pt=0,mi=null,yo(t,v,I,q),a&&ho){x=0;break e}break;default:q=pt,pt=0,mi=null,yo(t,v,I,q)}}e2(),x=Ft;break}catch(K){Pp(t,K)}while(!0);return n&&t.shellSuspendCounter++,Ds=ya=null,dt=l,Q.H=f,Q.A=d,Xe===null&&(Tt=null,Je=0,Vc()),x}function e2(){for(;Xe!==null;)Hp(Xe)}function t2(t,n){var a=dt;dt|=2;var l=Bp(),f=qp();Tt!==t||Je!==n?(hu=null,fu=_n()+500,po(t,n)):ho=zn(t,n);e:do try{if(pt!==0&&Xe!==null){n=Xe;var d=mi;t:switch(pt){case 1:pt=0,mi=null,yo(t,n,d,1);break;case 2:case 9:if(W0(d)){pt=0,mi=null,Fp(n);break}n=function(){pt!==2&&pt!==9||Tt!==t||(pt=7),ds(t)},d.then(n,n);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:W0(d)?(pt=0,mi=null,Fp(n)):(pt=0,mi=null,yo(t,n,d,7));break;case 5:var x=null;switch(Xe.tag){case 26:x=Xe.memoizedState;case 5:case 27:var v=Xe;if(x?Cy(x):v.stateNode.complete){pt=0,mi=null;var I=v.sibling;if(I!==null)Xe=I;else{var q=v.return;q!==null?(Xe=q,gu(q)):Xe=null}break t}}pt=0,mi=null,yo(t,n,d,5);break;case 6:pt=0,mi=null,yo(t,n,d,6);break;case 8:sd(),Ft=6;break e;default:throw Error(s(462))}}n2();break}catch(K){Pp(t,K)}while(!0);return Ds=ya=null,Q.H=l,Q.A=f,dt=a,Xe!==null?0:(Tt=null,Je=0,Vc(),Ft)}function n2(){for(;Xe!==null&&!$n();)Hp(Xe)}function Hp(t){var n=dp(t.alternate,t,Bs);t.memoizedProps=t.pendingProps,n===null?gu(t):Xe=n}function Fp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=op(a,n,n.pendingProps,n.type,void 0,Je);break;case 11:n=op(a,n,n.pendingProps,n.type.render,n.ref,Je);break;case 5:bh(n);default:gp(a,n),n=Xe=q0(n,Bs),n=dp(a,n,Bs)}t.memoizedProps=t.pendingProps,n===null?gu(t):Xe=n}function yo(t,n,a,l){Ds=ya=null,bh(n),ro=null,cl=0;var f=n.return;try{if(Fv(t,f,n,a,Je)){Ft=1,nu(t,Ai(a,t.current)),Xe=null;return}}catch(d){if(f!==null)throw Xe=f,d;Ft=1,nu(t,Ai(a,t.current)),Xe=null;return}n.flags&32768?(st||l===1?t=!0:ho||(Je&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=hi.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gp(n,t)):gu(n)}function gu(t){var n=t;do{if((n.flags&32768)!==0){Gp(n,wr);return}t=n.return;var a=Qv(n.alternate,n,Bs);if(a!==null){Xe=a;return}if(n=n.sibling,n!==null){Xe=n;return}Xe=n=t}while(n!==null);Ft===0&&(Ft=5)}function Gp(t,n){do{var a=Kv(t.alternate,t);if(a!==null){a.flags&=32767,Xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=a}while(t!==null);Ft=6,Xe=null}function Yp(t,n,a,l,f,d,x,v,I){t.cancelPendingCommit=null;do pu();while(un!==0);if((dt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Qf,or(t,a,d,x,v,I),t===Tt&&(Xe=Tt=null,Je=0),go=n,Rr=t,qs=a,td=d,nd=f,kp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,a2(yi,function(){return Zp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=z.p,z.p=2,x=dt,dt|=4;try{$v(t,n,a)}finally{dt=x,z.p=f,Q.T=l}}un=1,Qp(),Kp(),$p()}}function Qp(){if(un===1){un=0;var t=Rr,n=go,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=z.p;z.p=2;var f=dt;dt|=4;try{Np(n,t);var d=yd,x=O0(t.containerInfo),v=d.focusedElem,I=d.selectionRange;if(x!==v&&v&&v.ownerDocument&&M0(v.ownerDocument.documentElement,v)){if(I!==null&&qf(v)){var q=I.start,K=I.end;if(K===void 0&&(K=q),"selectionStart"in v)v.selectionStart=q,v.selectionEnd=Math.min(K,v.value.length);else{var ee=v.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var G=H.getSelection(),xe=v.textContent.length,Ie=Math.min(I.start,xe),bt=I.end===void 0?Ie:Math.min(I.end,xe);!G.extend&&Ie>bt&&(x=bt,bt=Ie,Ie=x);var L=D0(v,Ie),O=D0(v,bt);if(L&&O&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),Ie>bt?(G.addRange(B),G.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),G.addRange(B))}}}}for(ee=[],G=v;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<ee.length;v++){var X=ee[v];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ru=!!pd,yd=pd=null}finally{dt=f,z.p=l,Q.T=a}}t.current=n,un=2}}function Kp(){if(un===2){un=0;var t=Rr,n=go,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=z.p;z.p=2;var f=dt;dt|=4;try{Ep(t,n.alternate,n)}finally{dt=f,z.p=l,Q.T=a}}un=3}}function $p(){if(un===4||un===3){un=0,sr();var t=Rr,n=go,a=qs,l=kp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?un=5:(un=0,go=Rr=null,Xp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Nr=null),Wn(a),n=n.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,f=z.p,z.p=2,Q.T=null;try{for(var d=t.onRecoverableError,x=0;x<l.length;x++){var v=l[x];d(v.value,{componentStack:v.stack})}}finally{Q.T=n,z.p=f}}(qs&3)!==0&&pu(),ds(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===id?Al++:(Al=0,id=t):Al=0,Nl(0)}}function Xp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ol(n)))}function pu(){return Qp(),Kp(),$p(),Zp()}function Zp(){if(un!==5)return!1;var t=Rr,n=td;td=0;var a=Wn(qs),l=Q.T,f=z.p;try{z.p=32>a?32:a,Q.T=null,a=nd,nd=null;var d=Rr,x=qs;if(un=0,go=Rr=null,qs=0,(dt&6)!==0)throw Error(s(331));var v=dt;if(dt|=4,Mp(d.current),Cp(d,d.current,x,a),dt=v,Nl(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Pn,d)}catch{}return!0}finally{z.p=f,Q.T=l,Xp(t,n)}}function Jp(t,n,a){n=Ai(a,n),n=kh(t.stateNode,n,2),t=vr(t,n,2),t!==null&&(_i(t,2),ds(t))}function yt(t,n,a){if(t.tag===3)Jp(t,t,a);else for(;n!==null;){if(n.tag===3){Jp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){t=Ai(a,t),a=Wg(2),l=vr(n,a,2),l!==null&&(ep(a,l,n,t),_i(l,2),ds(l));break}}n=n.return}}function ad(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Jv;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(a)||(Jh=!0,f.add(a),t=i2.bind(null,t,n,a),n.then(t,t))}function i2(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Tt===t&&(Je&a)===a&&(Ft===4||Ft===3&&(Je&62914560)===Je&&300>_n()-uu?(dt&2)===0&&po(t,0):Wh|=a,mo===Je&&(mo=0)),ds(t)}function Wp(t,n){n===0&&(n=Jn()),t=ma(t,n),t!==null&&(_i(t,n),ds(t))}function s2(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Wp(t,a)}function r2(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Wp(t,a)}function a2(t,n){return ft(t,n)}var yu=null,_o=null,od=!1,_u=!1,ld=!1,Ir=0;function ds(t){t!==_o&&t.next===null&&(_o===null?yu=_o=t:_o=_o.next=t),_u=!0,od||(od=!0,l2())}function Nl(t,n){if(!ld&&_u){ld=!0;do for(var a=!1,l=yu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var x=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-rt(42|t)+1)-1,d&=f&~(x&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,iy(l,d))}else d=Je,d=ln(l,l===Tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||zn(l,d)||(a=!0,iy(l,d));l=l.next}while(a);ld=!1}}function o2(){ey()}function ey(){_u=od=!1;var t=0;Ir!==0&&_2()&&(t=Ir);for(var n=_n(),a=null,l=yu;l!==null;){var f=l.next,d=ty(l,n);d===0?(l.next=null,a===null?yu=f:a.next=f,f===null&&(_o=a)):(a=l,(t!==0||(d&3)!==0)&&(_u=!0)),l=f}un!==0&&un!==5||Nl(t),Ir!==0&&(Ir=0)}function ty(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var x=31-rt(d),v=1<<x,I=f[x];I===-1?((v&a)===0||(v&l)!==0)&&(f[x]=cn(v,n)):I<=n&&(t.expiredLanes|=v),d&=~v}if(n=Tt,a=Je,a=ln(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Wi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Wi(l),Wn(a)){case 2:case 8:a=Ui;break;case 32:a=yi;break;case 268435456:a=Ts;break;default:a=yi}return l=ny.bind(null,t),a=ft(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Wi(l),t.callbackPriority=2,t.callbackNode=null,2}function ny(t,n){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pu()&&t.callbackNode!==a)return null;var l=Je;return l=ln(t,t===Tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Lp(t,l,n),ty(t,_n()),t.callbackNode!=null&&t.callbackNode===a?ny.bind(null,t):null)}function iy(t,n){if(pu())return null;Lp(t,n,!0)}function l2(){b2(function(){(dt&6)!==0?ft(Li,o2):ey()})}function cd(){if(Ir===0){var t=no;t===0&&(t=on,on<<=1,(on&261888)===0&&(on=256)),Ir=t}return Ir}function sy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:be(""+t)}function ry(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function c2(t,n,a,l,f){if(n==="submit"&&a&&a.stateNode===f){var d=sy((f[Ke]||null).action),x=l.submitter;x&&(n=(n=x[Ke]||null)?sy(n.formAction):x.getAttribute("formAction"),n!==null&&(d=n,x=null));var v=new as("action","action",null,l,f);t.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ir!==0){var I=x?ry(f,x):new FormData(f);Ch(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(v.preventDefault(),I=x?ry(f,x):new FormData(f),Ch(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var ud=0;ud<Yf.length;ud++){var fd=Yf[ud],u2=fd.toLowerCase(),f2=fd[0].toUpperCase()+fd.slice(1);Yi(u2,"on"+f2)}Yi(j0,"onAnimationEnd"),Yi(L0,"onAnimationIteration"),Yi(U0,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(Nv,"onTransitionRun"),Yi(Rv,"onTransitionStart"),Yi(Cv,"onTransitionCancel"),Yi(P0,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),oe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oe("onBeforeInput",["compositionend","keypress","textInput","paste"]),oe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function ay(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var x=l.length-1;0<=x;x--){var v=l[x],I=v.instance,q=v.currentTarget;if(v=v.listener,I!==d&&f.isPropagationStopped())break e;d=v,f.currentTarget=q;try{d(f)}catch(K){Oc(K)}f.currentTarget=null,d=I}else for(x=0;x<l.length;x++){if(v=l[x],I=v.instance,q=v.currentTarget,v=v.listener,I!==d&&f.isPropagationStopped())break e;d=v,f.currentTarget=q;try{d(f)}catch(K){Oc(K)}f.currentTarget=null,d=I}}}}function Ze(t,n){var a=n[Dn];a===void 0&&(a=n[Dn]=new Set);var l=t+"__bubble";a.has(l)||(oy(n,t,2,!1),a.add(l))}function hd(t,n,a){var l=0;n&&(l|=4),oy(a,t,l,n)}var xu="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[xu]){t[xu]=!0,ia.forEach(function(a){a!=="selectionchange"&&(h2.has(a)||hd(a,!1,t),hd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xu]||(n[xu]=!0,hd("selectionchange",!1,n))}}function oy(t,n,a,l){switch(jy(n)){case 2:var f=z2;break;case 8:f=B2;break;default:f=Rd}a=f.bind(null,n,a,t),f=void 0,!Mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,a,{capture:!0,passive:f}):t.addEventListener(n,a,!0):f!==void 0?t.addEventListener(n,a,{passive:f}):t.addEventListener(n,a,!1)}function md(t,n,a,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var v=l.stateNode.containerInfo;if(v===f)break;if(x===4)for(x=l.return;x!==null;){var I=x.tag;if((I===3||I===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;v!==null;){if(x=bi(v),x===null)return;if(I=x.tag,I===5||I===6||I===26||I===27){l=d=x;continue e}v=v.parentNode}}l=l.return}zt(function(){var q=d,K=it(a),ee=[];e:{var H=z0.get(t);if(H!==void 0){var G=as,xe=t;switch(t){case"keypress":if(la(a)===0)break e;case"keydown":case"keyup":G=Ic;break;case"focusin":xe="focus",G=ua;break;case"focusout":xe="blur",G=ua;break;case"beforeblur":case"afterblur":G=ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case j0:case L0:case U0:G=Tc;break;case P0:G=T;break;case"scroll":case"scrollend":G=Jo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Rs;break;case"toggle":case"beforetoggle":G=ze}var Ie=(n&4)!==0,bt=!Ie&&(t==="scroll"||t==="scrollend"),L=Ie?H!==null?H+"Capture":null:H;Ie=[];for(var O=q,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=kt(O,L),X!=null&&Ie.push(Cl(O,X,B))),bt)break;O=O.return}0<Ie.length&&(H=new G(H,xe,null,a,K),ee.push({event:H,listeners:Ie}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==wt&&(xe=a.relatedTarget||a.fromElement)&&(bi(xe)||xe[In]))break e;if((G||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,G?(xe=a.relatedTarget||a.toElement,G=q,xe=xe?bi(xe):null,xe!==null&&(bt=c(xe),Ie=xe.tag,xe!==bt||Ie!==5&&Ie!==27&&Ie!==6)&&(xe=null)):(G=null,xe=q),G!==xe)){if(Ie=Wo,X="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ie=Rs,X="onPointerLeave",L="onPointerEnter",O="pointer"),bt=G==null?H:Hn(G),B=xe==null?H:Hn(xe),H=new Ie(X,O+"leave",G,a,K),H.target=bt,H.relatedTarget=B,X=null,bi(K)===q&&(Ie=new Ie(L,O+"enter",xe,a,K),Ie.target=B,Ie.relatedTarget=bt,X=Ie),bt=X,G&&xe)t:{for(Ie=d2,L=G,O=xe,B=0,X=L;X;X=Ie(X))B++;X=0;for(var Ae=O;Ae;Ae=Ie(Ae))X++;for(;0<B-X;)L=Ie(L),B--;for(;0<X-B;)O=Ie(O),X--;for(;B--;){if(L===O||O!==null&&L===O.alternate){Ie=L;break t}L=Ie(L),O=Ie(O)}Ie=null}else Ie=null;G!==null&&ly(ee,H,G,Ie,!1),xe!==null&&bt!==null&&ly(ee,bt,xe,Ie,!0)}}e:{if(H=q?Hn(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ct=w0;else if(T0(H))if(A0)ct=Sv;else{ct=Ev;var ve=vv}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&ge(q.elementType)&&(ct=w0):ct=Tv;if(ct&&(ct=ct(t,q))){S0(ee,ct,a,K);break e}ve&&ve(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Ss(H,"number",H.value)}switch(ve=q?Hn(q):window,t){case"focusin":(T0(ve)||ve.contentEditable==="true")&&(Ka=ve,Hf=q,sl=null);break;case"focusout":sl=Hf=Ka=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,V0(ee,a,K);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":V0(ee,a,K)}var He;if(ht)e:{switch(t){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Qa?fa(t,a)&&(We="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(We="onCompositionStart");We&&(cs&&a.locale!=="ko"&&(Qa||We!=="onCompositionStart"?We==="onCompositionEnd"&&Qa&&(He=qi()):(ci=K,Ti="value"in ci?ci.value:ci.textContent,Qa=!0)),ve=bu(q,We),0<ve.length&&(We=new ls(We,t,null,a,K),ee.push({event:We,listeners:ve}),He?We.data=He:(He=Ya(a),He!==null&&(We.data=He)))),(He=Si?yv(t,a):_v(t,a))&&(We=bu(q,"onBeforeInput"),0<We.length&&(ve=new ls("onBeforeInput","beforeinput",null,a,K),ee.push({event:ve,listeners:We}),ve.data=He)),c2(ee,t,q,a,K)}ay(ee,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bu(t,n){for(var a=n+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=kt(t,a),f!=null&&l.unshift(Cl(t,f,d)),f=kt(t,n),f!=null&&l.push(Cl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function d2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ly(t,n,a,l,f){for(var d=n._reactName,x=[];a!==null&&a!==l;){var v=a,I=v.alternate,q=v.stateNode;if(v=v.tag,I!==null&&I===l)break;v!==5&&v!==26&&v!==27||q===null||(I=q,f?(q=kt(a,d),q!=null&&x.unshift(Cl(a,q,I))):f||(q=kt(a,d),q!=null&&x.push(Cl(a,q,I)))),a=a.return}x.length!==0&&t.push({event:n,listeners:x})}var m2=/\r\n?/g,g2=/\u0000|\uFFFD/g;function cy(t){return(typeof t=="string"?t:""+t).replace(m2,`
`).replace(g2,"")}function uy(t,n){return n=cy(n),cy(t)===n}function xt(t,n,a,l,f,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fe(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fe(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,a,l);break;case"style":re(t,l,d);break;case"data":if(n!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=be(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&xt(t,n,"name",f.name,f,null),xt(t,n,"formEncType",f.formEncType,f,null),xt(t,n,"formMethod",f.formMethod,f,null),xt(t,n,"formTarget",f.formTarget,f,null)):(xt(t,n,"encType",f.encType,f,null),xt(t,n,"method",f.method,f,null),xt(t,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=be(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=de);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=be(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),ur(t,"popover",l);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Te.get(a)||a,ur(t,a,l))}}function gd(t,n,a,l,f,d){switch(a){case"style":re(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fe(t,l):(typeof l=="number"||typeof l=="bigint")&&fe(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=de);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=t[Ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ur(t,a,l)}}}function An(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var x=a[d];if(x!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:xt(t,n,d,x,a,null)}}f&&xt(t,n,"srcSet",a.srcSet,a,null),l&&xt(t,n,"src",a.src,a,null);return;case"input":Ze("invalid",t);var v=d=x=f=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":x=K;break;case"checked":I=K;break;case"defaultChecked":q=K;break;case"value":d=K;break;case"defaultValue":v=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:xt(t,n,l,K,a,null)}}oa(t,d,v,I,q,x,f,!1);return;case"select":Ze("invalid",t),l=x=d=null;for(f in a)if(a.hasOwnProperty(f)&&(v=a[f],v!=null))switch(f){case"value":d=v;break;case"defaultValue":x=v;break;case"multiple":l=v;default:xt(t,n,f,v,a,null)}n=d,a=x,t.multiple=!!l,n!=null?D(t,!!l,n,!1):a!=null&&D(t,!!l,a,!0);return;case"textarea":Ze("invalid",t),d=f=l=null;for(x in a)if(a.hasOwnProperty(x)&&(v=a[x],v!=null))switch(x){case"value":l=v;break;case"defaultValue":f=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:xt(t,n,x,v,a,null)}W(t,l,f,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:xt(t,n,I,l,a,null)}return;case"dialog":Ze("beforetoggle",t),Ze("toggle",t),Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ze(Rl[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:xt(t,n,q,l,a,null)}return;default:if(ge(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&gd(t,n,K,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&xt(t,n,v,l,a,null))}function p2(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,x=null,v=null,I=null,q=null,K=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(G)||xt(t,n,G,null,l,ee)}}for(var H in l){var G=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(G!=null||ee!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":q=G;break;case"defaultChecked":K=G;break;case"value":x=G;break;case"defaultValue":v=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==ee&&xt(t,n,H,G,l,ee)}}fr(t,x,v,I,q,K,d,f);return;case"select":G=x=v=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||xt(t,n,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":H=d;break;case"defaultValue":v=d;break;case"multiple":x=d;default:d!==I&&xt(t,n,f,d,l,I)}n=v,a=x,l=G,H!=null?D(t,!!a,H,!1):!!l!=!!a&&(n!=null?D(t,!!a,n,!0):D(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(v in a)if(f=a[v],a.hasOwnProperty(v)&&f!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:xt(t,n,v,null,l,f)}for(x in l)if(f=l[x],d=a[x],l.hasOwnProperty(x)&&(f!=null||d!=null))switch(x){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&xt(t,n,x,f,l,d)}Y(t,H,G);return;case"option":for(var xe in a)if(H=a[xe],a.hasOwnProperty(xe)&&H!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:xt(t,n,xe,null,l,H)}for(I in l)if(H=l[I],G=a[I],l.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:xt(t,n,I,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in a)H=a[Ie],a.hasOwnProperty(Ie)&&H!=null&&!l.hasOwnProperty(Ie)&&xt(t,n,Ie,null,l,H);for(q in l)if(H=l[q],G=a[q],l.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:xt(t,n,q,H,l,G)}return;default:if(ge(n)){for(var bt in a)H=a[bt],a.hasOwnProperty(bt)&&H!==void 0&&!l.hasOwnProperty(bt)&&gd(t,n,bt,void 0,l,H);for(K in l)H=l[K],G=a[K],!l.hasOwnProperty(K)||H===G||H===void 0&&G===void 0||gd(t,n,K,H,l,G);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&xt(t,n,L,null,l,H);for(ee in l)H=l[ee],G=a[ee],!l.hasOwnProperty(ee)||H===G||H==null&&G==null||xt(t,n,ee,H,l,G)}function fy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,x=f.initiatorType,v=f.duration;if(d&&v&&fy(x)){for(x=0,v=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],q=I.startTime;if(q>v)break;var K=I.transferSize,ee=I.initiatorType;K&&fy(ee)&&(I=I.responseEnd,x+=K*(I<v?1:(v-q)/(I-q)))}if(--l,n+=8*(d+x)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,yd=null;function vu(t){return t.nodeType===9?t:t.ownerDocument}function hy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xd=null;function _2(){var t=window.event;return t&&t.type==="popstate"?t===xd?!1:(xd=t,!0):(xd=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,x2=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,b2=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(v2)}:my;function v2(t){setTimeout(function(){throw t})}function Dr(t){return t==="head"}function py(t,n){var a=n,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Eo(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var d=a.firstChild;d;){var x=d.nextSibling,v=d.nodeName;d[xi]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=x}}else a==="body"&&Il(t.ownerDocument.body);a=f}while(a);Eo(n)}function yy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function E2(t,n,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Di(t.nextSibling),t===null)break}return null}function T2(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Di(t.nextSibling),t===null))return null;return t}function _y(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Di(t.nextSibling),t===null))return null;return t}function vd(t){return t.data==="$?"||t.data==="$~"}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function S2(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Di(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function xy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Di(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function by(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function vy(t,n,a){switch(n=vu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);lr(t)}var Mi=new Map,Ey=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hs=z.d;z.d={f:w2,r:A2,D:N2,C:R2,L:C2,m:I2,X:M2,S:D2,M:O2};function w2(){var t=Hs.f(),n=du();return t||n}function A2(t){var n=ei(t);n!==null&&n.tag===5&&n.type==="form"?Pg(n):Hs.r(t)}var xo=typeof document>"u"?null:document;function Ty(t,n,a){var l=xo;if(l&&typeof n=="string"&&n){var f=vn(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ey.has(f)||(Ey.add(f),t={rel:t,crossOrigin:a,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),An(n,"link",t),Vt(n),l.head.appendChild(n)))}}function N2(t){Hs.D(t),Ty("dns-prefetch",t,null)}function R2(t,n){Hs.C(t,n),Ty("preconnect",t,n)}function C2(t,n,a){Hs.L(t,n,a);var l=xo;if(l&&t&&n){var f='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+vn(a.imageSizes)+'"]')):f+='[href="'+vn(t)+'"]';var d=f;switch(n){case"style":d=bo(t);break;case"script":d=vo(t)}Mi.has(d)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mi.set(d,t),l.querySelector(f)!==null||n==="style"&&l.querySelector(Dl(d))||n==="script"&&l.querySelector(Ml(d))||(n=l.createElement("link"),An(n,"link",t),Vt(n),l.head.appendChild(n)))}}function I2(t,n){Hs.m(t,n);var a=xo;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(t)}if(!Mi.has(d)&&(t=S({rel:"modulepreload",href:t},n),Mi.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),An(l,"link",t),Vt(l),a.head.appendChild(l)}}}function D2(t,n,a){Hs.S(t,n,a);var l=xo;if(l&&t){var f=vi(l).hoistableStyles,d=bo(t);n=n||"default";var x=f.get(d);if(!x){var v={loading:0,preload:null};if(x=l.querySelector(Dl(d)))v.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mi.get(d))&&Sd(t,a);var I=x=l.createElement("link");Vt(I),An(I,"link",t),I._p=new Promise(function(q,K){I.onload=q,I.onerror=K}),I.addEventListener("load",function(){v.loading|=1}),I.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Tu(x,n,l)}x={type:"stylesheet",instance:x,count:1,state:v},f.set(d,x)}}}function M2(t,n){Hs.X(t,n);var a=xo;if(a&&t){var l=vi(a).hoistableScripts,f=vo(t),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(t=S({src:t,async:!0},n),(n=Mi.get(f))&&wd(t,n),d=a.createElement("script"),Vt(d),An(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function O2(t,n){Hs.M(t,n);var a=xo;if(a&&t){var l=vi(a).hoistableScripts,f=vo(t),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(t=S({src:t,async:!0,type:"module"},n),(n=Mi.get(f))&&wd(t,n),d=a.createElement("script"),Vt(d),An(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Sy(t,n,a,l){var f=(f=Re.current)?Eu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=bo(a.href),a=vi(f).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bo(a.href);var d=vi(f).hoistableStyles,x=d.get(t);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,x),(d=f.querySelector(Dl(t)))&&!d._p&&(x.instance=d,x.state.loading=5),Mi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mi.set(t,a),d||V2(f,t,a,x.state))),n&&l===null)throw Error(s(528,""));return x}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vo(a),a=vi(f).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function bo(t){return'href="'+vn(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function wy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function V2(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),An(n,"link",a),Vt(n),t.head.appendChild(n))}function vo(t){return'[src="'+vn(t)+'"]'}function Ml(t){return"script[async]"+t}function Ay(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return n.instance=l,Vt(l),l;var f=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),An(l,"style",f),Tu(l,a.precedence,t),n.instance=l;case"stylesheet":f=bo(a.href);var d=t.querySelector(Dl(f));if(d)return n.state.loading|=4,n.instance=d,Vt(d),d;l=wy(a),(f=Mi.get(f))&&Sd(l,f),d=(t.ownerDocument||t).createElement("link"),Vt(d);var x=d;return x._p=new Promise(function(v,I){x.onload=v,x.onerror=I}),An(d,"link",l),n.state.loading|=4,Tu(d,a.precedence,t),n.instance=d;case"script":return d=vo(a.src),(f=t.querySelector(Ml(d)))?(n.instance=f,Vt(f),f):(l=a,(f=Mi.get(d))&&(l=S({},a),wd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Vt(f),An(f,"link",l),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Tu(l,a.precedence,t));return n.instance}function Tu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,x=0;x<l.length;x++){var v=l[x];if(v.dataset.precedence===n)d=v;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Su=null;function Ny(t,n,a){if(Su===null){var l=new Map,f=Su=new Map;f.set(a,l)}else f=Su,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[xi]||d[Ot]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var x=d.getAttribute(n)||"";x=t+x;var v=l.get(x);v?v.push(d):l.set(x,[d])}}return l}function Ry(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function k2(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function j2(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=bo(l.href),d=n.querySelector(Dl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,Vt(d);return}d=n.ownerDocument||n,l=wy(l),(f=Mi.get(f))&&Sd(l,f),d=d.createElement("link"),Vt(d);var x=d;x._p=new Promise(function(v,I){x.onload=v,x.onerror=I}),An(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function L2(t,n){return t.stylesheets&&t.count===0&&Nu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Nu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*y2());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function Nu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,n.forEach(U2,t),Au=null,wu.call(t))}function U2(t,n){if(!(n.state.loading&4)){var a=Au.get(t);if(a)var l=a.get(null);else{a=new Map,Au.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var x=f[d];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}f=n.instance,x=f.getAttribute("data-precedence"),d=a.get(x)||l,d===l&&a.set(null,f),a.set(x,f),this.count++,l=wu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:ye,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function P2(t,n,a,l,f,d,x,v,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Iy(t,n,a,l,f,d,x,v,I,q,K,ee){return t=new P2(t,n,a,x,I,q,K,ee,v),n=1,d===!0&&(n|=24),d=fi(3,null,null,n),t.current=d,d.stateNode=t,n=rh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},ch(d),t}function Dy(t){return t?(t=Za,t):Za}function My(t,n,a,l,f,d){f=Dy(f),l.context===null?l.context=f:l.pendingContext=f,l=br(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vr(t,l,n),a!==null&&(ri(a,t,n),fl(a,t,n))}function Oy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Nd(t,n){Oy(t,n),(t=t.alternate)&&Oy(t,n)}function Vy(t){if(t.tag===13||t.tag===31){var n=ma(t,67108864);n!==null&&ri(n,t,67108864),Nd(t,67108864)}}function ky(t){if(t.tag===13||t.tag===31){var n=pi();n=ts(n);var a=ma(t,n);a!==null&&ri(a,t,n),Nd(t,n)}}var Ru=!0;function z2(t,n,a,l){var f=Q.T;Q.T=null;var d=z.p;try{z.p=2,Rd(t,n,a,l)}finally{z.p=d,Q.T=f}}function B2(t,n,a,l){var f=Q.T;Q.T=null;var d=z.p;try{z.p=8,Rd(t,n,a,l)}finally{z.p=d,Q.T=f}}function Rd(t,n,a,l){if(Ru){var f=Cd(l);if(f===null)md(t,n,l,Cu,a),Ly(t,l);else if(H2(f,t,n,a,l))l.stopPropagation();else if(Ly(t,l),n&4&&-1<q2.indexOf(t)){for(;f!==null;){var d=ei(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var x=Zn(d.pendingLanes);if(x!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;x;){var I=1<<31-rt(x);v.entanglements[1]|=I,x&=~I}ds(d),(dt&6)===0&&(fu=_n()+500,Nl(0))}}break;case 31:case 13:v=ma(d,2),v!==null&&ri(v,d,2),du(),Nd(d,2)}if(d=Cd(l),d===null&&md(t,n,l,Cu,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else md(t,n,l,null,a)}}function Cd(t){return t=it(t),Id(t)}var Cu=null;function Id(t){if(Cu=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=h(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cu=t,null}function jy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case Li:return 2;case Ui:return 8;case yi:case za:return 32;case Ts:return 268435456;default:return 32}default:return 32}}var Dd=!1,Mr=null,Or=null,Vr=null,Vl=new Map,kl=new Map,kr=[],q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(t,n){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function jl(t,n,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=ei(n),n!==null&&Vy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function H2(t,n,a,l,f){switch(n){case"focusin":return Mr=jl(Mr,t,n,a,l,f),!0;case"dragenter":return Or=jl(Or,t,n,a,l,f),!0;case"mouseover":return Vr=jl(Vr,t,n,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,jl(Vl.get(d)||null,t,n,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,kl.set(d,jl(kl.get(d)||null,t,n,a,l,f)),!0}return!1}function Uy(t){var n=bi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){t.blockedOn=n,qn(t.priority,function(){ky(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,qn(t.priority,function(){ky(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Cd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wt=l,a.target.dispatchEvent(l),wt=null}else return n=ei(a),n!==null&&Vy(n),t.blockedOn=a,!1;n.shift()}return!0}function Py(t,n,a){Iu(t)&&a.delete(n)}function F2(){Dd=!1,Mr!==null&&Iu(Mr)&&(Mr=null),Or!==null&&Iu(Or)&&(Or=null),Vr!==null&&Iu(Vr)&&(Vr=null),Vl.forEach(Py),kl.forEach(Py)}function Du(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,F2)))}var Mu=null;function zy(t){Mu!==t&&(Mu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],f=t[n+2];if(typeof l!="function"){if(Id(l||a)===null)continue;break}var d=ei(a);d!==null&&(t.splice(n,3),n-=3,Ch(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Eo(t){function n(I){return Du(I,t)}Mr!==null&&Du(Mr,t),Or!==null&&Du(Or,t),Vr!==null&&Du(Vr,t),Vl.forEach(n),kl.forEach(n);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)Uy(a),a.blockedOn===null&&kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],x=f[Ke]||null;if(typeof d=="function")x||zy(a);else if(x){var v=null;if(d&&d.hasAttribute("formAction")){if(f=d,x=d[Ke]||null)v=x.formAction;else if(Id(f)!==null)continue}else v=x.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),zy(a)}}}function By(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Md(t){this._internalRoot=t}Ou.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=pi();My(a,l,t,n,null,null)},Ou.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;My(t.current,2,null,t,null,null),du(),n[In]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=ns();t={blockedOn:null,target:t,priority:n};for(var a=0;a<kr.length&&n!==0&&n<kr[a].priority;a++);kr.splice(a,0,t),a===0&&Uy(t)}};var qy=e.version;if(qy!=="19.2.1")throw Error(s(527,qy,"19.2.1"));z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var G2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Pn=Vu.inject(G2),St=Vu}catch{}}return Ul.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",f=$g,d=Xg,x=Zg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError)),n=Iy(t,1,!1,null,null,a,l,null,f,d,x,By),t[In]=n.current,dd(t),new Md(n)},Ul.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=$g,x=Xg,v=Zg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=Iy(t,1,!0,n,a??null,l,f,I,d,x,v,By),n.context=Dy(null),a=n.current,l=pi(),l=ts(l),f=br(l),f.callback=null,vr(a,f,l),a=l,n.current.lanes=a,_i(n,a),ds(n),t[In]=n.current,dd(t),new Ou(n)},Ul.version="19.2.1",Ul}var Jy;function tE(){if(Jy)return kd.exports;Jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=eE(),kd.exports}var nE=tE();const iE="modulepreload",sE=function(r){return"/hv-scheduler/"+r},Wy={},rE=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let _=function(E){return Promise.all(E.map(S=>Promise.resolve(S).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};var h=_;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=g?.nonce||g?.getAttribute("nonce");o=_(i.map(E=>{if(E=sE(E),E in Wy)return;Wy[E]=!0;const S=E.endsWith(".css"),N=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${N}`))return;const P=document.createElement("link");if(P.rel=S?"stylesheet":iE,S||(P.as="script"),P.crossOrigin="",P.href=E,y&&P.setAttribute("nonce",y),document.head.appendChild(P),S)return new Promise((Z,$)=>{P.addEventListener("load",Z),P.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${E}`)))})}))}function c(g){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=g,window.dispatchEvent(y),!y.defaultPrevented)throw g}return o.then(g=>{for(const y of g||[])y.status==="rejected"&&c(y.reason);return e().catch(c)})};const aE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),e1=r=>{const e=oE(r);return e.charAt(0).toUpperCase()+e.slice(1)},j_=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),lE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uE=ae.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,...g},y)=>ae.createElement("svg",{ref:y,...cE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:j_("lucide",o),...!c&&!lE(g)&&{"aria-hidden":"true"},...g},[...h.map(([_,E])=>ae.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Qe=(r,e)=>{const i=ae.forwardRef(({className:s,...o},c)=>ae.createElement(uE,{ref:c,iconNode:e,className:j_(`lucide-${aE(e1(r))}`,`lucide-${r}`,s),...o}));return i.displayName=e1(r),i};const fE=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],t1=Qe("arrow-down-a-z",fE);const hE=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M15 4h5l-5 6h5",key:"8asdl1"}],["path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20",key:"r6l5cz"}],["path",{d:"M20 18h-5",key:"18j1r2"}]],dE=Qe("arrow-down-z-a",hE);const mE=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],gE=Qe("briefcase",mE);const pE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ju=Qe("calendar",pE);const yE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],L_=Qe("chart-column",yE);const _E=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xE=Qe("check",_E);const bE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Om=Qe("chevron-left",bE);const vE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],U_=Qe("chevron-right",vE);const EE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wu=Qe("circle-alert",EE);const TE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vm=Qe("circle-check-big",TE);const SE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],P_=Qe("clock",SE);const wE=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],AE=Qe("cloud-off",wE);const NE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],RE=Qe("cloud",NE);const CE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Pd=Qe("download",CE);const IE=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],DE=Qe("ellipsis",IE);const ME=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],OE=Qe("eraser",ME);const VE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kE=Qe("eye",VE);const jE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],LE=Qe("file-braces",jE);const UE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PE=Qe("funnel",UE);const zE=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],z_=Qe("inbox",zE);const BE=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],qE=Qe("languages",BE);const HE=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],B_=Qe("layers",HE);const FE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zd=Qe("loader-circle",FE);const GE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tm=Qe("lock",GE);const YE=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],QE=Qe("palette",YE);const KE=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$E=Qe("pen-line",KE);const XE=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],ZE=Qe("plane",XE);const JE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],n1=Qe("plus",JE);const WE=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],eT=Qe("printer",WE);const tT=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],nT=Qe("redo",tT);const iT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nm=Qe("refresh-cw",iT);const sT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q_=Qe("settings",sT);const rT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],H_=Qe("shield-alert",rT);const aT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Co=Qe("shield",aT);const oT=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],lT=Qe("stethoscope",oT);const cT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],F_=Qe("triangle-alert",cT);const uT=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],fT=Qe("undo",uT);const hT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],i1=Qe("upload",hT);const dT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mT=Qe("user-check",dT);const gT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uo=Qe("x",gT),pT=()=>{};var s1={};const G_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},yT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],h=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(h&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],h=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,g=h?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let N=(g&15)<<2|_>>6,P=_&63;y||(P=64,h||(N=64)),s.push(i[E],i[S],i[N],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(G_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||_==null||S==null)throw new _T;const N=c<<2|g>>4;if(s.push(N),_!==64){const P=g<<4&240|_>>2;if(s.push(P),S!==64){const Z=_<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xT=function(r){const e=G_(r);return Y_.encodeByteArray(e,!0)},ef=function(r){return xT(r).replace(/\./g,"")},Q_=function(r){try{return Y_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vT=()=>bT().__FIREBASE_DEFAULTS__,ET=()=>{if(typeof process>"u"||typeof s1>"u")return;const r=s1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Q_(r[1]);return e&&JSON.parse(e)},Tf=()=>{try{return pT()||vT()||ET()||TT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},K_=r=>Tf()?.emulatorHosts?.[r],ST=r=>{const e=K_(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},$_=()=>Tf()?.config,X_=r=>Tf()?.[`_${r}`];class wT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function ka(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function km(r){return(await fetch(r,{credentials:"include"})).ok}function AT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ef(JSON.stringify(i)),ef(JSON.stringify(h)),""].join(".")}const Gl={};function NT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function RT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let r1=!1;function Z_(r,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||Gl[r]===e||Gl[r]||r1)return;Gl[r]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=NT().prod.length>0;function h(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,P){N.setAttribute("width","24"),N.setAttribute("id",P),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{r1=!0,h()},N}function E(N,P){N.setAttribute("id",P),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=RT(s),P=i("text"),Z=document.getElementById(P)||document.createElement("span"),$=i("learnmore"),ie=document.getElementById($)||document.createElement("a"),he=i("preprendIcon"),De=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ye=N.element;g(ye),E(ie,$);const Fe=_();y(De,he),ye.append(De,Z,ie,Fe),document.body.appendChild(ye)}c?(Z.innerText="Preview backend disconnected.",De.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(De.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function IT(){const r=Tf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function OT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VT(){const r=Ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kT(){return!IT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jT(){try{return typeof indexedDB=="object"}catch{return!1}}function LT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const UT="FirebaseError";class er extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=UT,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?PT(c,s):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new er(o,g,s)}}function PT(r,e){return r.replace(zT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zT=/\{\$([^}]+)}/g;function BT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function $r(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],h=e[o];if(a1(c)&&a1(h)){if(!$r(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function a1(r){return r!==null&&typeof r=="object"}function uc(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qT(r,e){const i=new HT(r,e);return i.subscribe.bind(i)}class HT{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let o;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");FT(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:s},o.next===void 0&&(o.next=Bd),o.error===void 0&&(o.error=Bd),o.complete===void 0&&(o.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FT(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Bd(){}function Ji(r){return r&&r._delegate?r._delegate:r}class Da{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Na="[DEFAULT]";class GT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new wT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QT(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&h.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YT(r){return r===Na?void 0:r}function QT(r){return r.instantiationMode==="EAGER"}class KT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new GT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const $T={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},XT=et.INFO,ZT={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},JT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ZT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jm{constructor(e){this.name=e,this._logLevel=XT,this._logHandler=JT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const WT=(r,e)=>e.some(i=>r instanceof i);let o1,l1;function eS(){return o1||(o1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tS(){return l1||(l1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J_=new WeakMap,im=new WeakMap,W_=new WeakMap,qd=new WeakMap,Lm=new WeakMap;function nS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{i(Gr(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&J_.set(i,r)}).catch(()=>{}),Lm.set(e,r),e}function iS(r){if(im.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});im.set(r,e)}let sm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return im.get(r);if(e==="objectStoreNames")return r.objectStoreNames||W_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sS(r){sm=r(sm)}function rS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Hd(this),e,...i);return W_.set(s,e.sort?e.sort():[e]),Gr(s)}:tS().includes(r)?function(...e){return r.apply(Hd(this),e),Gr(J_.get(this))}:function(...e){return Gr(r.apply(Hd(this),e))}}function aS(r){return typeof r=="function"?rS(r):(r instanceof IDBTransaction&&iS(r),WT(r,eS())?new Proxy(r,sm):r)}function Gr(r){if(r instanceof IDBRequest)return nS(r);if(qd.has(r))return qd.get(r);const e=aS(r);return e!==r&&(qd.set(r,e),Lm.set(e,r)),e}const Hd=r=>Lm.get(r);function oS(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),g=Gr(h);return s&&h.addEventListener("upgradeneeded",y=>{s(Gr(h.result),y.oldVersion,y.newVersion,Gr(h.transaction),y)}),i&&h.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const lS=["get","getKey","getAll","getAllKeys","count"],cS=["put","add","delete","clear"],Fd=new Map;function c1(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=cS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||lS.includes(i)))return;const c=async function(h,...g){const y=this.transaction(h,o?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Fd.set(e,c),c}sS(r=>({...r,get:(e,i,s)=>c1(e,i)||r.get(e,i,s),has:(e,i)=>!!c1(e,i)||r.has(e,i)}));class uS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function fS(r){return r.getComponent()?.type==="VERSION"}const rm="@firebase/app",u1="0.14.6";const Ks=new jm("@firebase/app"),hS="@firebase/app-compat",dS="@firebase/analytics-compat",mS="@firebase/analytics",gS="@firebase/app-check-compat",pS="@firebase/app-check",yS="@firebase/auth",_S="@firebase/auth-compat",xS="@firebase/database",bS="@firebase/data-connect",vS="@firebase/database-compat",ES="@firebase/functions",TS="@firebase/functions-compat",SS="@firebase/installations",wS="@firebase/installations-compat",AS="@firebase/messaging",NS="@firebase/messaging-compat",RS="@firebase/performance",CS="@firebase/performance-compat",IS="@firebase/remote-config",DS="@firebase/remote-config-compat",MS="@firebase/storage",OS="@firebase/storage-compat",VS="@firebase/firestore",kS="@firebase/ai",jS="@firebase/firestore-compat",LS="firebase",US="12.6.0";const am="[DEFAULT]",PS={[rm]:"fire-core",[hS]:"fire-core-compat",[mS]:"fire-analytics",[dS]:"fire-analytics-compat",[pS]:"fire-app-check",[gS]:"fire-app-check-compat",[yS]:"fire-auth",[_S]:"fire-auth-compat",[xS]:"fire-rtdb",[bS]:"fire-data-connect",[vS]:"fire-rtdb-compat",[ES]:"fire-fn",[TS]:"fire-fn-compat",[SS]:"fire-iid",[wS]:"fire-iid-compat",[AS]:"fire-fcm",[NS]:"fire-fcm-compat",[RS]:"fire-perf",[CS]:"fire-perf-compat",[IS]:"fire-rc",[DS]:"fire-rc-compat",[MS]:"fire-gcs",[OS]:"fire-gcs-compat",[VS]:"fire-fst",[jS]:"fire-fst-compat",[kS]:"fire-vertex","fire-js":"fire-js",[LS]:"fire-js-all"};const tf=new Map,zS=new Map,om=new Map;function f1(r,e){try{r.container.addComponent(e)}catch(i){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Po(r){const e=r.name;if(om.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,r);for(const i of tf.values())f1(i,r);for(const i of zS.values())f1(i,r);return!0}function Sf(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Oi(r){return r==null?!1:r.settings!==void 0}const BS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new cc("app","Firebase",BS);class qS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const Yo=US;function lm(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:am,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(i||(i=$_()),!i)throw Yr.create("no-options");const c=tf.get(o);if(c){if($r(i,c.options)&&$r(s,c.config))return c;throw Yr.create("duplicate-app",{appName:o})}const h=new KT(o);for(const y of om.values())h.addComponent(y);const g=new qS(i,s,h);return tf.set(o,g),g}function nf(r=am){const e=tf.get(r);if(!e&&r===am&&$_())return lm();if(!e)throw Yr.create("no-app",{appName:r});return e}function Qr(r,e,i){let s=PS[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(h.join(" "));return}Po(new Da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const HS="firebase-heartbeat-database",FS=1,Zl="firebase-heartbeat-store";let Gd=null;function ex(){return Gd||(Gd=oS(HS,FS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function GS(r){try{const i=(await ex()).transaction(Zl),s=await i.objectStore(Zl).get(tx(r));return await i.done,s}catch(e){if(e instanceof er)Ks.warn(e.message);else{const i=Yr.create("idb-get",{originalErrorMessage:e?.message});Ks.warn(i.message)}}}async function h1(r,e){try{const s=(await ex()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,tx(r)),await s.done}catch(i){if(i instanceof er)Ks.warn(i.message);else{const s=Yr.create("idb-set",{originalErrorMessage:i?.message});Ks.warn(s.message)}}}function tx(r){return`${r.name}!${r.options.appId}`}const YS=1024,QS=30;class KS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>QS){const o=ZS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ks.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d1(),{heartbeatsToSend:i,unsentEntries:s}=$S(this._heartbeatsCache.heartbeats),o=ef(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ks.warn(e),""}}}function d1(){return new Date().toISOString().substring(0,10)}function $S(r,e=YS){const i=[];let s=r.slice();for(const o of r){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),m1(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),m1(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class XS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jT()?LT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await GS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function m1(r){return ef(JSON.stringify({version:2,heartbeats:r})).length}function ZS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function JS(r){Po(new Da("platform-logger",e=>new uS(e),"PRIVATE")),Po(new Da("heartbeat",e=>new KS(e),"PRIVATE")),Qr(rm,u1,r),Qr(rm,u1,"esm2020"),Qr("fire-js","")}JS("");var WS="firebase",ew="12.6.0";Qr(WS,ew,"app");function nx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tw=nx,ix=new cc("auth","Firebase",nx());const sf=new jm("@firebase/auth");function nw(r,...e){sf.logLevel<=et.WARN&&sf.warn(`Auth (${Yo}): ${r}`,...e)}function qu(r,...e){sf.logLevel<=et.ERROR&&sf.error(`Auth (${Yo}): ${r}`,...e)}function $s(r,...e){throw Um(r,...e)}function gs(r,...e){return Um(r,...e)}function sx(r,e,i){const s={...tw(),[e]:i};return new cc("auth","Firebase",s).create(e,{appName:r.name})}function Ys(r){return sx(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Um(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return ix.create(r,...e)}function Oe(r,e,...i){if(!r)throw Um(e,...i)}function Fs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qu(e),new Error(e)}function Xs(r,e){r||Fs(e)}function cm(){return typeof self<"u"&&self.location?.href||""}function iw(){return g1()==="http:"||g1()==="https:"}function g1(){return typeof self<"u"&&self.location?.protocol||null}function sw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iw()||MT()||"connection"in navigator)?navigator.onLine:!0}function rw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class fc{constructor(e,i){this.shortDelay=e,this.longDelay=i,Xs(i>e,"Short delay should be less than long delay!"),this.isMobile=CT()||OT()}get(){return sw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pm(r,e){Xs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class rx{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ow=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lw=new fc(3e4,6e4);function hc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Qo(r,e,i,s,o={}){return ax(r,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const g=uc({key:r.config.apiKey,...h}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return DT()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&ka(r.emulatorConfig.host)&&(_.credentials="include"),rx.fetch()(await ox(r,r.config.apiHost,i,g),_)})}async function ax(r,e,i){r._canInitEmulator=!1;const s={...aw,...e};try{const o=new cw(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw ku(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const g=c.ok?h.errorMessage:h.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(r,"credential-already-in-use",h);if(y==="EMAIL_EXISTS")throw ku(r,"email-already-in-use",h);if(y==="USER_DISABLED")throw ku(r,"user-disabled",h);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw sx(r,E,_);$s(r,E)}}catch(o){if(o instanceof er)throw o;$s(r,"network-request-failed",{message:String(o)})}}async function zm(r,e,i,s,o={}){const c=await Qo(r,e,i,s,o);return"mfaPendingCredential"in c&&$s(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function ox(r,e,i,s){const o=`${e}${i}?${s}`,c=r,h=c.config.emulator?Pm(r.config,o):`${r.config.apiScheme}://${o}`;return ow.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}class cw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(gs(this.auth,"network-request-failed")),lw.get())})}}function ku(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const o=gs(r,e,s);return o.customData._tokenResponse=i,o}async function uw(r,e){return Qo(r,"POST","/v1/accounts:delete",e)}async function rf(r,e){return Qo(r,"POST","/v1/accounts:lookup",e)}function Yl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fw(r,e=!1){const i=Ji(r),s=await i.getIdToken(e),o=Bm(s);Oe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:Yl(Yd(o.auth_time)),issuedAtTime:Yl(Yd(o.iat)),expirationTime:Yl(Yd(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(r){return Number(r)*1e3}function Bm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return qu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q_(i);return o?JSON.parse(o):(qu("Failed to decode base64 JWT payload"),null)}catch(o){return qu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function p1(r){const e=Bm(r);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jl(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof er&&hw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function hw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class dw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function af(r){const e=r.auth,i=await r.getIdToken(),s=await Jl(r,rf(e,{idToken:i}));Oe(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?lx(o.providerUserInfo):[],h=gw(r.providerData,c),g=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!h?.length,_=g?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function mw(r){const e=Ji(r);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gw(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function lx(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function pw(r,e){const i=await ax(r,{},async()=>{const s=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await ox(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&ka(r.emulatorConfig.host)&&(y.credentials="include"),rx.fetch()(h,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function yw(r,e){return Qo(r,"POST","/v2/accounts:revokeToken",hc(r,e))}class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const i=p1(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:o,expiresIn:c}=await pw(e,i);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:o,expirationTime:c}=i,h=new Do;return s&&(Oe(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Oe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Oe(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Fs("not implemented")}}function Lr(r,e){Oe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $i{constructor({uid:e,auth:i,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new dw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new um(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return fw(this,e)}reload(){return mw(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new $i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await af(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Jl(this,uw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,h=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:P,providerData:Z,stsTokenManager:$}=i;Oe(S&&$,e,"internal-error");const ie=Do.fromJSON(this.name,$);Oe(typeof S=="string",e,"internal-error"),Lr(s,e.name),Lr(o,e.name),Oe(typeof N=="boolean",e,"internal-error"),Oe(typeof P=="boolean",e,"internal-error"),Lr(c,e.name),Lr(h,e.name),Lr(g,e.name),Lr(y,e.name),Lr(_,e.name),Lr(E,e.name);const he=new $i({uid:S,auth:e,email:o,emailVerified:N,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:c,tenantId:g,stsTokenManager:ie,createdAt:_,lastLoginAt:E});return Z&&Array.isArray(Z)&&(he.providerData=Z.map(De=>({...De}))),y&&(he._redirectEventId=y),he}static async _fromIdTokenResponse(e,i,s=!1){const o=new Do;o.updateFromServerResponse(i);const c=new $i({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await af(c),c}static async _fromGetAccountInfoResponse(e,i,s){const o=i.users[0];Oe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?lx(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,g=new Do;g.updateFromIdToken(s);const y=new $i({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const y1=new Map;function Gs(r){Xs(r instanceof Function,"Expected a class definition");let e=y1.get(r);return e?(Xs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,y1.set(r,e),e)}class cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}cx.type="NONE";const _1=cx;function Hu(r,e,i){return`firebase:${r}:${e}:${i}`}class Mo{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Hu(this.userKey,o.apiKey,c),this.fullPersistenceKey=Hu("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rf(this.auth,{idToken:e}).catch(()=>{});return i?$i._fromGetAccountInfoResponse(this.auth,i,e):null}return $i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Mo(Gs(_1),e,s);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Gs(_1);const h=Hu(s,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const E=await _._get(h);if(E){let S;if(typeof E=="string"){const N=await rf(e,{idToken:E}).catch(()=>{});if(!N)break;S=await $i._fromGetAccountInfoResponse(e,N,E)}else S=$i._fromJSON(e,E);_!==c&&(g=S),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Mo(c,e,s):(c=y[0],g&&await c._set(h,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(h)}catch{}})),new Mo(c,e,s))}}function x1(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gx(e))return"Blackberry";if(px(e))return"Webos";if(fx(e))return"Safari";if((e.includes("chrome/")||hx(e))&&!e.includes("edge/"))return"Chrome";if(mx(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function ux(r=Ln()){return/firefox\//i.test(r)}function fx(r=Ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hx(r=Ln()){return/crios\//i.test(r)}function dx(r=Ln()){return/iemobile/i.test(r)}function mx(r=Ln()){return/android/i.test(r)}function gx(r=Ln()){return/blackberry/i.test(r)}function px(r=Ln()){return/webos/i.test(r)}function qm(r=Ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _w(r=Ln()){return qm(r)&&!!window.navigator?.standalone}function xw(){return VT()&&document.documentMode===10}function yx(r=Ln()){return qm(r)||mx(r)||px(r)||gx(r)||/windows phone/i.test(r)||dx(r)}function _x(r,e=[]){let i;switch(r){case"Browser":i=x1(Ln());break;case"Worker":i=`${x1(Ln())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Yo}/${s}`}class bw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((h,g)=>{try{const y=e(c);h(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function vw(r,e={}){return Qo(r,"GET","/v2/passwordPolicy",hc(r,e))}const Ew=6;class Tw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Ew,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Sw{constructor(e,i,s,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b1(this),this.idTokenSubscription=new b1(this),this.beforeStateQueue=new bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ix,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rf(this,{idToken:e}),s=await $i._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===h)&&g?.user&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject(Ys(this));const i=e?Ji(e):null;return i&&Oe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vw(this),i=new Tw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await yw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Gs(e)||this._popupRedirectResolver;Oe(i,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(g,this,"internal-error"),g.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,o);return()=>{h=!0,y()}}else{const y=e.addObserver(i);return()=>{h=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_x(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function dc(r){return Ji(r)}class b1{constructor(e){this.auth=e,this.observer=null,this.addObserver=qT(i=>this.observer=i)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ww(r){Hm=r}function Aw(r){return Hm.loadJS(r)}function Nw(){return Hm.gapiScript}function Rw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Cw(r,e){const i=Sf(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if($r(c,e??{}))return o;$s(o,"already-initialized")}return i.initialize({options:e})}function Iw(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Gs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Dw(r,e,i){const s=dc(r);Oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=xx(e),{host:h,port:g}=Mw(e),y=g===null?"":`:${g}`,_={url:`${c}//${h}${y}/`},E=Object.freeze({host:h,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Oe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Oe($r(_,s.config.emulator)&&$r(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ka(h)?(km(`${c}//${h}${y}`),Z_("Auth",!0)):Ow()}function xx(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Mw(r){const e=xx(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:v1(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:v1(h)}}}function v1(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Ow(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bx{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,i){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function Oo(r,e){return zm(r,"POST","/v1/accounts:signInWithIdp",hc(r,e))}const Vw="http://localhost";class Ma extends bx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):$s("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=i;if(!s||!o)return null;const h=new Ma(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return Oo(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Oo(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Oo(e,i)}buildRequest(){const e={requestUri:Vw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=uc(i)}return e}}class vx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mc extends vx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zr extends mc{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";class Br extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ma._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";class qr extends mc{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Hr extends mc{constructor(){super("twitter.com")}static credential(e,i){return Ma._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Hr.credential(i,s)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";async function kw(r,e){return zm(r,"POST","/v1/accounts:signUp",hc(r,e))}class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,o=!1){const c=await $i._fromIdTokenResponse(e,s,o),h=E1(s);return new Zs({user:c,providerId:h,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const o=E1(s);return new Zs({user:e,providerId:o,_tokenResponse:s,operationType:i})}}function E1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function jw(r){if(Oi(r.app))return Promise.reject(Ys(r));const e=dc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Zs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await kw(e,{returnSecureToken:!0}),s=await Zs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class of extends er{constructor(e,i,s,o){super(i.code,i.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,of.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,o){return new of(e,i,s,o)}}function Ex(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(r,c,e,s):c})}async function Lw(r,e,i=!1){const s=await Jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Zs._forOperation(r,"link",s)}async function Uw(r,e,i=!1){const{auth:s}=r;if(Oi(s.app))return Promise.reject(Ys(s));const o="reauthenticate";try{const c=await Jl(r,Ex(s,o,e,r),i);Oe(c.idToken,s,"internal-error");const h=Bm(c.idToken);Oe(h,s,"internal-error");const{sub:g}=h;return Oe(r.uid===g,s,"user-mismatch"),Zs._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&$s(s,"user-mismatch"),c}}async function Pw(r,e,i=!1){if(Oi(r.app))return Promise.reject(Ys(r));const s="signIn",o=await Ex(r,s,e),c=await Zs._fromIdTokenResponse(r,s,o);return i||await r._updateCurrentUser(c.user),c}async function zw(r,e){return zm(r,"POST","/v1/accounts:signInWithCustomToken",hc(r,e))}async function Tx(r,e){if(Oi(r.app))return Promise.reject(Ys(r));const i=dc(r),s=await zw(i,{token:e,returnSecureToken:!0}),o=await Zs._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}function Bw(r,e,i,s){return Ji(r).onIdTokenChanged(e,i,s)}function qw(r,e,i){return Ji(r).beforeAuthStateChanged(e,i)}const lf="__sak";class Sx{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hw=1e3,Fw=10;class wx extends Sx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),o=this.localCache[i];s!==o&&e(i,o,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,g,y)=>{this.notifyListeners(h,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!i&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);xw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Fw):o()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},Hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}wx.type="LOCAL";const Gw=wx;class Ax extends Sx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Ax.type="SESSION";const Nx=Ax;function Yw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const s=new wf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(h).map(async _=>_(i.origin,c)),y=await Yw(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];function Fm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class Qw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((g,y)=>{const _=Fm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const N=S;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function ps(){return window}function Kw(r){ps().location.href=r}function Rx(){return typeof ps().WorkerGlobalScope<"u"&&typeof ps().importScripts=="function"}async function $w(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xw(){return navigator?.serviceWorker?.controller||null}function Zw(){return Rx()?self:null}const Cx="firebaseLocalStorageDb",Jw=1,cf="firebaseLocalStorage",Ix="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Af(r,e){return r.transaction([cf],e?"readwrite":"readonly").objectStore(cf)}function Ww(){const r=indexedDB.deleteDatabase(Cx);return new gc(r).toPromise()}function fm(){const r=indexedDB.open(Cx,Jw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(cf,{keyPath:Ix})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(cf)?e(s):(s.close(),await Ww(),e(await fm()))})})}async function T1(r,e,i){const s=Af(r,!0).put({[Ix]:e,value:i});return new gc(s).toPromise()}async function eA(r,e){const i=Af(r,!1).get(e),s=await new gc(i).toPromise();return s===void 0?null:s.value}function S1(r,e){const i=Af(r,!0).delete(e);return new gc(i).toPromise()}const tA=800,nA=3;class Dx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>nA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(Zw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $w(),!this.activeServiceWorker)return;this.sender=new Qw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await T1(e,lf,"1"),await S1(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>T1(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>eA(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>S1(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Af(o,!1).getAll();return new gc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dx.type="LOCAL";const iA=Dx;new fc(3e4,6e4);function sA(r,e){return e?Gs(e):(Oe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Gm extends bx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Oo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function rA(r){return Pw(r.auth,new Gm(r),r.bypassAuthState)}function aA(r){const{auth:e,user:i}=r;return Oe(i,e,"internal-error"),Uw(i,new Gm(r),r.bypassAuthState)}async function oA(r){const{auth:e,user:i}=r;return Oe(i,e,"internal-error"),Lw(i,new Gm(r),r.bypassAuthState)}class Mx{constructor(e,i,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:o,tenantId:c,error:h,type:g}=e;if(h){this.reject(h);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rA;case"linkViaPopup":case"linkViaRedirect":return oA;case"reauthViaPopup":case"reauthViaRedirect":return aA;default:$s(this.auth,"internal-error")}}resolve(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lA=new fc(2e3,1e4);class Io extends Mx{constructor(e,i,s,o,c){super(e,i,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Xs(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lA.get())};e()}}Io.currentPopupAction=null;const cA="pendingRedirect",Fu=new Map;class uA extends Mx{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Fu.get(this.auth._key());if(!e){try{const s=await fA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Fu.set(this.auth._key(),e)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fA(r,e){const i=mA(e),s=dA(r);if(!await s._isAvailable())return!1;const o=await s._get(i)==="true";return await s._remove(i),o}function hA(r,e){Fu.set(r._key(),e)}function dA(r){return Gs(r._redirectPersistence)}function mA(r){return Hu(cA,r.config.apiKey,r.name)}async function gA(r,e,i=!1){if(Oi(r.app))return Promise.reject(Ys(r));const s=dc(r),o=sA(s,e),h=await new uA(s,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const pA=600*1e3;class yA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_A(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Ox(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(gs(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pA&&this.cachedEventUids.clear(),this.cachedEventUids.has(w1(e))}saveEventToCache(e){this.cachedEventUids.add(w1(e)),this.lastProcessedEventTime=Date.now()}}function w1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ox({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function _A(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ox(r);default:return!1}}async function xA(r,e={}){return Qo(r,"GET","/v1/projects",e)}const bA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vA=/^https?/;async function EA(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xA(r);for(const i of e)try{if(TA(i))return}catch{}$s(r,"unauthorized-domain")}function TA(r){const e=cm(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===s}if(!vA.test(i))return!1;if(bA.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const SA=new fc(3e4,6e4);function A1(){const r=ps().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function wA(r){return new Promise((e,i)=>{function s(){A1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A1(),i(gs(r,"network-request-failed"))},timeout:SA.get()})}if(ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ps().gapi?.load)s();else{const o=Rw("iframefcb");return ps()[o]=()=>{gapi.load?s():i(gs(r,"network-request-failed"))},Aw(`${Nw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Gu=null,e})}let Gu=null;function AA(r){return Gu=Gu||wA(r),Gu}const NA=new fc(5e3,15e3),RA="__/auth/iframe",CA="emulator/auth/iframe",IA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MA(r){const e=r.config;Oe(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Pm(e,CA):`https://${r.config.authDomain}/${RA}`,s={apiKey:e.apiKey,appName:r.name,v:Yo},o=DA.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${uc(s).slice(1)}`}async function OA(r){const e=await AA(r),i=ps().gapi;return Oe(i,r,"internal-error"),e.open({where:document.body,url:MA(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IA,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=gs(r,"network-request-failed"),g=ps().setTimeout(()=>{c(h)},NA.get());function y(){ps().clearTimeout(g),o(s)}s.ping(y).then(y,()=>{c(h)})}))}const VA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kA=500,jA=600,LA="_blank",UA="http://localhost";class N1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PA(r,e,i,s=kA,o=jA){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...VA,width:s.toString(),height:o.toString(),top:c,left:h},_=Ln().toLowerCase();i&&(g=hx(_)?LA:i),ux(_)&&(e=e||UA,y.scrollbars="yes");const E=Object.entries(y).reduce((N,[P,Z])=>`${N}${P}=${Z},`,"");if(_w(_)&&g!=="_self")return zA(e||"",g),new N1(null);const S=window.open(e||"",g,E);Oe(S,r,"popup-blocked");try{S.focus()}catch{}return new N1(S)}function zA(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const BA="__/auth/handler",qA="emulator/auth/handler",HA=encodeURIComponent("fac");async function R1(r,e,i,s,o,c){Oe(r.config.authDomain,r,"auth-domain-config-required"),Oe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Yo,eventId:o};if(e instanceof vx){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",BT(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof mc){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const g=h;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await r._getAppCheckToken(),_=y?`#${HA}=${encodeURIComponent(y)}`:"";return`${FA(r)}?${uc(g).slice(1)}${_}`}function FA({config:r}){return r.emulator?Pm(r,qA):`https://${r.authDomain}/${BA}`}const Qd="webStorageSupport";class GA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nx,this._completeRedirectFn=gA,this._overrideRedirectResult=hA}async _openPopup(e,i,s,o){Xs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await R1(e,i,s,cm(),o);return PA(e,c,Fm())}async _openRedirect(e,i,s,o){await this._originValidation(e);const c=await R1(e,i,s,cm(),o);return Kw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Xs(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await OA(e),s=new yA(e);return i.register("authEvent",o=>(Oe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Qd,{type:Qd},o=>{const c=o?.[0]?.[Qd];c!==void 0&&i(!!c),$s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=EA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return yx()||fx()||qm()}}const YA=GA;var C1="@firebase/auth",I1="1.11.1";class QA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KA(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $A(r){Po(new Da("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=s.options;Oe(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:h,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_x(r)},_=new Sw(s,o,c,y);return Iw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Po(new Da("auth-internal",e=>{const i=dc(e.getProvider("auth").getImmediate());return(s=>new QA(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(C1,I1,KA(r)),Qr(C1,I1,"esm2020")}const XA=300,ZA=X_("authIdTokenMaxAge")||XA;let D1=null;const JA=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>ZA)return;const o=i?.token;D1!==o&&(D1=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hm(r=nf()){const e=Sf(r,"auth");if(e.isInitialized())return e.getImmediate();const i=Cw(r,{popupRedirectResolver:YA,persistence:[iA,Gw,Nx]}),s=X_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=JA(c.toString());qw(i,h,()=>h(i.currentUser)),Bw(i,g=>h(g))}}const o=K_("auth");return o&&Dw(i,`http://${o}`),i}function WA(){return document.getElementsByTagName("head")?.[0]??document}ww({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=gs("internal-error");c.customData=o,i(c)},s.type="text/javascript",s.charset="UTF-8",WA().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$A("Browser");var M1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kr,Vx;(function(){var r;function e(R,w){function A(){}A.prototype=w.prototype,R.F=w.prototype,R.prototype=new A,R.prototype.constructor=R,R.D=function(k,M,j){for(var C=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)C[$e-2]=arguments[$e];return w.prototype[M].apply(k,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,A){A||(A=0);const k=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)k[M]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(M=0;M<16;++M)k[M]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=R.g[0],A=R.g[1],M=R.g[2];let j=R.g[3],C;C=w+(j^A&(M^j))+k[0]+3614090360&4294967295,w=A+(C<<7&4294967295|C>>>25),C=j+(M^w&(A^M))+k[1]+3905402710&4294967295,j=w+(C<<12&4294967295|C>>>20),C=M+(A^j&(w^A))+k[2]+606105819&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(w^M&(j^w))+k[3]+3250441966&4294967295,A=M+(C<<22&4294967295|C>>>10),C=w+(j^A&(M^j))+k[4]+4118548399&4294967295,w=A+(C<<7&4294967295|C>>>25),C=j+(M^w&(A^M))+k[5]+1200080426&4294967295,j=w+(C<<12&4294967295|C>>>20),C=M+(A^j&(w^A))+k[6]+2821735955&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(w^M&(j^w))+k[7]+4249261313&4294967295,A=M+(C<<22&4294967295|C>>>10),C=w+(j^A&(M^j))+k[8]+1770035416&4294967295,w=A+(C<<7&4294967295|C>>>25),C=j+(M^w&(A^M))+k[9]+2336552879&4294967295,j=w+(C<<12&4294967295|C>>>20),C=M+(A^j&(w^A))+k[10]+4294925233&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(w^M&(j^w))+k[11]+2304563134&4294967295,A=M+(C<<22&4294967295|C>>>10),C=w+(j^A&(M^j))+k[12]+1804603682&4294967295,w=A+(C<<7&4294967295|C>>>25),C=j+(M^w&(A^M))+k[13]+4254626195&4294967295,j=w+(C<<12&4294967295|C>>>20),C=M+(A^j&(w^A))+k[14]+2792965006&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(w^M&(j^w))+k[15]+1236535329&4294967295,A=M+(C<<22&4294967295|C>>>10),C=w+(M^j&(A^M))+k[1]+4129170786&4294967295,w=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(w^A))+k[6]+3225465664&4294967295,j=w+(C<<9&4294967295|C>>>23),C=M+(w^A&(j^w))+k[11]+643717713&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^w&(M^j))+k[0]+3921069994&4294967295,A=M+(C<<20&4294967295|C>>>12),C=w+(M^j&(A^M))+k[5]+3593408605&4294967295,w=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(w^A))+k[10]+38016083&4294967295,j=w+(C<<9&4294967295|C>>>23),C=M+(w^A&(j^w))+k[15]+3634488961&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^w&(M^j))+k[4]+3889429448&4294967295,A=M+(C<<20&4294967295|C>>>12),C=w+(M^j&(A^M))+k[9]+568446438&4294967295,w=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(w^A))+k[14]+3275163606&4294967295,j=w+(C<<9&4294967295|C>>>23),C=M+(w^A&(j^w))+k[3]+4107603335&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^w&(M^j))+k[8]+1163531501&4294967295,A=M+(C<<20&4294967295|C>>>12),C=w+(M^j&(A^M))+k[13]+2850285829&4294967295,w=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(w^A))+k[2]+4243563512&4294967295,j=w+(C<<9&4294967295|C>>>23),C=M+(w^A&(j^w))+k[7]+1735328473&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^w&(M^j))+k[12]+2368359562&4294967295,A=M+(C<<20&4294967295|C>>>12),C=w+(A^M^j)+k[5]+4294588738&4294967295,w=A+(C<<4&4294967295|C>>>28),C=j+(w^A^M)+k[8]+2272392833&4294967295,j=w+(C<<11&4294967295|C>>>21),C=M+(j^w^A)+k[11]+1839030562&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^w)+k[14]+4259657740&4294967295,A=M+(C<<23&4294967295|C>>>9),C=w+(A^M^j)+k[1]+2763975236&4294967295,w=A+(C<<4&4294967295|C>>>28),C=j+(w^A^M)+k[4]+1272893353&4294967295,j=w+(C<<11&4294967295|C>>>21),C=M+(j^w^A)+k[7]+4139469664&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^w)+k[10]+3200236656&4294967295,A=M+(C<<23&4294967295|C>>>9),C=w+(A^M^j)+k[13]+681279174&4294967295,w=A+(C<<4&4294967295|C>>>28),C=j+(w^A^M)+k[0]+3936430074&4294967295,j=w+(C<<11&4294967295|C>>>21),C=M+(j^w^A)+k[3]+3572445317&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^w)+k[6]+76029189&4294967295,A=M+(C<<23&4294967295|C>>>9),C=w+(A^M^j)+k[9]+3654602809&4294967295,w=A+(C<<4&4294967295|C>>>28),C=j+(w^A^M)+k[12]+3873151461&4294967295,j=w+(C<<11&4294967295|C>>>21),C=M+(j^w^A)+k[15]+530742520&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^w)+k[2]+3299628645&4294967295,A=M+(C<<23&4294967295|C>>>9),C=w+(M^(A|~j))+k[0]+4096336452&4294967295,w=A+(C<<6&4294967295|C>>>26),C=j+(A^(w|~M))+k[7]+1126891415&4294967295,j=w+(C<<10&4294967295|C>>>22),C=M+(w^(j|~A))+k[14]+2878612391&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~w))+k[5]+4237533241&4294967295,A=M+(C<<21&4294967295|C>>>11),C=w+(M^(A|~j))+k[12]+1700485571&4294967295,w=A+(C<<6&4294967295|C>>>26),C=j+(A^(w|~M))+k[3]+2399980690&4294967295,j=w+(C<<10&4294967295|C>>>22),C=M+(w^(j|~A))+k[10]+4293915773&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~w))+k[1]+2240044497&4294967295,A=M+(C<<21&4294967295|C>>>11),C=w+(M^(A|~j))+k[8]+1873313359&4294967295,w=A+(C<<6&4294967295|C>>>26),C=j+(A^(w|~M))+k[15]+4264355552&4294967295,j=w+(C<<10&4294967295|C>>>22),C=M+(w^(j|~A))+k[6]+2734768916&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~w))+k[13]+1309151649&4294967295,A=M+(C<<21&4294967295|C>>>11),C=w+(M^(A|~j))+k[4]+4149444226&4294967295,w=A+(C<<6&4294967295|C>>>26),C=j+(A^(w|~M))+k[11]+3174756917&4294967295,j=w+(C<<10&4294967295|C>>>22),C=M+(w^(j|~A))+k[2]+718787259&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~w))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+j&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const A=w-this.blockSize,k=this.C;let M=this.h,j=0;for(;j<w;){if(M==0)for(;j<=A;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<w;)if(k[M++]=R.charCodeAt(j++),M==this.blockSize){o(this,k),M=0;break}}else for(;j<w;)if(k[M++]=R[j++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var A=R.length-8;A<R.length;++A)R[A]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,A=0;A<4;++A)for(let k=0;k<32;k+=8)R[w++]=this.g[A]>>>k&255;return R};function c(R,w){var A=g;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=w(R)}function h(R,w){this.h=w;const A=[];let k=!0;for(let M=R.length-1;M>=0;M--){const j=R[M]|0;k&&j==w||(A[M]=j,k=!1)}this.g=A}var g={};function y(R){return-128<=R&&R<128?c(R,function(w){return new h([w|0],w<0?-1:0)}):new h([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return ie(_(-R));const w=[];let A=1;for(let k=0;R>=A;k++)w[k]=R/A|0,A*=4294967296;return new h(w,0)}function E(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return ie(E(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(w,8));let k=S;for(let j=0;j<R.length;j+=8){var M=Math.min(8,R.length-j);const C=parseInt(R.substring(j,j+M),w);M<8?(M=_(Math.pow(w,M)),k=k.j(M).add(_(C))):(k=k.j(A),k=k.add(_(C)))}return k}var S=y(0),N=y(1),P=y(16777216);r=h.prototype,r.m=function(){if($(this))return-ie(this).m();let R=0,w=1;for(let A=0;A<this.g.length;A++){const k=this.i(A);R+=(k>=0?k:4294967296+k)*w,w*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Z(this))return"0";if($(this))return"-"+ie(this).toString(R);const w=_(Math.pow(R,6));var A=this;let k="";for(;;){const M=Fe(A,w).g;A=he(A,M.j(w));let j=((A.g.length>0?A.g[0]:A.h)>>>0).toString(R);if(A=M,Z(A))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Z(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function $(R){return R.h==-1}r.l=function(R){return R=he(this,R),$(R)?-1:Z(R)?0:1};function ie(R){const w=R.g.length,A=[];for(let k=0;k<w;k++)A[k]=~R.g[k];return new h(A,~R.h).add(N)}r.abs=function(){return $(this)?ie(this):this},r.add=function(R){const w=Math.max(this.g.length,R.g.length),A=[];let k=0;for(let M=0;M<=w;M++){let j=k+(this.i(M)&65535)+(R.i(M)&65535),C=(j>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);k=C>>>16,j&=65535,C&=65535,A[M]=C<<16|j}return new h(A,A[A.length-1]&-2147483648?-1:0)};function he(R,w){return R.add(ie(w))}r.j=function(R){if(Z(this)||Z(R))return S;if($(this))return $(R)?ie(this).j(ie(R)):ie(ie(this).j(R));if($(R))return ie(this.j(ie(R)));if(this.l(P)<0&&R.l(P)<0)return _(this.m()*R.m());const w=this.g.length+R.g.length,A=[];for(var k=0;k<2*w;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<R.g.length;M++){const j=this.i(k)>>>16,C=this.i(k)&65535,$e=R.i(M)>>>16,Dt=R.i(M)&65535;A[2*k+2*M]+=C*Dt,De(A,2*k+2*M),A[2*k+2*M+1]+=j*Dt,De(A,2*k+2*M+1),A[2*k+2*M+1]+=C*$e,De(A,2*k+2*M+1),A[2*k+2*M+2]+=j*$e,De(A,2*k+2*M+2)}for(R=0;R<w;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=w;R<2*w;R++)A[R]=0;return new h(A,0)};function De(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function ye(R,w){this.g=R,this.h=w}function Fe(R,w){if(Z(w))throw Error("division by zero");if(Z(R))return new ye(S,S);if($(R))return w=Fe(ie(R),w),new ye(ie(w.g),ie(w.h));if($(w))return w=Fe(R,ie(w)),new ye(ie(w.g),w.h);if(R.g.length>30){if($(R)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var A=N,k=w;k.l(R)<=0;)A=Ne(A),k=Ne(k);var M=Ue(A,1),j=Ue(k,1);for(k=Ue(k,2),A=Ue(A,2);!Z(k);){var C=j.add(k);C.l(R)<=0&&(M=M.add(A),j=C),k=Ue(k,1),A=Ue(A,1)}return w=he(R,M.j(w)),new ye(M,w)}for(M=S;R.l(w)>=0;){for(A=Math.max(1,Math.floor(R.m()/w.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=_(A),C=j.j(w);$(C)||C.l(R)>0;)A-=k,j=_(A),C=j.j(w);Z(j)&&(j=N),M=M.add(j),R=he(R,C)}return new ye(M,R)}r.B=function(R){return Fe(this,R).h},r.and=function(R){const w=Math.max(this.g.length,R.g.length),A=[];for(let k=0;k<w;k++)A[k]=this.i(k)&R.i(k);return new h(A,this.h&R.h)},r.or=function(R){const w=Math.max(this.g.length,R.g.length),A=[];for(let k=0;k<w;k++)A[k]=this.i(k)|R.i(k);return new h(A,this.h|R.h)},r.xor=function(R){const w=Math.max(this.g.length,R.g.length),A=[];for(let k=0;k<w;k++)A[k]=this.i(k)^R.i(k);return new h(A,this.h^R.h)};function Ne(R){const w=R.g.length+1,A=[];for(let k=0;k<w;k++)A[k]=R.i(k)<<1|R.i(k-1)>>>31;return new h(A,R.h)}function Ue(R,w){const A=w>>5;w%=32;const k=R.g.length-A,M=[];for(let j=0;j<k;j++)M[j]=w>0?R.i(j+A)>>>w|R.i(j+A+1)<<32-w:R.i(j+A);return new h(M,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Vx=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,Kr=h}).apply(typeof M1<"u"?M1:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kx,zl,jx,Yu,dm,Lx,Ux,Px;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)e:{var b=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in b))break e;b=b[U]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},h=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=y,_.apply(null,arguments)}function E(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,U,F){for(var ce=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ce[ze-2]=arguments[ze];return m.prototype[U].apply(T,ce)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const F=U.length||0;u.length=b+F;for(let ce=0;ce<F;ce++)u[b+ce]=U[ce]}else u.push(U)}}class ${constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){h.setTimeout(()=>{throw u},0)}function he(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class De{constructor(){this.h=this.g=null}add(m,b){const T=ye.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var ye=new $(()=>new Fe,u=>u.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,Ue=!1,R=new De,w=()=>{const u=Promise.resolve(void 0);Ne=()=>{u.then(A)}};function A(){for(var u;u=he();){try{u.h.call(u.g)}catch(b){ie(b)}var m=ye;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ue=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};h.addEventListener("test",b,m),h.removeEventListener("test",b,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function $e(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S($e,M),$e.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function z(u,m,b,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=U,this.key=++Q,this.da=this.fa=!1}function le(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function ke(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function V(u){const m={};for(const b in u)m[b]=u[b];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,m){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)u[b]=T[b];for(let F=0;F<J.length;F++)b=J[F],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function pe(u){this.src=u,this.g={},this.h=0}pe.prototype.add=function(u,m,b,T,U){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const ce=Re(u,m,T,U);return ce>-1?(m=u[ce],b||(m.fa=!1)):(m=new z(m,this.src,F,!!T,U),m.fa=b,u.push(m)),m};function we(u,m){const b=m.type;if(b in u.g){var T=u.g[b],U=Array.prototype.indexOf.call(T,m,void 0),F;(F=U>=0)&&Array.prototype.splice.call(T,U,1),F&&(le(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Re(u,m,b,T){for(let U=0;U<u.length;++U){const F=u[U];if(!F.da&&F.listener==m&&F.capture==!!b&&F.ha==T)return U}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),Mt={};function mt(u,m,b,T,U){if(Array.isArray(m)){for(let F=0;F<m.length;F++)mt(u,m[F],b,T,U);return null}return b=yn(b),u&&u[Dt]?u.J(m,b,g(T)?!!T.capture:!1,U):ji(u,m,b,!1,T,U)}function ji(u,m,b,T,U,F){if(!m)throw Error("Invalid event type");const ce=g(U)?!!U.capture:!!U;let ze=Un(u);if(ze||(u[Ge]=ze=new pe(u)),b=ze.add(m,b,T,ce,F),b.proxy)return b;if(T=Kn(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)j||(U=ce),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(dn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Kn(){function u(b){return m.call(u.src,u.listener,b)}const m=nr;return u}function tr(u,m,b,T,U){if(Array.isArray(m))for(var F=0;F<m.length;F++)tr(u,m[F],b,T,U);else T=g(T)?!!T.capture:!!T,b=yn(b),u&&u[Dt]?(u=u.i,F=String(m).toString(),F in u.g&&(m=u.g[F],b=Re(m,b,T,U),b>-1&&(le(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[F],u.h--)))):u&&(u=Un(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,b,T,U)),(b=u>-1?m[u]:null)&&Xt(b))}function Xt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Dt])we(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(dn(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=Un(m))?(we(b,u),b.h==0&&(b.src=null,m[Ge]=null)):le(u)}}}function dn(u){return u in Mt?Mt[u]:Mt[u]="on"+u}function nr(u,m){if(u.da)u=!0;else{m=new $e(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&Xt(u),u=b.call(T,m)}return u}function Un(u){return u=u[Ge],u instanceof pe?u:null}var ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function yn(u){return typeof u=="function"?u:(u[ir]||(u[ir]=function(m){return u.handleEvent(m)}),u[ir])}function At(){k.call(this),this.i=new pe(this),this.M=this,this.G=null}S(At,k),At.prototype[Dt]=!0,At.prototype.removeEventListener=function(u,m,b,T){tr(this,u,m,b,T)};function ft(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var U=m;m=new M(T,u),ue(m,U)}U=!0;let F,ce;if(b)for(ce=b.length-1;ce>=0;ce--)F=m.g=b[ce],U=Wi(F,T,!0,m)&&U;if(F=m.g=u,U=Wi(F,T,!0,m)&&U,U=Wi(F,T,!1,m)&&U,b)for(ce=0;ce<b.length;ce++)F=m.g=b[ce],U=Wi(F,T,!1,m)&&U}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)le(b[T]);delete u.g[m],u.h--}}this.G=null},At.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},At.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function Wi(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let F=0;F<m.length;++F){const ce=m[F];if(ce&&!ce.da&&ce.capture==b){const ze=ce.listener,Yt=ce.ha||ce.src;ce.fa&&we(u.i,ce),U=ze.call(Yt,T)!==!1&&U}}return U&&!T.defaultPrevented}function $n(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:h.setTimeout(u,m||0)}function sr(u){u.g=$n(()=>{u.g=null,u.i&&(u.i=!1,sr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _n extends k{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:sr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(u){k.call(this),this.h=u,this.g={}}S(Xn,k);var Li=[];function Ui(u){qe(u.g,function(m,b){this.g.hasOwnProperty(b)&&Xt(m)},u),u.g={}}Xn.prototype.N=function(){Xn.Z.N.call(this),Ui(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=h.JSON.stringify,za=h.JSON.parse,Ts=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function na(){}function es(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){M.call(this,"d")}S(St,M);function xn(){M.call(this,"c")}S(xn,M);var rt={},rr=null;function an(){return rr=rr||new At}rt.Ia="serverreachability";function ar(u){M.call(this,rt.Ia,u)}S(ar,M);function on(u){const m=an();ft(m,new ar(m))}rt.STAT_EVENT="statevent";function Pi(u,m){M.call(this,rt.STAT_EVENT,u),this.stat=m}S(Pi,M);function ot(u){const m=an();ft(m,new Pi(m,u))}rt.Ja="timingevent";function Zn(u,m){M.call(this,rt.Ja,u),this.size=m}S(Zn,M);function ln(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function cn(u,m,b,T,U,F){u.info(function(){if(u.g)if(F){var ce="",ze=F.split("&");for(let ht=0;ht<ze.length;ht++){var Yt=ze[ht].split("=");if(Yt.length>1){const jt=Yt[0];Yt=Yt[1];const Si=jt.split("_");ce=Si.length>=2&&Si[1]=="type"?ce+(jt+"="+Yt+"&"):ce+(jt+"=redacted&")}}}else ce=null;else ce=F;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+b+`
`+ce})}function Jn(u,m,b,T,U,F,ce){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+b+`
`+F+" "+ce})}function Bn(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+or(u,b)+(T?" "+T:"")})}function _i(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function or(u,m){if(!u.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var b=F[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ce=1;ce<T.length;ce++)T[ce]=""}}}}return yi(F)}catch{return m}}var zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},li;function ts(){}S(ts,na),ts.prototype.g=function(){return new XMLHttpRequest},li=new ts;function Wn(u){return encodeURIComponent(String(u))}function ns(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function qn(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new Xn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Nt}function Nt(){this.i=null,this.g="",this.h=!1}var Ot={},Ke={};function In(u,m,b){u.M=1,u.A=rs(Pe(m)),u.u=b,u.R=!0,Dn(u,null)}function Dn(u,m){u.F=Date.now(),xi(u),u.B=Pe(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ge(b.i,"t",T),u.C=0,b=u.j.L,u.h=new Nt,u.g=Rc(u.j,b?m:null,!u.u),u.P>0&&(u.O=new _n(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Li[0]=U.toString()),U=Li);for(let F=0;F<U.length;F++){const ce=mt(b,U[F],T||m.handleEvent,!1,m.h||m);if(!ce)break;m.g[ce.key]=ce}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),on(),cn(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hi(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)e:{const ze=Hi(this.g),Yt=this.g.ya(),ht=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||ze!=4||Yt==7||(Yt==8||ht<=0?on(3):on(2)),bi(this);var m=this.g.ca();this.X=m;var b=is(this);if(this.o=m==200,Jn(this.i,this.v,this.B,this.l,this.S,ze,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var F=T;break t}}F=null}if(u=F)Bn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,ot(12),Hn(this),ei(this);break e}}if(this.R){u=!0;let jt;for(;!this.K&&this.C<b.length;)if(jt=Ba(this,b),jt==Ke){ze==4&&(this.m=4,ot(14),u=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Ot){this.m=4,ot(15),Bn(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Bn(this.i,this.l,jt,null),vi(this,jt);if(Bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||b.length!=0||this.h.h||(this.m=1,ot(16),u=!1),this.o=this.o&&u,!u)Bn(this.i,this.l,b,"[Invalid Chunked Response]"),Hn(this),ei(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),el(ce),ce.P=!0,ot(11))}}else Bn(this.i,this.l,b,null),vi(this,b);ze==4&&Hn(this),this.o&&!this.K&&(ze==4?Sc(this.j,this):(this.o=!1,xi(this)))}else Ns(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,ot(12)):(this.m=0,ot(13)),Hn(this),ei(this)}}}catch{}finally{}};function is(u){if(!Bi(u))return u.g.la();const m=En(u.g);if(m==="")return"";let b="";const T=m.length,U=Hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Hn(u),ei(u),"";u.h.i=new h.TextDecoder}for(let F=0;F<T;F++)u.h.h=!0,b+=u.h.i.decode(m[F],{stream:!(U&&F==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function Bi(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ba(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?Ke:(b=Number(m.substring(b,T)),isNaN(b)?Ot:(T+=1,T+b>m.length?Ke:(m=m.slice(T,T+b),u.C=T+b,m)))}qn.prototype.cancel=function(){this.K=!0,Hn(this)};function xi(u){u.T=Date.now()+u.H,lr(u,u.H)}function lr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ln(_(u.aa,u),m)}function bi(u){u.D&&(h.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_i(this.i,this.B),this.M!=2&&(on(),ot(17)),Hn(this),this.m=2,ei(this)):lr(this,this.T-u)};function ei(u){u.j.I==0||u.K||Sc(u.j,u)}function Hn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ui(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function vi(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||bn(b.h,u))){if(!u.L&&bn(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Ga(b),dr(b);else break e;ua(b),ot(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ln(_(b.Va,b),6e3));oe(b.h)<=1&&b.ta&&(b.ta=void 0)}else ls(b,11)}else if((u.L||b.g==u)&&Ga(b),!C(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let ht=U[m];const jt=ht[0];if(!(jt<=b.K))if(b.K=jt,ht=ht[1],b.I==2)if(ht[0]=="c"){b.M=ht[1],b.ba=ht[2];const Si=ht[3];Si!=null&&(b.ka=Si,b.j.info("VER="+b.ka));const cs=ht[4];cs!=null&&(b.za=cs,b.j.info("SVER="+b.za));const Fi=ht[5];Fi!=null&&typeof Fi=="number"&&Fi>0&&(T=1.5*Fi,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Gi=u.g;if(Gi){const fa=Gi.g?Gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var F=T.h;F.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Fn(F,F.h),F.h=null))}if(T.G){const Ya=Gi.g?Gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(T.wa=Ya,lt(T.J,T.G,Ya))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ce=u;if(T.na=Nc(T,T.L?T.ba:null,T.W),ce.L){cr(T.h,ce);var ze=ce,Yt=T.O;Yt&&(ze.H=Yt),ze.D&&(bi(ze),xi(ze)),T.g=ce}else Ec(T);b.i.length>0&&os(b)}else ht[0]!="stop"&&ht[0]!="close"||ls(b,7);else b.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?ls(b,7):Jo(b):ht[0]!="noop"&&b.l&&b.l.qa(ht),b.A=0)}}on(4)}catch{}}var Vt=class{constructor(u,m){this.g=u,this.map=m}};function ia(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oe(u){return u.h?1:u.g?u.g.size:0}function bn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fn(u,m){u.g?u.g.add(m):u.h=m}function cr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ia.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ra(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return P(u.i)}var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ur(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let U,F=null;T>=0?(U=u[b].substring(0,T),F=u[b].substring(T+1)):U=u[b],m(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Gn?(this.l=u.l,Zt(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,aa(this,Te(u.i)),this.m=u.m):u&&(m=String(u).match(qa))?(this.l=!1,Zt(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),ss(this,m[4]),this.h=Ei(m[5]||"",!0),aa(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new W(null,this.l))}Gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Jt(m,fr,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Jt(m,fr,!0),"@"),u.push(Wn(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Jt(b,b.charAt(0)=="/"?Ss:oa,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Jt(b,Y)),u.join("")},Gn.prototype.resolve=function(u){const m=Pe(this);let b=!!u.j;b?Zt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)ss(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let ce=0;ce<U.length;){const ze=U[ce++];ze=="."?T&&ce==U.length&&F.push(""):ze==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),T&&ce==U.length&&F.push("")):(F.push(ze),T=!0)}T=F.join("/")}else T=U}return b?m.h=T:b=u.i.toString()!=="",b?aa(m,Te(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Pe(u){return new Gn(u)}function Zt(u,m,b){u.j=b?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function aa(u,m,b){m instanceof W?(u.i=m,be(u.i,u.l)):(b||(m=Jt(m,D)),u.i=new W(m,u.l))}function lt(u,m,b){u.i.set(m,b)}function rs(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jt(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fr=/[#\/\?@]/g,oa=/[#\?:]/g,Ss=/[#\?]/g,D=/[#\?@]/g,Y=/#/g;function W(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fe(u){u.g||(u.g=new Map,u.h=0,u.i&&ur(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}r=W.prototype,r.add=function(u,m){fe(this),this.i=null,u=Se(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function me(u,m){fe(u),m=Se(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function se(u,m){return fe(u),m=Se(u,m),u.g.has(m)}r.forEach=function(u,m){fe(this),this.g.forEach(function(b,T){b.forEach(function(U){u.call(m,U,T,this)},this)},this)};function re(u,m){fe(u);let b=[];if(typeof m=="string")se(u,m)&&(b=b.concat(u.g.get(Se(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}r.set=function(u,m){return fe(this),this.i=null,u=Se(this,u),se(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=re(this,u),u.length>0?String(u[0]):m):m};function ge(u,m,b){me(u,m),b.length>0&&(u.i=null,u.g.set(Se(u,m),P(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const U=Wn(b);b=re(this,b);for(let F=0;F<b.length;F++){let ce=U;b[F]!==""&&(ce+="="+Wn(b[F])),u.push(ce)}}return this.i=u.join("&")};function Te(u){const m=new W;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Se(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function be(u,m){m&&!u.j&&(fe(u),u.i=null,u.g.forEach(function(b,T){const U=T.toLowerCase();T!=U&&(me(this,T),ge(this,U,b))},u)),u.j=m}function de(u,m){const b=new zn;if(h.Image){const T=new Image;T.onload=E(it,b,"TestLoadImage: loaded",!0,m,T),T.onerror=E(it,b,"TestLoadImage: error",!1,m,T),T.onabort=E(it,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=E(it,b,"TestLoadImage: timeout",!1,m,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wt(u,m){const b=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),it(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(F=>{clearTimeout(U),F.ok?it(b,"TestPingServer: ok",!0,m):it(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),it(b,"TestPingServer: error",!1,m)})}function it(u,m,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Ut(){this.g=new Ts}function vt(u){this.i=u.Sb||null,this.h=u.ab||!1}S(vt,na),vt.prototype.g=function(){return new Pt(this.i,this.h)};function Pt(u,m){At.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Pt,At),r=Pt.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,kt(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||h).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zt(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kt(this)),this.g&&(this.readyState=3,kt(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Et(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Et(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zt(this):kt(this),this.readyState==3&&Et(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,zt(this))},r.Na=function(u){this.g&&(this.response=u,zt(this))},r.ga=function(){this.g&&zt(this)};function zt(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kt(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function kt(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gt(u){let m="";return qe(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Mn(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Gt(b),typeof u=="string"?b!=null&&Wn(b):lt(u,m,b))}function Ye(u){At.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Ye,At);var ci=/^https?$/i,Ti=["POST","PUT"];r=Ye.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():li.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){ws(this,F);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())b.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(F=>F.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Ti,m,void 0)>=0)||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ce]of b)this.g.setRequestHeader(F,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){ws(this,F)}};function ws(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qi(u),As(u)}function qi(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ft(this,"complete"),ft(this,"abort"),As(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),Ye.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},r.Xa=function(){la(this)};function la(u){if(u.h&&typeof c<"u"){if(u.v&&Hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(ft(u,"readystatechange"),Hi(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=F===0){let ce=String(u.D).match(qa)[1]||null;!ce&&h.self&&h.self.location&&(ce=h.self.location.protocol.slice(0,-1)),T=!ci.test(ce?ce.toLowerCase():"")}b=T}if(b)ft(u,"complete"),ft(u,"success");else{u.o=6;try{var U=Hi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",qi(u)}}finally{As(u)}}}}function As(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||ft(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Hi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),za(m)}};function En(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ns(u){const m={};u=(u.g&&Hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var b=ns(u[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const F=m[U]||[];m[U]=F,F.push(b)}ke(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function hr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=as("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=as("baseRetryDelayMs",5e3,u),this.Za=as("retryDelaySeedMs",1e4,u),this.Ta=as("forwardChannelMaxRetries",2,u),this.va=as("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ia(u&&u.concurrentRequestLimit),this.Ba=new Ut,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,b,T){ot(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Nc(this,null,this.W),os(this)};function Jo(u){if(Ha(u),u.I==3){var m=u.V++,b=Pe(u.J);if(lt(b,"SID",u.M),lt(b,"RID",m),lt(b,"TYPE","terminate"),ca(u,b),m=new qn(u,u.j,m),m.M=2,m.A=rs(Pe(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=m.A,b=!0),b||(m.g=Rc(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xi(m)}Ac(u)}function dr(u){u.g&&(el(u),u.g.cancel(),u.g=null)}function Ha(u){dr(u),u.v&&(h.clearTimeout(u.v),u.v=null),Ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function os(u){if(!sa(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ne||w(),Ue||(Ne(),Ue=!0),R.add(m,u),u.D=0}}function Fa(u,m){return oe(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ln(_(u.Ea,u,m),wc(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new qn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=V(F),ue(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=vc(this,U,m),b=Pe(this.J),lt(b,"RID",u),lt(b,"CVER",22),this.G&&lt(b,"X-HTTP-Session-Id",this.G),ca(this,b),F&&(this.R?m="headers="+Wn(Gt(F))+"&"+m:this.u&&Mn(b,this.u,F)),Fn(this.h,U),this.Ra&&lt(b,"TYPE","init"),this.S?(lt(b,"$req",m),lt(b,"SID","null"),U.U=!0,In(U,b,null)):In(U,b,m),this.I=2}}else this.I==3&&(u?Wo(this,u):this.i.length==0||sa(this.h)||Wo(this))};function Wo(u,m){var b;m?b=m.l:b=u.V++;const T=Pe(u.J);lt(T,"SID",u.M),lt(T,"RID",b),lt(T,"AID",u.K),ca(u,T),u.u&&u.o&&Mn(T,u.u,u.o),b=new qn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=vc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Fn(u.h,b),In(b,T,m)}function ca(u,m){u.H&&qe(u.H,function(b,T){lt(m,T,b)}),u.l&&qe({},function(b,T){lt(m,T,b)})}function vc(u,m,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let ze=-1;for(;;){const Yt=["count="+b];ze==-1?b>0?(ze=U[0].g,Yt.push("ofs="+ze)):ze=0:Yt.push("ofs="+ze);let ht=!0;for(let jt=0;jt<b;jt++){var F=U[jt].g;const Si=U[jt].map;if(F-=ze,F<0)ze=Math.max(0,U[jt].g-100),ht=!1;else try{F="req"+F+"_"||"";try{var ce=Si instanceof Map?Si:Object.entries(Si);for(const[cs,Fi]of ce){let Gi=Fi;g(Fi)&&(Gi=yi(Fi)),Yt.push(F+cs+"="+encodeURIComponent(Gi))}}catch(cs){throw Yt.push(F+"type="+encodeURIComponent("_badmap")),cs}}catch{T&&T(Si)}}if(ht){ce=Yt.join("&");break e}}ce=void 0}return u=u.i.splice(0,b),m.G=u,ce}function Ec(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ne||w(),Ue||(Ne(),Ue=!0),R.add(m,u),u.A=0}}function ua(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ln(_(u.Da,u),wc(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ln(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ot(10),dr(this),Tc(this))};function el(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Tc(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pe(u.na);lt(m,"RID","rpc"),lt(m,"SID",u.M),lt(m,"AID",u.K),lt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(m,"TO",u.ia),lt(m,"TYPE","xmlhttp"),ca(u,m),u.u&&u.o&&Mn(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=rs(Pe(m)),b.u=null,b.R=!0,Dn(b,u)}r.Va=function(){this.C!=null&&(this.C=null,dr(this),ua(this),ot(19))};function Ga(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Sc(u,m){var b=null;if(u.g==m){Ga(u),el(u),u.g=null;var T=2}else if(bn(u.h,m))b=m.G,cr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=an(),ft(T,new Zn(T,b)),os(u)}else Ec(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Fa(u,m)||T==2&&ua(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:ls(u,5);break;case 4:ls(u,10);break;case 3:ls(u,6);break;default:ls(u,2)}}}function wc(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function ls(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),T=u.Ua;const U=!T;T=new Gn(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Zt(T,"https"),rs(T),U?de(T.toString(),b):wt(T.toString(),b)}else ot(2);u.I=0,u.l&&u.l.pa(m),Ac(u),Ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ac(u){if(u.I=0,u.ja=[],u.l){const m=ra(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Nc(u,m,b){var T=b instanceof Gn?Pe(b):new Gn(b);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var U=h.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const F=new Gn(null);T&&Zt(F,T),m&&(F.g=m),U&&ss(F,U),b&&(F.h=b),T=F}return b=u.G,m=u.wa,b&&m&&lt(T,b,m),lt(T,"VER",u.ka),ca(u,T),T}function Rc(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ye(new vt({ab:b})):new Ye(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}r=Cc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function mr(){}mr.prototype.g=function(u,m){return new Yn(u,m)};function Yn(u,m){At.call(this),this.g=new hr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Rs(this)}S(Yn,At),Yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){Jo(this.g)},Yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=yi(u),u=b);m.i.push(new Vt(m.Ya++,u)),m.I==3&&os(m)},Yn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,Yn.Z.N.call(this)};function Ic(u){St.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Ic,St);function Dc(){xn.call(this),this.status=1}S(Dc,xn);function Rs(u){this.g=u}S(Rs,Cc),Rs.prototype.ra=function(){ft(this.g,"a")},Rs.prototype.qa=function(u){ft(this.g,new Ic(u))},Rs.prototype.pa=function(u){ft(this.g,new Dc)},Rs.prototype.oa=function(){ft(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Px=function(){return new mr},Ux=function(){return an()},Lx=rt,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Yu=zi,oi.COMPLETE="complete",jx=oi,es.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",At.prototype.listen=At.prototype.J,zl=es,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,kx=Ye}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const O1="@firebase/firestore",V1="4.9.2";class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");let Ko="12.3.0";const Oa=new jm("@firebase/firestore");function So(){return Oa.logLevel}function _e(r,...e){if(Oa.logLevel<=et.DEBUG){const i=e.map(Ym);Oa.debug(`Firestore (${Ko}): ${r}`,...i)}}function Js(r,...e){if(Oa.logLevel<=et.ERROR){const i=e.map(Ym);Oa.error(`Firestore (${Ko}): ${r}`,...i)}}function zo(r,...e){if(Oa.logLevel<=et.WARN){const i=e.map(Ym);Oa.warn(`Firestore (${Ko}): ${r}`,...i)}}function Ym(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Me(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,zx(r,s,i)}function zx(r,e,i){let s=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Js(s),new Error(s)}function gt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||zx(e,o,s)}function Le(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends er{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ca{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Bx{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(kn.UNAUTHENTICATED)))}shutdown(){}}class t4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class n4{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){gt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ca,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ca)}}),0),h()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(gt(typeof s.accessToken=="string",31837,{l:s}),new Bx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class i4{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s4{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new i4(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r4{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){gt(this.o===void 0,3512);const s=c=>{c.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,_e("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new k1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function a4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=a4(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function tt(r,e){return r<e?-1:r>e?1:0}function mm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Kd(o)===Kd(c)?tt(o,c):Kd(o)?1:-1}return tt(r.length,e.length)}const o4=55296,l4=57343;function Kd(r){const e=r.charCodeAt(0);return e>=o4&&e<=l4}function Bo(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const j1="__name__";class ms{constructor(e,i,s){i===void 0?i=0:i>e.length&&Me(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Me(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ms.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ms?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ms.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return tt(e.length,i.length)}static compareSegments(e,i){const s=ms.isNumericId(e),o=ms.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ms.extractNumericId(e).compare(ms.extractNumericId(i)):mm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class Bt extends ms{construct(e,i,s){return new Bt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Bt(i)}static emptyPath(){return new Bt([])}}const c4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends ms{construct(e,i,s){return new Rn(e,i,s)}static isValidIdentifier(e){return c4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j1}static keyField(){return new Rn([j1])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Ee(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let h=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new Ee(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ee(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(s+=g,o++):(c(),o++)}if(c(),h)throw new Ee(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(i)}static emptyPath(){return new Rn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Bt.fromString(e))}static fromName(e){return new Ce(Bt.fromString(e).popFirst(5))}static empty(){return new Ce(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Bt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Bt(e.slice()))}}function u4(r,e,i){if(!i)throw new Ee(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function f4(r,e,i,s){if(e===!0&&s===!0)throw new Ee(ne.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function L1(r){if(!Ce.isDocumentKey(r))throw new Ee(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qx(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Me(12329,{type:typeof r})}function Vo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ee(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Km(r);throw new Ee(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function rn(r,e){const i={typeString:r};return e&&(i.value=e),i}function pc(r,e){if(!qx(r))throw new Ee(ne.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new Ee(ne.INVALID_ARGUMENT,i);return!0}const U1=-62135596800,P1=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*P1);return new It(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U1)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P1}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pc(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:rn("string",It._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new It(0,0))}static max(){return new Ve(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function h4(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(s===1e9?new It(i+1,0):new It(i,s));return new Xr(o,Ce.empty(),e)}function d4(r){return new Xr(r.readTime,r.key,Wl)}class Xr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Xr(Ve.min(),Ce.empty(),Wl)}static max(){return new Xr(Ve.max(),Ce.empty(),Wl)}}function m4(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Ce.comparator(r.documentKey,e.documentKey),i!==0?i:tt(r.largestBatchId,e.largestBatchId))}const g4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $o(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==g4)throw r;_e("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof te?i:te.resolve(i)}catch(i){return te.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):te.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):te.reject(i)}static resolve(e){return new te(((i,s)=>{i(e)}))}static reject(e){return new te(((i,s)=>{s(e)}))}static waitFor(e){return new te(((i,s)=>{let o=0,c=0,h=!1;e.forEach((g=>{++o,g.next((()=>{++c,h&&c===o&&i()}),(y=>s(y)))})),h=!0,c===o&&i()}))}static or(e){let i=te.resolve(!1);for(const s of e)i=i.next((o=>o?te.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new te(((s,o)=>{const c=e.length,h=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((E=>{h[_]=E,++g,g===c&&s(h)}),(E=>o(E)))}}))}static doWhile(e,i){return new te(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function y4(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Xo(r){return r.name==="IndexedDbTransactionError"}class Nf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nf.ce=-1;const $m=-1;function Rf(r){return r==null}function uf(r){return r===0&&1/r==-1/0}function _4(r){return typeof r=="number"&&Number.isInteger(r)&&!uf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Hx="";function x4(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=z1(e)),e=b4(r.get(i),e);return z1(e)}function b4(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case Hx:i+="";break;default:i+=c}}return i}function z1(r){return r+Hx+""}function B1(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ja(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Fx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class qt{constructor(e,i){this.comparator=e,this.root=i||Nn.EMPTY}insert(e,i){return new qt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Nn.RED,this.left=o??Nn.EMPTY,this.right=c??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Nn(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q1(this.data.getIterator())}getIteratorFrom(e){return new q1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new hn(this.comparator);return i.data=e,i}}class q1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xi{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new Xi([])}unionWith(e){let i=new hn(Rn.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Xi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class Gx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Gx("Invalid base64 string: "+c):c}})(e);return new Cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const v4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(r){if(gt(!!r,39018),typeof r=="string"){let e=0;const i=v4.exec(r);if(gt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:$t(r.seconds),nanos:$t(r.nanos)}}function $t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Jr(r){return typeof r=="string"?Cn.fromBase64String(r):Cn.fromUint8Array(r)}const Yx="server_timestamp",Qx="__type__",Kx="__previous_value__",$x="__local_write_time__";function Xm(r){return(r?.mapValue?.fields||{})[Qx]?.stringValue===Yx}function Cf(r){const e=r.mapValue.fields[Kx];return Xm(e)?Cf(e):e}function ec(r){const e=Zr(r.mapValue.fields[$x].timestampValue);return new It(e.seconds,e.nanos)}class E4{constructor(e,i,s,o,c,h,g,y,_,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const tc="(default)";class nc{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}const Xx="__type__",T4="__max__",Uu={mapValue:{}},Zx="__vector__",ff="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xm(r)?4:w4(r)?9007199254740991:S4(r)?10:11:Me(28295,{value:r})}function vs(r,e){if(r===e)return!0;const i=Wr(r);if(i!==Wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ec(r).isEqual(ec(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Zr(o.timestampValue),g=Zr(c.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Jr(o.bytesValue).isEqual(Jr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return $t(o.geoPointValue.latitude)===$t(c.geoPointValue.latitude)&&$t(o.geoPointValue.longitude)===$t(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return $t(o.integerValue)===$t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=$t(o.doubleValue),g=$t(c.doubleValue);return h===g?uf(h)===uf(g):isNaN(h)&&isNaN(g)}return!1})(r,e);case 9:return Bo(r.arrayValue.values||[],e.arrayValue.values||[],vs);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},g=c.mapValue.fields||{};if(B1(h)!==B1(g))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(g[y]===void 0||!vs(h[y],g[y])))return!1;return!0})(r,e);default:return Me(52216,{left:r})}}function ic(r,e){return(r.values||[]).find((i=>vs(i,e)))!==void 0}function qo(r,e){if(r===e)return 0;const i=Wr(r),s=Wr(e);if(i!==s)return tt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return tt(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const g=$t(c.integerValue||c.doubleValue),y=$t(h.integerValue||h.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return H1(r.timestampValue,e.timestampValue);case 4:return H1(ec(r),ec(e));case 5:return mm(r.stringValue,e.stringValue);case 6:return(function(c,h){const g=Jr(c),y=Jr(h);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const g=c.split("/"),y=h.split("/");for(let _=0;_<g.length&&_<y.length;_++){const E=tt(g[_],y[_]);if(E!==0)return E}return tt(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const g=tt($t(c.latitude),$t(h.latitude));return g!==0?g:tt($t(c.longitude),$t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return F1(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const g=c.fields||{},y=h.fields||{},_=g[ff]?.arrayValue,E=y[ff]?.arrayValue,S=tt(_?.values?.length||0,E?.values?.length||0);return S!==0?S:F1(_,E)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Uu.mapValue&&h===Uu.mapValue)return 0;if(c===Uu.mapValue)return 1;if(h===Uu.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=h.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const N=mm(y[S],E[S]);if(N!==0)return N;const P=qo(g[y[S]],_[E[S]]);if(P!==0)return P}return tt(y.length,E.length)})(r.mapValue,e.mapValue);default:throw Me(23264,{he:i})}}function H1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return tt(r,e);const i=Zr(r),s=Zr(e),o=tt(i.seconds,s.seconds);return o!==0?o:tt(i.nanos,s.nanos)}function F1(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=qo(i[o],s[o]);if(c)return c}return tt(i.length,s.length)}function Ho(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Zr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Jr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Ce.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=gm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${gm(i.fields[h])}`;return o+"}"})(r.mapValue):Me(61005,{value:r})}function Qu(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(r);return e?16+Qu(e):16;case 5:return 2*r.stringValue.length;case 6:return Jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Qu(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ja(s.fields,((c,h)=>{o+=c.length+Qu(h)})),o})(r.mapValue);default:throw Me(13486,{value:r})}}function pm(r){return!!r&&"integerValue"in r}function Zm(r){return!!r&&"arrayValue"in r}function G1(r){return!!r&&"nullValue"in r}function Y1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ku(r){return!!r&&"mapValue"in r}function S4(r){return(r?.mapValue?.fields||{})[Xx]?.stringValue===Zx}function Ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ja(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ql(r.arrayValue.values[i]);return e}return{...r}}function w4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===T4}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ku(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(i)}setAll(e){let i=Rn.emptyPath(),s={},o=[];e.forEach(((h,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}h?s[g.lastSegment()]=Ql(h):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Ku(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return vs(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ja(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new Vi(Ql(this.value))}}function Jx(r){const e=[];return ja(r.fields,((i,s)=>{const o=new Rn([i]);if(Ku(s)){const c=Jx(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Xi(e)}class jn{constructor(e,i,s,o,c,h,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=g}static newInvalidDocument(e){return new jn(e,0,Ve.min(),Ve.min(),Ve.min(),Vi.empty(),0)}static newFoundDocument(e,i,s,o){return new jn(e,1,i,Ve.min(),s,o,0)}static newNoDocument(e,i){return new jn(e,2,i,Ve.min(),Ve.min(),Vi.empty(),0)}static newUnknownDocument(e,i){return new jn(e,3,i,Ve.min(),Ve.min(),Vi.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hf{constructor(e,i){this.position=e,this.inclusive=i}}function Q1(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?s=Ce.comparator(Ce.fromName(h.referenceValue),i.key):s=qo(h,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function K1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!vs(r.position[i],e.position[i]))return!1;return!0}class df{constructor(e,i="asc"){this.field=e,this.dir=i}}function A4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Wx{}class fn extends Wx{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new R4(e,i,s):i==="array-contains"?new D4(e,s):i==="in"?new M4(e,s):i==="not-in"?new O4(e,s):i==="array-contains-any"?new V4(e,s):new fn(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new C4(e,s):new I4(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(qo(i,this.value)):i!==null&&Wr(this.value)===Wr(i)&&this.matchesComparison(qo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends Wx{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Es(e,i)}matches(e){return eb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eb(r){return r.op==="and"}function tb(r){return N4(r)&&eb(r)}function N4(r){for(const e of r.filters)if(e instanceof Es)return!1;return!0}function ym(r){if(r instanceof fn)return r.field.canonicalString()+r.op.toString()+Ho(r.value);if(tb(r))return r.filters.map((e=>ym(e))).join(",");{const e=r.filters.map((i=>ym(i))).join(",");return`${r.op}(${e})`}}function nb(r,e){return r instanceof fn?(function(s,o){return o instanceof fn&&s.op===o.op&&s.field.isEqual(o.field)&&vs(s.value,o.value)})(r,e):r instanceof Es?(function(s,o){return o instanceof Es&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,g)=>c&&nb(h,o.filters[g])),!0):!1})(r,e):void Me(19439)}function ib(r){return r instanceof fn?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ho(i.value)}`})(r):r instanceof Es?(function(i){return i.op.toString()+" {"+i.getFilters().map(ib).join(" ,")+"}"})(r):"Filter"}class R4 extends fn{constructor(e,i,s){super(e,i,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const i=Ce.comparator(e.key,this.key);return this.matchesComparison(i)}}class C4 extends fn{constructor(e,i){super(e,"in",i),this.keys=sb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class I4 extends fn{constructor(e,i){super(e,"not-in",i),this.keys=sb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function sb(r,e){return(e.arrayValue?.values||[]).map((i=>Ce.fromName(i.referenceValue)))}class D4 extends fn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zm(i)&&ic(i.arrayValue,this.value)}}class M4 extends fn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ic(this.value.arrayValue,i)}}class O4 extends fn{constructor(e,i){super(e,"not-in",i)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ic(this.value.arrayValue,i)}}class V4 extends fn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ic(this.value.arrayValue,s)))}}class k4{constructor(e,i=null,s=[],o=[],c=null,h=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=g,this.Te=null}}function $1(r,e=null,i=[],s=[],o=null,c=null,h=null){return new k4(r,e,i,s,o,c,h)}function Jm(r){const e=Le(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>ym(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Rf(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ho(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ho(s))).join(",")),e.Te=i}return e.Te}function Wm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!A4(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!nb(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!K1(r.startAt,e.startAt)&&K1(r.endAt,e.endAt)}function _m(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class If{constructor(e,i=null,s=[],o=[],c=null,h="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j4(r,e,i,s,o,c,h,g){return new If(r,e,i,s,o,c,h,g)}function e0(r){return new If(r)}function X1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function L4(r){return r.collectionGroup!==null}function Kl(r){const e=Le(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new hn(Rn.comparator);return h.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new df(c,s))})),i.has(Rn.keyField().canonicalString())||e.Ie.push(new df(Rn.keyField(),s))}return e.Ie}function ys(r){const e=Le(r);return e.Ee||(e.Ee=U4(e,Kl(r))),e.Ee}function U4(r,e){if(r.limitType==="F")return $1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new df(o.field,c)}));const i=r.endAt?new hf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new hf(r.startAt.position,r.startAt.inclusive):null;return $1(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function xm(r,e,i){return new If(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Df(r,e){return Wm(ys(r),ys(e))&&r.limitType===e.limitType}function rb(r){return`${Jm(ys(r))}|lt:${r.limitType}`}function wo(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>ib(o))).join(", ")}]`),Rf(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ho(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ho(o))).join(",")),`Target(${s})`})(ys(r))}; limitType=${r.limitType})`}function Mf(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ce.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of Kl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,g,y){const _=Q1(h,g,y);return h.inclusive?_<=0:_<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(h,g,y){const _=Q1(h,g,y);return h.inclusive?_>=0:_>0})(s.endAt,Kl(s),o))})(r,e)}function P4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ab(r){return(e,i)=>{let s=!1;for(const o of Kl(r)){const c=z4(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function z4(r,e,i){const s=r.field.isKeyField()?Ce.comparator(e.key,i.key):(function(c,h,g){const y=h.data.field(c),_=g.data.field(c);return y!==null&&_!==null?qo(y,_):Me(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:r.dir})}}class La{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return Fx(this.inner)}size(){return this.innerSize}}const B4=new qt(Ce.comparator);function Ws(){return B4}const ob=new qt(Ce.comparator);function Bl(...r){let e=ob;for(const i of r)e=e.insert(i.key,i);return e}function lb(r){let e=ob;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ra(){return $l()}function cb(){return $l()}function $l(){return new La((r=>r.toString()),((r,e)=>r.isEqual(e)))}const q4=new qt(Ce.comparator),H4=new hn(Ce.comparator);function nt(...r){let e=H4;for(const i of r)e=e.add(i);return e}const F4=new hn(tt);function G4(){return F4}function t0(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function ub(r){return{integerValue:""+r}}function Y4(r,e){return _4(e)?ub(e):t0(r,e)}class Of{constructor(){this._=void 0}}function Q4(r,e,i){return r instanceof mf?(function(o,c){const h={fields:{[Qx]:{stringValue:Yx},[$x]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Xm(c)&&(c=Cf(c)),c&&(h.fields[Kx]=c),{mapValue:h}})(i,e):r instanceof sc?hb(r,e):r instanceof rc?db(r,e):(function(o,c){const h=fb(o,c),g=Z1(h)+Z1(o.Ae);return pm(h)&&pm(o.Ae)?ub(g):t0(o.serializer,g)})(r,e)}function K4(r,e,i){return r instanceof sc?hb(r,e):r instanceof rc?db(r,e):i}function fb(r,e){return r instanceof gf?(function(s){return pm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class mf extends Of{}class sc extends Of{constructor(e){super(),this.elements=e}}function hb(r,e){const i=mb(e);for(const s of r.elements)i.some((o=>vs(o,s)))||i.push(s);return{arrayValue:{values:i}}}class rc extends Of{constructor(e){super(),this.elements=e}}function db(r,e){let i=mb(e);for(const s of r.elements)i=i.filter((o=>!vs(o,s)));return{arrayValue:{values:i}}}class gf extends Of{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Z1(r){return $t(r.integerValue||r.doubleValue)}function mb(r){return Zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function $4(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof sc&&o instanceof sc||s instanceof rc&&o instanceof rc?Bo(s.elements,o.elements,vs):s instanceof gf&&o instanceof gf?vs(s.Ae,o.Ae):s instanceof mf&&o instanceof mf})(r.transform,e.transform)}class X4{constructor(e,i){this.version=e,this.transformResults=i}}class Qs{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Qs}static exists(e){return new Qs(void 0,e)}static updateTime(e){return new Qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Vf{}function gb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new yb(r.key,Qs.none()):new yc(r.key,r.data,Qs.none());{const i=r.data,s=Vi.empty();let o=new hn(Rn.comparator);for(let c of e.fields)if(!o.has(c)){let h=i.field(c);h===null&&c.length>1&&(c=c.popLast(),h=i.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Ua(r.key,s,new Xi(o.toArray()),Qs.none())}}function Z4(r,e,i){r instanceof yc?(function(o,c,h){const g=o.value.clone(),y=W1(o.fieldTransforms,c,h.transformResults);g.setAll(y),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Ua?(function(o,c,h){if(!$u(o.precondition,c))return void c.convertToUnknownDocument(h.version);const g=W1(o.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(pb(o)),y.setAll(g),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()})(r,e,i):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,i)}function Xl(r,e,i,s){return r instanceof yc?(function(c,h,g,y){if(!$u(c.precondition,h))return g;const _=c.value.clone(),E=e_(c.fieldTransforms,y,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ua?(function(c,h,g,y){if(!$u(c.precondition,h))return g;const _=e_(c.fieldTransforms,y,h),E=h.data;return E.setAll(pb(c)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(c,h,g){return $u(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g})(r,e,i)}function J4(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=fb(s.transform,o||null);c!=null&&(i===null&&(i=Vi.empty()),i.set(s.field,c))}return i||null}function J1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bo(s,o,((c,h)=>$4(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yc extends Vf{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ua extends Vf{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pb(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function W1(r,e,i){const s=new Map;gt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],h=c.transform,g=e.data.field(c.field);s.set(c.field,K4(h,g,i[o]))}return s}function e_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,h=i.data.field(o.field);s.set(o.field,Q4(c,h,e))}return s}class yb extends Vf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W4 extends Vf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class e6{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Z4(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Xl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Xl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=cb();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let g=this.applyToLocalView(h,c.mutatedFields);g=i.has(o.key)?null:g;const y=gb(h,g);y!==null&&s.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((i,s)=>J1(i,s)))&&Bo(this.baseMutations,e.baseMutations,((i,s)=>J1(i,s)))}}class n0{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){gt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return q4})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new n0(e,i,s,o)}}class t6{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class n6{constructor(e,i){this.count=e,this.unchangedNames=i}}var sn,at;function i6(r){switch(r){case ne.OK:return Me(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Me(15467,{code:r})}}function _b(r){if(r===void 0)return Js("GRPC error has no .code"),ne.UNKNOWN;switch(r){case sn.OK:return ne.OK;case sn.CANCELLED:return ne.CANCELLED;case sn.UNKNOWN:return ne.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ne.INTERNAL;case sn.UNAVAILABLE:return ne.UNAVAILABLE;case sn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case sn.NOT_FOUND:return ne.NOT_FOUND;case sn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case sn.ABORTED:return ne.ABORTED;case sn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case sn.DATA_LOSS:return ne.DATA_LOSS;default:return Me(39323,{code:r})}}(at=sn||(sn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";function s6(){return new TextEncoder}const r6=new Kr([4294967295,4294967295],0);function t_(r){const e=s6().encode(r),i=new Vx;return i.update(e),new Uint8Array(i.digest())}function n_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Kr([i,s],0),new Kr([o,c],0)]}class i0{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Kr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Kr.fromNumber(s)));return o.compare(r6)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=t_(e),[s,o]=n_(i);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new i0(c,o,i);return s.forEach((g=>h.insert(g))),h}insert(e){if(this.ge===0)return;const i=t_(e),[s,o]=n_(i);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.Se(h)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kf{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new kf(Ve.min(),o,new qt(tt),Ws(),nt())}}class _c{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new _c(s,i,nt(),nt(),nt())}}class Xu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class xb{constructor(e,i){this.targetId=e,this.Ce=i}}class bb{constructor(e,i,s=Cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class i_{constructor(){this.ve=0,this.Fe=s_(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),i=nt(),s=nt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Me(38017,{changeType:c})}})),new _c(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=s_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ws(),this.Je=Pu(),this.He=Pu(),this.Ye=new qt(tt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(_m(c))if(s===0){const h=new Ce(c.path);this.et(i,h,jn.newNoDocument(h,Ve.min()))}else gt(s===1,20013,{expectedCount:s});else{const h=this._t(i);if(h!==s){const g=this.ut(e),y=g?this.ct(g,e,h):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let h,g;try{h=Jr(s).toUint8Array()}catch(y){if(y instanceof Gx)return zo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new i0(h,o,c)}catch(y){return zo(y instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),g=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,h)=>{const g=this.ot(h);if(g){if(c.current&&_m(g.target)){const y=new Ce(g.target.path);this.It(y).has(h)||this.Et(h,y)||this.et(h,y,jn.newNoDocument(y,e))}c.Be&&(i.set(h,c.ke()),c.qe())}}));let s=nt();this.He.forEach(((c,h)=>{let g=!0;h.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new kf(e,i,this.Ye,this.je,s);return this.je=Ws(),this.Je=Pu(),this.He=Pu(),this.Ye=new qt(tt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new i_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new hn(tt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new hn(tt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||_e("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pu(){return new qt(Ce.comparator)}function s_(){return new qt(Ce.comparator)}const o6={asc:"ASCENDING",desc:"DESCENDING"},l6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c6={and:"AND",or:"OR"};class u6{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(r,e){return r.useProto3Json||Rf(e)?e:{value:e}}function pf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function f6(r,e){return pf(r,e.toTimestamp())}function _s(r){return gt(!!r,49232),Ve.fromTimestamp((function(i){const s=Zr(i);return new It(s.seconds,s.nanos)})(r))}function s0(r,e){return vm(r,e).canonicalString()}function vm(r,e){const i=(function(o){return new Bt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Eb(r){const e=Bt.fromString(r);return gt(Nb(e),10190,{key:e.toString()}),e}function Em(r,e){return s0(r.databaseId,e.path)}function $d(r,e){const i=Eb(e);if(i.get(1)!==r.databaseId.projectId)throw new Ee(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new Ee(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Ce(Sb(i))}function Tb(r,e){return s0(r.databaseId,e)}function h6(r){const e=Eb(r);return e.length===4?Bt.emptyPath():Sb(e)}function Tm(r){return new Bt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Sb(r){return gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function r_(r,e,i){return{name:Em(r,e),fields:i.value.mapValue.fields}}function d6(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Me(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(gt(E===void 0||typeof E=="string",58123),Cn.fromBase64String(E||"")):(gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Cn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&(function(_){const E=_.code===void 0?ne.UNKNOWN:_b(_.code);return new Ee(E,_.message||"")})(h);i=new bb(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$d(r,s.document.name),c=_s(s.document.updateTime),h=s.document.createTime?_s(s.document.createTime):Ve.min(),g=new Vi({mapValue:{fields:s.document.fields}}),y=jn.newFoundDocument(o,c,h,g),_=s.targetIds||[],E=s.removedTargetIds||[];i=new Xu(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$d(r,s.document),c=s.readTime?_s(s.readTime):Ve.min(),h=jn.newNoDocument(o,c),g=s.removedTargetIds||[];i=new Xu([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$d(r,s.document),c=s.removedTargetIds||[];i=new Xu([],c,o,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new n6(o,c),g=s.targetId;i=new xb(g,h)}}return i}function m6(r,e){let i;if(e instanceof yc)i={update:r_(r,e.key,e.value)};else if(e instanceof yb)i={delete:Em(r,e.key)};else if(e instanceof Ua)i={update:r_(r,e.key,e.data),updateMask:T6(e.fieldMask)};else{if(!(e instanceof W4))return Me(16599,{Vt:e.type});i={verify:Em(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const g=h.transform;if(g instanceof mf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof sc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof rc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof gf)return{fieldPath:h.field.canonicalString(),increment:g.Ae};throw Me(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:f6(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Me(27497)})(r,e.precondition)),i}function g6(r,e){return r&&r.length>0?(gt(e!==void 0,14353),r.map((i=>(function(o,c){let h=o.updateTime?_s(o.updateTime):_s(c);return h.isEqual(Ve.min())&&(h=_s(c)),new X4(h,o.transformResults||[])})(i,e)))):[]}function p6(r,e){return{documents:[Tb(r,e.path)]}}function y6(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Tb(r,o);const c=(function(_){if(_.length!==0)return Ab(Es.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const h=(function(_){if(_.length!==0)return _.map((E=>(function(N){return{field:Ao(N.field),direction:b6(N.dir)}})(E)))})(e.orderBy);h&&(i.structuredQuery.orderBy=h);const g=bm(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function _6(r){let e=h6(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){gt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const N=wb(S);return N instanceof Es&&tb(N)?N.getFilters():[N]})(i.where));let h=[];i.orderBy&&(h=(function(S){return S.map((N=>(function(Z){return new df(No(Z.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,Rf(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(S){const N=!!S.before,P=S.values||[];return new hf(P,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,P=S.values||[];return new hf(P,N)})(i.endAt)),j4(e,o,h,c,g,"F",y,_)}function x6(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function wb(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=No(i.unaryFilter.field);return fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(i.unaryFilter.field);return fn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=No(i.unaryFilter.field);return fn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=No(i.unaryFilter.field);return fn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(r):r.fieldFilter!==void 0?(function(i){return fn.create(No(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Es.create(i.compositeFilter.filters.map((s=>wb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(i.compositeFilter.op))})(r):Me(30097,{filter:r})}function b6(r){return o6[r]}function v6(r){return l6[r]}function E6(r){return c6[r]}function Ao(r){return{fieldPath:r.canonicalString()}}function No(r){return Rn.fromServerFormat(r.fieldPath)}function Ab(r){return r instanceof fn?(function(i){if(i.op==="=="){if(Y1(i.value))return{unaryFilter:{field:Ao(i.field),op:"IS_NAN"}};if(G1(i.value))return{unaryFilter:{field:Ao(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y1(i.value))return{unaryFilter:{field:Ao(i.field),op:"IS_NOT_NAN"}};if(G1(i.value))return{unaryFilter:{field:Ao(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(i.field),op:v6(i.op),value:i.value}}})(r):r instanceof Es?(function(i){const s=i.getFilters().map((o=>Ab(o)));return s.length===1?s[0]:{compositeFilter:{op:E6(i.op),filters:s}}})(r):Me(54877,{filter:r})}function T6(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Nb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Fr{constructor(e,i,s,o,c=Ve.min(),h=Ve.min(),g=Cn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class S6{constructor(e){this.yt=e}}function w6(r){const e=_6({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xm(e,e.limit,"L"):e}class A6{constructor(){this.Cn=new N6}addToCollectionParentIndex(e,i){return this.Cn.add(i),te.resolve()}getCollectionParents(e,i){return te.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return te.resolve()}deleteFieldIndex(e,i){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,i){return te.resolve()}getDocumentsMatchingTarget(e,i){return te.resolve(null)}getIndexType(e,i){return te.resolve(0)}getFieldIndexes(e,i){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,i){return te.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,i){return te.resolve(Xr.min())}updateCollectionGroup(e,i,s){return te.resolve()}updateIndexEntries(e,i){return te.resolve()}}class N6{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new hn(Bt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new hn(Bt.comparator)).toArray()}}const a_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=41943040;class ai{static withCacheSize(e){return new ai(e,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(Rb,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);class Fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fo(0)}static cr(){return new Fo(-1)}}const o_="LruGarbageCollector",Cb=1048576;function l_([r,e],[i,s]){const o=tt(r,i);return o===0?tt(e,s):o}class R6{constructor(e){this.Ir=e,this.buffer=new hn(l_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();l_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class C6{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(o_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Xo(i)?_e(o_,"Ignoring IndexedDB error during garbage collection: ",i):await $o(i)}await this.Vr(3e5)}))}}class I6{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return te.resolve(Nf.ce);const s=new R6(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(a_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,h,g,y,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(_=Date.now(),So()<=et.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function D6(r,e){return new I6(r,e)}class M6{constructor(){this.changes=new La((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?te.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class O6{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class V6{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Xl(s.mutation,o,Xi.empty(),It.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,nt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=nt()){const o=Ra();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let h=Bl();return c.forEach(((g,y)=>{h=h.insert(g,y.overlayedDocument)})),h}))))}getOverlayedDocuments(e,i){const s=Ra();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,nt())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,g)=>{i.set(h,g)}))}))}computeViews(e,i,s,o){let c=Ws();const h=$l(),g=(function(){return $l()})();return i.forEach(((y,_)=>{const E=s.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof Ua)?c=c.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Xl(E.mutation,_,E.mutation.getFieldMask(),It.now())):h.set(_.key,Xi.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,E)=>h.set(_,E))),i.forEach(((_,E)=>g.set(_,new O6(E,h.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new qt(((h,g)=>h-g)),c=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((h=>{for(const g of h)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=s.get(y)||Xi.empty();E=g.applyToLocalView(_,E),s.set(y,E);const S=(o.get(g.batchId)||nt()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,E=y.value,S=cb();E.forEach((N=>{if(!c.has(N)){const P=gb(i.get(N),s.get(N));P!==null&&S.set(N,P),c=c.add(N)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,S))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(h){return Ce.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):L4(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):te.resolve(Ra());let g=Wl,y=c;return h.next((_=>te.forEach(_,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((N=>{y=y.insert(E,N)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,nt()))).next((E=>({batchId:g,changes:lb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ce(i)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let h=Bl();return this.indexManager.getCollectionParents(e,c).next((g=>te.forEach(g,(y=>{const _=(function(S,N){return new If(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((E=>{E.forEach(((S,N)=>{h=h.insert(S,N)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((h=>{c.forEach(((y,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,jn.newInvalidDocument(E)))}));let g=Bl();return h.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Xl(E.mutation,_,Xi.empty(),It.now()),Mf(i,_)&&(g=g.insert(y,_))})),g}))}}class k6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return te.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:_s(o.createTime)}})(i)),te.resolve()}getNamedQuery(e,i){return te.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:w6(o.bundledQuery),readTime:_s(o.readTime)}})(i)),te.resolve()}}class j6{constructor(){this.overlays=new qt(Ce.comparator),this.qr=new Map}getOverlay(e,i){return te.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ra();return te.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),te.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,i,s){const o=Ra(),c=i.length+1,h=new Ce(i.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return te.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new qt(((_,E)=>_-E));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let E=c.get(_.largestBatchId);E===null&&(E=Ra(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const g=Ra(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>g.set(_,E))),!(g.size()>=o)););return te.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new t6(i,s));let c=this.qr.get(i);c===void 0&&(c=nt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class L6{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,te.resolve()}}class r0{constructor(){this.Qr=new hn(gn.$r),this.Ur=new hn(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new gn(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new gn(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new Ce(new Bt([])),s=new gn(i,e),o=new gn(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ce(new Bt([])),s=new gn(i,e),o=new gn(i,e+1);let c=nt();return this.Ur.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const i=new gn(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class gn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ce.comparator(e.key,i.key)||tt(e.Yr,i.Yr)}static Kr(e,i){return tt(e.Yr,i.Yr)||Ce.comparator(e.key,i.key)}}class U6{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new hn(gn.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new e6(c,i,s,o);this.mutationQueue.push(h);for(const g of o)this.Zr=this.Zr.add(new gn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,i){return te.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?$m:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new gn(i,0),o=new gn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(h=>{const g=this.Xr(h.Yr);c.push(g)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new hn(tt);return i.forEach((o=>{const c=new gn(o,0),h=new gn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(g=>{s=s.add(g.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;Ce.isDocumentKey(c)||(c=c.child(""));const h=new gn(new Ce(c),0);let g=new hn(tt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),h),te.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(i.mutations,(o=>{const c=new gn(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new gn(i,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class P6{constructor(e){this.ri=e,this.docs=(function(){return new qt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,h=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return te.resolve(s?s.document.mutableCopy():jn.newInvalidDocument(i))}getEntries(e,i){let s=Ws();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():jn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Ws();const h=i.path,g=new Ce(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||m4(d4(E),s)<=0||(o.has(E.key)||Mf(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Me(9500)}ii(e,i){return te.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new z6(this)}getSize(e){return te.resolve(this.size)}}class z6 extends M6{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class B6{constructor(e){this.persistence=e,this.si=new La((i=>Jm(i)),Wm),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new r0,this.targetCount=0,this.ai=Fo.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),te.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Fo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,te.resolve()}updateTargetData(e,i){return this.Pr(i),te.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((h,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return te.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),te.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),te.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return te.resolve(s)}containsKey(e,i){return te.resolve(this._i.containsKey(i))}}class Ib{constructor(e,i){this.ui={},this.overlays={},this.ci=new Nf(0),this.li=!1,this.li=!0,this.hi=new L6,this.referenceDelegate=e(this),this.Pi=new B6(this),this.indexManager=new A6,this.remoteDocumentCache=(function(o){return new P6(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new S6(i),this.Ii=new k6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new j6,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new U6(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){_e("MemoryPersistence","Starting transaction:",e);const o=new q6(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class q6 extends p4{constructor(e){super(),this.currentSequenceNumber=e}}class a0{constructor(e){this.persistence=e,this.Ri=new r0,this.Vi=null}static mi(e){return new a0(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),te.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),te.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=Ce.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return te.or([()=>te.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class yf{constructor(e,i){this.persistence=e,this.pi=new La((s=>x4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=D6(this,i)}static mi(e,i){return new yf(e,i)}Ei(){}di(e){return te.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?te.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,i).next((g=>{g||(s++,c.removeEntry(h,Ve.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}br(e,i,s){return te.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class o0{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=nt(),o=nt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new o0(e,i.fromCache,s,o)}}class H6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kT()?8:y4(Ln())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new H6;return this.Ss(e,i,h).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,h,g.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(So()<=et.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",wo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(So()<=et.DEBUG&&_e("QueryEngine","Query:",wo(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(So()<=et.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",wo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(i))):te.resolve())}ys(e,i){if(X1(i))return te.resolve(null);let s=ys(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=xm(i,null,"F"),s=ys(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=nt(...c);return this.ps.getDocuments(e,h).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,h,y.readTime)?this.ys(e,xm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,s,o){return X1(i)||o.isEqual(Ve.min())?te.resolve(null):this.ps.getDocuments(e,s).next((c=>{const h=this.Ds(i,c);return this.Cs(i,h,s,o)?te.resolve(null):(So()<=et.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(i)),this.vs(e,h,i,h4(o,Wl)).next((g=>g)))}))}Ds(e,i){let s=new hn(ab(e));return i.forEach(((o,c)=>{Mf(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return So()<=et.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",wo(i)),this.ps.getDocumentsMatchingQuery(e,i,Xr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const l0="LocalStore",G6=3e8;class Y6{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new qt(tt),this.xs=new La((c=>Jm(c)),Wm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Q6(r,e,i,s){return new Y6(r,e,i,s)}async function Db(r,e){const i=Le(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],g=[];let y=nt();for(const _ of o){h.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){g.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:h,addedBatchIds:g})))}))}))}function K6(r,e){const i=Le(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,E){const S=_.batch,N=S.keys();let P=te.resolve();return N.forEach((Z=>{P=P.next((()=>E.getEntry(y,Z))).next(($=>{const ie=_.docVersions.get(Z);gt(ie!==null,48541),$.version.compareTo(ie)<0&&(S.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),E.addEntry($)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=nt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function Mb(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function $6(r,e){const i=Le(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,S)=>{const N=o.get(S);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let P=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(Cn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),(function($,ie,he){return $.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=G6?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(N,P,E)&&g.push(i.Pi.updateTargetData(c,P))}));let y=Ws(),_=nt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(X6(c,h,e.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!s.isEqual(Ve.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return te.waitFor(g).next((()=>h.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function X6(r,e,i){let s=nt(),o=nt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let h=Ws();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Ve.min())?(e.removeEntry(g,y.readTime),h=h.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),h=h.insert(g,y)):_e(l0,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:h,qs:o}}))}function Z6(r,e){const i=Le(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=$m),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function J6(r,e){const i=Le(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,te.resolve(o)):i.Pi.allocateTargetId(s).next((h=>(o=new Fr(e,h,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Sm(r,e,i){const s=Le(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Xo(h))throw h;_e(l0,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function c_(r,e,i){const s=Le(r);let o=Ve.min(),c=nt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(y,_,E){const S=Le(y),N=S.xs.get(E);return N!==void 0?te.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,E)})(s,h,ys(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,i?o:Ve.min(),i?c:nt()))).next((g=>(W6(s,P4(e),g),{documents:g,Qs:c})))))}function W6(r,e,i){let s=r.Os.get(e)||Ve.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class u_{constructor(){this.activeTargetIds=G4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e3{constructor(){this.Mo=new u_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new u_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class t3{Oo(e){}shutdown(){}}const f_="ConnectivityMonitor";class h_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(f_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(f_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zu=null;function wm(){return zu===null?zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():zu++,"0x"+zu.toString(16)}const Xd="RestConnection",n3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===tc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const h=wm(),g=this.zo(e,i.toUriEncodedString());_e(Xd,`Sending RPC '${e}' ${h}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),E=ka(_);return this.Jo(e,g,y,s,E).then((S=>(_e(Xd,`Received RPC '${e}' ${h}: `,S),S)),(S=>{throw zo(Xd,`RPC '${e}' ${h} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,i,s,o,c,h){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=n3[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class s3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Vn="WebChannelConnection";class r3 extends i3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const h=wm();return new Promise(((g,y)=>{const _=new kx;_.setWithCredentials(!0),_.listenOnce(jx.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Yu.NO_ERROR:const S=_.getResponseJson();_e(Vn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),g(S);break;case Yu.TIMEOUT:_e(Vn,`RPC '${e}' ${h} timed out`),y(new Ee(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const N=_.getStatus();if(_e(Vn,`RPC '${e}' ${h} failed with status:`,N,"response text:",_.getResponseText()),N>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const Z=P?.error;if(Z&&Z.status&&Z.message){const $=(function(he){const De=he.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(De)>=0?De:ne.UNKNOWN})(Z.status);y(new Ee($,Z.message))}else y(new Ee(ne.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new Ee(ne.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:h,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{_e(Vn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);_e(Vn,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Px(),g=Ux(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");_e(Vn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=h.createWebChannel(E,y);this.I_(S);let N=!1,P=!1;const Z=new s3({Yo:ie=>{P?_e(Vn,`Not sending because RPC '${e}' stream ${o} is closed:`,ie):(N||(_e(Vn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),_e(Vn,`RPC '${e}' stream ${o} sending:`,ie),S.send(ie))},Zo:()=>S.close()}),$=(ie,he,De)=>{ie.listen(he,(ye=>{try{De(ye)}catch(Fe){setTimeout((()=>{throw Fe}),0)}}))};return $(S,zl.EventType.OPEN,(()=>{P||(_e(Vn,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),$(S,zl.EventType.CLOSE,(()=>{P||(P=!0,_e(Vn,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(S))})),$(S,zl.EventType.ERROR,(ie=>{P||(P=!0,zo(Vn,`RPC '${e}' stream ${o} transport errored. Name:`,ie.name,"Message:",ie.message),Z.a_(new Ee(ne.UNAVAILABLE,"The operation could not be completed")))})),$(S,zl.EventType.MESSAGE,(ie=>{if(!P){const he=ie.data[0];gt(!!he,16349);const De=he,ye=De?.error||De[0]?.error;if(ye){_e(Vn,`RPC '${e}' stream ${o} received error:`,ye);const Fe=ye.status;let Ne=(function(w){const A=sn[w];if(A!==void 0)return _b(A)})(Fe),Ue=ye.message;Ne===void 0&&(Ne=ne.INTERNAL,Ue="Unknown error status: "+Fe+" with message "+ye.message),P=!0,Z.a_(new Ee(Ne,Ue)),S.close()}else _e(Vn,`RPC '${e}' stream ${o} received:`,he),Z.u_(he)}})),$(g,Lx.STAT_EVENT,(ie=>{ie.stat===dm.PROXY?_e(Vn,`RPC '${e}' stream ${o} detected buffering proxy`):ie.stat===dm.NOPROXY&&_e(Vn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zd(){return typeof document<"u"?document:null}function jf(r){return new u6(r,!0)}class Ob{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const d_="PersistentStream";class Vb{constructor(e,i,s,o,c,h,g,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ob(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ne.RESOURCE_EXHAUSTED?(Js(i.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ee(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(d_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(_e(d_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class a3 extends Vb{constructor(e,i,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,h),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=d6(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ve.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ve.min():h.readTime?_s(h.readTime):Ve.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,h){let g;const y=h.target;if(g=_m(y)?{documents:p6(c,y)}:{query:y6(c,y).ft},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=vb(c,h.resumeToken);const _=bm(c,h.expectedCount);_!==null&&(g.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ve.min())>0){g.readTime=pf(c,h.snapshotVersion.toTimestamp());const _=bm(c,h.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=x6(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Tm(this.serializer),i.removeTarget=e,this.q_(i)}}class o3 extends Vb{constructor(e,i,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=g6(e.writeResults,e.commitTime),s=_s(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Tm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>m6(this.serializer,s)))};this.q_(i)}}class l3{}class c3 extends l3{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ee(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,vm(i,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ne.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,g])=>this.connection.Ho(e,vm(i,s),o,h,g,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ee(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class u3{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Js(i),this.aa=!1):_e("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Va="RemoteStore";class f3{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Pa(this)&&(_e(Va,"Restarting streams for network reachability change."),await(async function(y){const _=Le(y);_.Ea.add(4),await xc(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Lf(_)})(this))}))})),this.Ra=new u3(s,o)}}async function Lf(r){if(Pa(r))for(const e of r.da)await e(!0)}async function xc(r){for(const e of r.da)await e(!1)}function kb(r,e){const i=Le(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),h0(i)?f0(i):Zo(i).O_()&&u0(i,e))}function c0(r,e){const i=Le(r),s=Zo(i);i.Ia.delete(e),s.O_()&&jb(i,e),i.Ia.size===0&&(s.O_()?s.L_():Pa(i)&&i.Ra.set("Unknown"))}function u0(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zo(r).Y_(e)}function jb(r,e){r.Va.Ue(e),Zo(r).Z_(e)}function f0(r){r.Va=new a6({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zo(r).start(),r.Ra.ua()}function h0(r){return Pa(r)&&!Zo(r).x_()&&r.Ia.size>0}function Pa(r){return Le(r).Ea.size===0}function Lb(r){r.Va=void 0}async function h3(r){r.Ra.set("Online")}async function d3(r){r.Ia.forEach(((e,i)=>{u0(r,e)}))}async function m3(r,e){Lb(r),h0(r)?(r.Ra.ha(e),f0(r)):r.Ra.set("Unknown")}async function g3(r,e,i){if(r.Ra.set("Online"),e instanceof bb&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){_e(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _f(r,s)}else if(e instanceof Xu?r.Va.Ze(e):e instanceof xb?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ve.min()))try{const s=await Mb(r.localStore);i.compareTo(s)>=0&&await(function(c,h){const g=c.Va.Tt(h);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,h))}})),g.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Cn.EMPTY_BYTE_STRING,E.snapshotVersion)),jb(c,y);const S=new Fr(E.target,y,_,E.sequenceNumber);u0(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){_e(Va,"Failed to raise snapshot:",s),await _f(r,s)}}async function _f(r,e,i){if(!Xo(e))throw e;r.Ea.add(1),await xc(r),r.Ra.set("Offline"),i||(i=()=>Mb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{_e(Va,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Lf(r)}))}function Ub(r,e){return e().catch((i=>_f(r,i,e)))}async function Uf(r){const e=Le(r),i=ea(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;p3(e);)try{const o=await Z6(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,y3(e,o)}catch(o){await _f(e,o)}Pb(e)&&zb(e)}function p3(r){return Pa(r)&&r.Ta.length<10}function y3(r,e){r.Ta.push(e);const i=ea(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Pb(r){return Pa(r)&&!ea(r).x_()&&r.Ta.length>0}function zb(r){ea(r).start()}async function _3(r){ea(r).ra()}async function x3(r){const e=ea(r);for(const i of r.Ta)e.ea(i.mutations)}async function b3(r,e,i){const s=r.Ta.shift(),o=n0.from(s,e,i);await Ub(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Uf(r)}async function v3(r,e){e&&ea(r).X_&&await(async function(s,o){if((function(h){return i6(h)&&h!==ne.ABORTED})(o.code)){const c=s.Ta.shift();ea(s).B_(),await Ub(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Uf(s)}})(r,e),Pb(r)&&zb(r)}async function m_(r,e){const i=Le(r);i.asyncQueue.verifyOperationInProgress(),_e(Va,"RemoteStore received new credentials");const s=Pa(i);i.Ea.add(3),await xc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lf(i)}async function E3(r,e){const i=Le(r);e?(i.Ea.delete(2),await Lf(i)):e||(i.Ea.add(2),await xc(i),i.Ra.set("Unknown"))}function Zo(r){return r.ma||(r.ma=(function(i,s,o){const c=Le(i);return c.sa(),new a3(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:h3.bind(null,r),t_:d3.bind(null,r),r_:m3.bind(null,r),H_:g3.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),h0(r)?f0(r):r.Ra.set("Unknown")):(await r.ma.stop(),Lb(r))}))),r.ma}function ea(r){return r.fa||(r.fa=(function(i,s,o){const c=Le(i);return c.sa(),new o3(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:_3.bind(null,r),r_:v3.bind(null,r),ta:x3.bind(null,r),na:b3.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Uf(r)):(await r.fa.stop(),r.Ta.length>0&&(_e(Va,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class d0{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const h=Date.now()+s,g=new d0(e,i,h,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m0(r,e){if(Js("AsyncQueue",`${e}: ${r}`),Xo(r))return new Ee(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||Ce.comparator(i.key,s.key):(i,s)=>Ce.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class g_{constructor(){this.ga=new qt(Ce.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Go{constructor(e,i,s,o,c,h,g,y,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,c){const h=[];return i.forEach((g=>{h.push({type:0,doc:g})})),new Go(e,i,ko.emptySet(i),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class T3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class S3{constructor(){this.queries=p_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Le(i),c=o.queries;o.queries=p_(),c.forEach(((h,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new Ee(ne.ABORTED,"Firestore shutting down"))}}function p_(){return new La((r=>rb(r)),Df)}async function w3(r,e){const i=Le(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new T3,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const g=m0(h,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&g0(i)}async function A3(r,e){const i=Le(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function N3(r,e){const i=Le(r);let s=!1;for(const o of e){const c=o.query,h=i.queries.get(c);if(h){for(const g of h.Sa)g.Fa(o)&&(s=!0);h.wa=o}}s&&g0(i)}function R3(r,e,i){const s=Le(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function g0(r){r.Ca.forEach((e=>{e.next()}))}var Am,y_;(y_=Am||(Am={})).Ma="default",y_.Cache="cache";class C3{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class Bb{constructor(e){this.key=e}}class qb{constructor(e){this.key=e}}class I3{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=ab(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new g_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,h=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const N=o.get(E),P=Mf(this.query,S)?S:null,Z=!!N&&this.mutatedKeys.has(N.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ie=!1;N&&P?N.data.isEqual(P.data)?Z!==$&&(s.track({type:3,doc:P}),ie=!0):this.su(N,P)||(s.track({type:2,doc:P}),ie=!0,(y&&this.eu(P,y)>0||_&&this.eu(P,_)<0)&&(g=!0)):!N&&P?(s.track({type:0,doc:P}),ie=!0):N&&!P&&(s.track({type:1,doc:N}),ie=!0,(y||_)&&(g=!0)),ie&&(P?(h=h.add(P),c=$?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,S)=>(function(P,Z){const $=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:ie})}};return $(P)-$(Z)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,h.length!==0||_?{snapshot:new Go(this.query,e.tu,c,h,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new qb(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Bb(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=nt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const p0="SyncEngine";class D3{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class M3{constructor(e){this.key=e,this.hu=!1}}class O3{constructor(e,i,s,o,c,h){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new La((g=>rb(g)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new qt(Ce.comparator),this.Au=new Map,this.Ru=new r0,this.Vu={},this.mu=new Map,this.fu=Fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V3(r,e,i=!0){const s=Kb(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Hb(s,e,i,!0),o}async function k3(r,e){const i=Kb(r);await Hb(i,e,!0,!1)}async function Hb(r,e,i,s){const o=await J6(r.localStore,ys(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await j3(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&i&&kb(r.remoteStore,o),g}async function j3(r,e,i,s,o){r.pu=(S,N,P)=>(async function($,ie,he,De){let ye=ie.view.ru(he);ye.Cs&&(ye=await c_($.localStore,ie.query,!1).then((({documents:R})=>ie.view.ru(R,ye))));const Fe=De&&De.targetChanges.get(ie.targetId),Ne=De&&De.targetMismatches.get(ie.targetId)!=null,Ue=ie.view.applyChanges(ye,$.isPrimaryClient,Fe,Ne);return x_($,ie.targetId,Ue.au),Ue.snapshot})(r,S,N,P);const c=await c_(r.localStore,e,!0),h=new I3(e,c.Qs),g=h.ru(c.documents),y=_c.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=h.applyChanges(g,r.isPrimaryClient,y);x_(r,i,_.au);const E=new D3(e,i,h);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function L3(r,e,i){const s=Le(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!Df(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&c0(s.remoteStore,o.targetId),Nm(s,o.targetId)})).catch($o)):(Nm(s,o.targetId),await Sm(s.localStore,o.targetId,!0))}async function U3(r,e){const i=Le(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),c0(i.remoteStore,s.targetId))}async function P3(r,e,i){const s=Y3(r);try{const o=await(function(h,g){const y=Le(h),_=It.now(),E=g.reduce(((P,Z)=>P.add(Z.key)),nt());let S,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Z=Ws(),$=nt();return y.Ns.getEntries(P,E).next((ie=>{Z=ie,Z.forEach(((he,De)=>{De.isValidDocument()||($=$.add(he))}))})).next((()=>y.localDocuments.getOverlayedDocuments(P,Z))).next((ie=>{S=ie;const he=[];for(const De of g){const ye=J4(De,S.get(De.key).overlayedDocument);ye!=null&&he.push(new Ua(De.key,ye,Jx(ye.value.mapValue),Qs.exists(!0)))}return y.mutationQueue.addMutationBatch(P,_,he,g)})).next((ie=>{N=ie;const he=ie.applyToLocalDocumentSet(S,$);return y.documentOverlayCache.saveOverlays(P,ie.batchId,he)}))})).then((()=>({batchId:N.batchId,changes:lb(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,g,y){let _=h.Vu[h.currentUser.toKey()];_||(_=new qt(tt)),_=_.insert(g,y),h.Vu[h.currentUser.toKey()]=_})(s,o.batchId,i),await bc(s,o.changes),await Uf(s.remoteStore)}catch(o){const c=m0(o,"Failed to persist write");i.reject(c)}}async function Fb(r,e){const i=Le(r);try{const s=await $6(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=i.Au.get(c);h&&(gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?gt(h.hu,14607):o.removedDocuments.size>0&&(gt(h.hu,42227),h.hu=!1))})),await bc(i,s,e)}catch(s){await $o(s)}}function __(r,e,i){const s=Le(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,h)=>{const g=h.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(h,g){const y=Le(h);y.onlineState=g;let _=!1;y.queries.forEach(((E,S)=>{for(const N of S.Sa)N.va(g)&&(_=!0)})),_&&g0(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function z3(r,e,i){const s=Le(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new qt(Ce.comparator);h=h.insert(c,jn.newNoDocument(c,Ve.min()));const g=nt().add(c),y=new kf(Ve.min(),new Map,new qt(tt),h,g);await Fb(s,y),s.du=s.du.remove(c),s.Au.delete(e),y0(s)}else await Sm(s.localStore,e,!1).then((()=>Nm(s,e,i))).catch($o)}async function B3(r,e){const i=Le(r),s=e.batch.batchId;try{const o=await K6(i.localStore,e);Yb(i,s,null),Gb(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await bc(i,o)}catch(o){await $o(o)}}async function q3(r,e,i){const s=Le(r);try{const o=await(function(h,g){const y=Le(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,g).next((S=>(gt(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(s.localStore,e);Yb(s,e,i),Gb(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await bc(s,o)}catch(o){await $o(o)}}function Gb(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Yb(r,e,i){const s=Le(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Nm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Qb(r,s)}))}function Qb(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(c0(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),y0(r))}function x_(r,e,i){for(const s of i)s instanceof Bb?(r.Ru.addReference(s.key,e),H3(r,s)):s instanceof qb?(_e(p0,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Qb(r,s.key)):Me(19791,{wu:s})}function H3(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(_e(p0,"New document in limbo: "+i),r.Eu.add(s),y0(r))}function y0(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new Ce(Bt.fromString(e)),s=r.fu.next();r.Au.set(s,new M3(i)),r.du=r.du.insert(i,s),kb(r.remoteStore,new Fr(ys(e0(i.path)),s,"TargetPurposeLimboResolution",Nf.ce))}}async function bc(r,e,i){const s=Le(r),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{h.push(s.pu(y,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=o0.As(y.targetId,_);c.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(y,_){const E=Le(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(_,(N=>te.forEach(N.Es,(P=>E.persistence.referenceDelegate.addReference(S,N.targetId,P))).next((()=>te.forEach(N.ds,(P=>E.persistence.referenceDelegate.removeReference(S,N.targetId,P)))))))))}catch(S){if(!Xo(S))throw S;_e(l0,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const P=E.Ms.get(N),Z=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(Z);E.Ms=E.Ms.insert(N,$)}}})(s.localStore,c))}async function F3(r,e){const i=Le(r);if(!i.currentUser.isEqual(e)){_e(p0,"User change. New user:",e.toKey());const s=await Db(i.localStore,e);i.currentUser=e,(function(c,h){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new Ee(ne.CANCELLED,h))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bc(i,s.Ls)}}function G3(r,e){const i=Le(r),s=i.Au.get(e);if(s&&s.hu)return nt().add(s.key);{let o=nt();const c=i.Iu.get(e);if(!c)return o;for(const h of c){const g=i.Tu.get(h);o=o.unionWith(g.view.nu)}return o}}function Kb(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z3.bind(null,e),e.Pu.H_=N3.bind(null,e.eventManager),e.Pu.yu=R3.bind(null,e.eventManager),e}function Y3(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q3.bind(null,e),e}class xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Q6(this.persistence,new F6,e.initialUser,this.serializer)}Cu(e){return new Ib(a0.mi,this.serializer)}Du(e){return new e3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xf.provider={build:()=>new xf};class Q3 extends xf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){gt(this.persistence.referenceDelegate instanceof yf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new C6(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new Ib((s=>yf.mi(s,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>__(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=F3.bind(null,this.syncEngine),await E3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S3})()}createDatastore(e){const i=jf(e.databaseInfo.databaseId),s=(function(c){return new r3(c)})(e.databaseInfo);return(function(c,h,g,y){return new c3(c,h,g,y)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,h,g){return new f3(s,o,c,h,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>__(this.syncEngine,i,0)),(function(){return h_.v()?new h_:new t3})())}createSyncEngine(e,i){return(function(o,c,h,g,y,_,E){const S=new O3(o,c,h,g,y,_);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Le(i);_e(Va,"RemoteStore shutting down."),s.Ea.add(5),await xc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class K3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ta="FirestoreClient";class $3{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=kn.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{_e(ta,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(_e(ta,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=m0(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Jd(r,e){r.asyncQueue.verifyOperationInProgress(),_e(ta,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Db(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function b_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await X3(r);_e(ta,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>m_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>m_(e.remoteStore,o))),r._onlineComponents=e}async function X3(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_e(ta,"Using user provided OfflineComponentProvider");try{await Jd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;zo("Error using user provided cache. Falling back to memory cache: "+i),await Jd(r,new xf)}}else _e(ta,"Using default OfflineComponentProvider"),await Jd(r,new Q3(void 0));return r._offlineComponents}async function $b(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_e(ta,"Using user provided OnlineComponentProvider"),await b_(r,r._uninitializedComponentsProvider._online)):(_e(ta,"Using default OnlineComponentProvider"),await b_(r,new Rm))),r._onlineComponents}function Z3(r){return $b(r).then((e=>e.syncEngine))}async function v_(r){const e=await $b(r),i=e.eventManager;return i.onListen=V3.bind(null,e.syncEngine),i.onUnlisten=L3.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=k3.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=U3.bind(null,e.syncEngine),i}function Xb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const E_=new Map;const Zb="firestore.googleapis.com",T_=!0;class S_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zb,this.ssl=T_}else this.host=e.host,this.ssl=e.ssl??T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Cb)throw new Ee(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _0{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new e4;switch(s.type){case"firstParty":return new s4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=E_.get(i);s&&(_e("ComponentProvider","Removing Datastore"),E_.delete(i),s.terminate())})(this),Promise.resolve()}}function J3(r,e,i,s={}){r=Vo(r,_0);const o=ka(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(km(`https://${g}`),Z_("Firestore",!0)),c.host!==Zb&&c.host!==g&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:s};if(!$r(y,h)&&(r._setSettings(y),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=kn.MOCK_USER;else{_=AT(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Ee(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new kn(S)}r._authCredentials=new t4(new Bx(_,E))}}class Pf{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pf(this.firestore,e,this._query)}}class pn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(pc(i,pn._jsonSchema))return new pn(e,s||null,new Ce(Bt.fromString(i.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:rn("string",pn._jsonSchemaVersion),referencePath:rn("string")};class ac extends Pf{constructor(e,i,s){super(e,i,e0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Ce(e))}withConverter(e){return new ac(this.firestore,e,this._path)}}function Wd(r,e,...i){if(r=Ji(r),arguments.length===1&&(e=Qm.newId()),u4("doc","path",e),r instanceof _0){const s=Bt.fromString(e,...i);return L1(s),new pn(r,null,new Ce(s))}{if(!(r instanceof pn||r instanceof ac))throw new Ee(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Bt.fromString(e,...i));return L1(s),new pn(r.firestore,r instanceof ac?r.converter:null,new Ce(s))}}const w_="AsyncQueue";class A_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ob(this,"async_queue_retry"),this._c=()=>{const s=Zd();s&&_e(w_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;_e(w_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Js("INTERNAL UNHANDLED ERROR: ",N_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=d0.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Me(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function N_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function R_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class bf extends _0{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new A_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}}function W3(r,e,i){i||(i=tc);const s=Sf(r,"firestore");if(s.isInitialized(i)){const o=s.getImmediate({identifier:i}),c=s.getOptions(i);if($r(c,e))return o;throw new Ee(ne.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ee(ne.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Cb)throw new Ee(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&ka(e.host)&&km(e.host),s.initialize({options:e,instanceIdentifier:i})}function C_(r,e){const i=typeof r=="object"?r:nf(),s=typeof r=="string"?r:tc,o=Sf(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=ST("firestore");c&&J3(o,...c)}return o}function Jb(r){if(r._terminated)throw new Ee(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eN(r),r._firestoreClient}function eN(r){const e=r._freezeSettings(),i=(function(o,c,h,g){return new E4(o,c,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Xb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new $3(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(Cn.fromBase64String(e))}catch(i){throw new Ee(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ki(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pc(e,ki._jsonSchema))return ki.fromBase64String(e.bytes)}}ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:rn("string",ki._jsonSchemaVersion),bytes:rn("string")};class x0{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Ee(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wb{constructor(e){this._methodName=e}}class xs{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Ee(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Ee(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xs._jsonSchemaVersion}}static fromJSON(e){if(pc(e,xs._jsonSchema))return new xs(e.latitude,e.longitude)}}xs._jsonSchemaVersion="firestore/geoPoint/1.0",xs._jsonSchema={type:rn("string",xs._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class bs{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pc(e,bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new bs(e.vectorValues);throw new Ee(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:rn("string",bs._jsonSchemaVersion),vectorValues:rn("object")};const tN=/^__.*__$/;class nN{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new yc(e,this.data,i,this.fieldTransforms)}}function ev(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:r})}}class b0{constructor(e,i,s,o,c,h){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new b0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ev(this.Ac)&&tN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iN{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||jf(e)}Cc(e,i,s,o=!1){return new b0({Ac:e,methodName:i,Dc:s,path:Rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sN(r){const e=r._freezeSettings(),i=jf(r._databaseId);return new iN(r._databaseId,!!e.ignoreUndefinedProperties,i)}function rN(r,e,i,s,o,c={}){const h=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);sv("Data must be an object, but it was:",h,s);const g=nv(s,h);let y,_;if(c.merge)y=new Xi(h.fieldMask),_=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const N=aN(e,S,i);if(!h.contains(N))throw new Ee(ne.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);lN(E,N)||E.push(N)}y=new Xi(E),_=h.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=h.fieldTransforms;return new nN(new Vi(g),y,_)}function tv(r,e){if(iv(r=Ji(r)))return sv("Unsupported field value:",e,r),nv(r,e);if(r instanceof Wb)return(function(s,o){if(!ev(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const g of s){let y=tv(g,o.wc(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Ji(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Y4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=It.fromDate(s);return{timestampValue:pf(o.serializer,c)}}if(s instanceof It){const c=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pf(o.serializer,c)}}if(s instanceof xs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ki)return{bytesValue:vb(o.serializer,s._byteString)};if(s instanceof pn){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:s0(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bs)return(function(h,g){return{mapValue:{fields:{[Xx]:{stringValue:Zx},[ff]:{arrayValue:{values:h.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return t0(g.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Km(s)}`)})(r,e)}function nv(r,e){const i={};return Fx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(r,((s,o)=>{const c=tv(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function iv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof xs||r instanceof ki||r instanceof pn||r instanceof Wb||r instanceof bs)}function sv(r,e,i){if(!iv(i)||!qx(i)){const s=Km(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function aN(r,e,i){if((e=Ji(e))instanceof x0)return e._internalPath;if(typeof e=="string")return rv(r,e);throw vf("Field path arguments must be of type string or ",r,!1,void 0,i)}const oN=new RegExp("[~\\*/\\[\\]]");function rv(r,e,i){if(e.search(oN)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new x0(...e.split("."))._internalPath}catch{throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function vf(r,e,i,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${s}`),h&&(y+=` in document ${o}`),y+=")"),new Ee(ne.INVALID_ARGUMENT,g+r+y)}function lN(r,e){return r.some((i=>i.isEqual(e)))}class av{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ov("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class cN extends av{data(){return super.data()}}function ov(r,e){return typeof e=="string"?rv(r,e):e instanceof x0?e._internalPath:e._delegate._internalPath}function uN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ee(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fN{convertValue(e,i="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ja(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[ff].arrayValue?.values?.map((s=>$t(s.doubleValue)));return new bs(i)}convertGeoPoint(e){return new xs($t(e.latitude),$t(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Cf(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const i=Zr(e);return new It(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Bt.fromString(e);gt(Nb(s),9688,{name:e});const o=new nc(s.get(1),s.get(3)),c=new Ce(s.popFirst(5));return o.isEqual(i)||Js(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function hN(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends av{constructor(e,i,s,o,c,h){super(e,i,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(ov("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:rn("string",Ia._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class Zu extends Ia{data(e={}){return super.data(e)}}class jo{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Zu(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ee(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((g=>{const y=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Hl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return g.type!==0&&(_=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),E=h.indexOf(g.doc.key)),{type:dN(g.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:r})}}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:rn("string",jo._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class lv extends fN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,i)}}function I_(r,e,i){r=Vo(r,pn);const s=Vo(r.firestore,bf),o=hN(r.converter,e);return gN(s,[rN(sN(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Qs.none())])}function mN(r,...e){r=Ji(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||R_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(R_(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,h,g;if(r instanceof pn)h=Vo(r.firestore,bf),g=e0(r._key.path),c={next:y=>{e[s]&&e[s](pN(h,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Vo(r,Pf);h=Vo(y.firestore,bf),g=y._query;const _=new lv(h);c={next:E=>{e[s]&&e[s](new jo(h,_,y,E))},error:e[s+1],complete:e[s+2]},uN(r._query)}return(function(_,E,S,N){const P=new K3(N),Z=new C3(E,P,S);return _.asyncQueue.enqueueAndForget((async()=>w3(await v_(_),Z))),()=>{P.Nu(),_.asyncQueue.enqueueAndForget((async()=>A3(await v_(_),Z)))}})(Jb(h),g,o,c)}function gN(r,e){return(function(s,o){const c=new Ca;return s.asyncQueue.enqueueAndForget((async()=>P3(await Z3(s),o,c))),c.promise})(Jb(r),e)}function pN(r,e,i){const s=i.docs.get(e._key),o=new lv(r);return new Ia(r,o,e._key,s,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ko=o})(Yo),Po(new Da("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),g=new bf(new n4(s.getProvider("auth-internal")),new r4(h,s.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ee(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(_.options.projectId,E)})(h,o),h);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Qr(O1,V1,e),Qr(O1,V1,"esm2020")})();const yN={};var Cm=null;function _N(r){try{return crypto.getRandomValues(new Uint8Array(r))}catch{}try{return yN.randomBytes(r)}catch{}if(!Cm)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Cm(r)}function xN(r){Cm=r}function v0(r,e){if(r=r||E0,typeof r!="number")throw Error("Illegal arguments: "+typeof r+", "+typeof e);r<4?r=4:r>31&&(r=31);var i=[];return i.push("$2b$"),r<10&&i.push("0"),i.push(r.toString()),i.push("$"),i.push(Ef(_N(oc),oc)),i.join("")}function cv(r,e,i){if(typeof e=="function"&&(i=e,e=void 0),typeof r=="function"&&(i=r,r=void 0),typeof r>"u")r=E0;else if(typeof r!="number")throw Error("illegal arguments: "+typeof r);function s(o){Zi(function(){try{o(null,v0(r))}catch(c){o(c)}})}if(i){if(typeof i!="function")throw Error("Illegal callback: "+typeof i);s(i)}else return new Promise(function(o,c){s(function(h,g){if(h){c(h);return}o(g)})})}function uv(r,e){if(typeof e>"u"&&(e=E0),typeof e=="number"&&(e=v0(e)),typeof r!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof r+", "+typeof e);return Im(r,e)}function fv(r,e,i,s){function o(c){typeof r=="string"&&typeof e=="number"?cv(e,function(h,g){Im(r,g,c,s)}):typeof r=="string"&&typeof e=="string"?Im(r,e,c,s):Zi(c.bind(this,Error("Illegal arguments: "+typeof r+", "+typeof e)))}if(i){if(typeof i!="function")throw Error("Illegal callback: "+typeof i);o(i)}else return new Promise(function(c,h){o(function(g,y){if(g){h(g);return}c(y)})})}function hv(r,e){for(var i=r.length^e.length,s=0;s<r.length;++s)i|=r.charCodeAt(s)^e.charCodeAt(s);return i===0}function bN(r,e){if(typeof r!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof r+", "+typeof e);return e.length!==60?!1:hv(uv(r,e.substring(0,e.length-31)),e)}function vN(r,e,i,s){function o(c){if(typeof r!="string"||typeof e!="string"){Zi(c.bind(this,Error("Illegal arguments: "+typeof r+", "+typeof e)));return}if(e.length!==60){Zi(c.bind(this,null,!1));return}fv(r,e.substring(0,29),function(h,g){h?c(h):c(null,hv(g,e))},s)}if(i){if(typeof i!="function")throw Error("Illegal callback: "+typeof i);o(i)}else return new Promise(function(c,h){o(function(g,y){if(g){h(g);return}c(y)})})}function EN(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);return parseInt(r.split("$")[2],10)}function TN(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);if(r.length!==60)throw Error("Illegal hash length: "+r.length+" != 60");return r.substring(0,29)}function SN(r){if(typeof r!="string")throw Error("Illegal arguments: "+typeof r);return dv(r)>72}var Zi=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function dv(r){for(var e=0,i=0,s=0;s<r.length;++s)i=r.charCodeAt(s),i<128?e+=1:i<2048?e+=2:(i&64512)===55296&&(r.charCodeAt(s+1)&64512)===56320?(++s,e+=4):e+=3;return e}function wN(r){for(var e=0,i,s,o=new Array(dv(r)),c=0,h=r.length;c<h;++c)i=r.charCodeAt(c),i<128?o[e++]=i:i<2048?(o[e++]=i>>6|192,o[e++]=i&63|128):(i&64512)===55296&&((s=r.charCodeAt(c+1))&64512)===56320?(i=65536+((i&1023)<<10)+(s&1023),++c,o[e++]=i>>18|240,o[e++]=i>>12&63|128,o[e++]=i>>6&63|128,o[e++]=i&63|128):(o[e++]=i>>12|224,o[e++]=i>>6&63|128,o[e++]=i&63|128);return o}var To="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Ur=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Ef(r,e){var i=0,s=[],o,c;if(e<=0||e>r.length)throw Error("Illegal len: "+e);for(;i<e;){if(o=r[i++]&255,s.push(To[o>>2&63]),o=(o&3)<<4,i>=e){s.push(To[o&63]);break}if(c=r[i++]&255,o|=c>>4&15,s.push(To[o&63]),o=(c&15)<<2,i>=e){s.push(To[o&63]);break}c=r[i++]&255,o|=c>>6&3,s.push(To[o&63]),s.push(To[c&63])}return s.join("")}function mv(r,e){var i=0,s=r.length,o=0,c=[],h,g,y,_,E,S;if(e<=0)throw Error("Illegal len: "+e);for(;i<s-1&&o<e&&(S=r.charCodeAt(i++),h=S<Ur.length?Ur[S]:-1,S=r.charCodeAt(i++),g=S<Ur.length?Ur[S]:-1,!(h==-1||g==-1||(E=h<<2>>>0,E|=(g&48)>>4,c.push(String.fromCharCode(E)),++o>=e||i>=s)||(S=r.charCodeAt(i++),y=S<Ur.length?Ur[S]:-1,y==-1)||(E=(g&15)<<4>>>0,E|=(y&60)>>2,c.push(String.fromCharCode(E)),++o>=e||i>=s)));)S=r.charCodeAt(i++),_=S<Ur.length?Ur[S]:-1,E=(y&3)<<6>>>0,E|=_,c.push(String.fromCharCode(E)),++o;var N=[];for(i=0;i<o;i++)N.push(c[i].charCodeAt(0));return N}var oc=16,E0=10,AN=16,NN=100,D_=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],M_=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],gv=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function lc(r,e,i,s){var o,c=r[e],h=r[e+1];return c^=i[0],o=s[c>>>24],o+=s[256|c>>16&255],o^=s[512|c>>8&255],o+=s[768|c&255],h^=o^i[1],o=s[h>>>24],o+=s[256|h>>16&255],o^=s[512|h>>8&255],o+=s[768|h&255],c^=o^i[2],o=s[c>>>24],o+=s[256|c>>16&255],o^=s[512|c>>8&255],o+=s[768|c&255],h^=o^i[3],o=s[h>>>24],o+=s[256|h>>16&255],o^=s[512|h>>8&255],o+=s[768|h&255],c^=o^i[4],o=s[c>>>24],o+=s[256|c>>16&255],o^=s[512|c>>8&255],o+=s[768|c&255],h^=o^i[5],o=s[h>>>24],o+=s[256|h>>16&255],o^=s[512|h>>8&255],o+=s[768|h&255],c^=o^i[6],o=s[c>>>24],o+=s[256|c>>16&255],o^=s[512|c>>8&255],o+=s[768|c&255],h^=o^i[7],o=s[h>>>24],o+=s[256|h>>16&255],o^=s[512|h>>8&255],o+=s[768|h&255],c^=o^i[8],o=s[c>>>24],o+=s[256|c>>16&255],o^=s[512|c>>8&255],o+=s[768|c&255],h^=o^i[9],o=s[h>>>24],o+=s[256|h>>16&255],o^=s[512|h>>8&255],o+=s[768|h&255],c^=o^i[10],o=s[c>>>24],o+=s[256|c>>16&255],o^=s[512|c>>8&255],o+=s[768|c&255],h^=o^i[11],o=s[h>>>24],o+=s[256|h>>16&255],o^=s[512|h>>8&255],o+=s[768|h&255],c^=o^i[12],o=s[c>>>24],o+=s[256|c>>16&255],o^=s[512|c>>8&255],o+=s[768|c&255],h^=o^i[13],o=s[h>>>24],o+=s[256|h>>16&255],o^=s[512|h>>8&255],o+=s[768|h&255],c^=o^i[14],o=s[c>>>24],o+=s[256|c>>16&255],o^=s[512|c>>8&255],o+=s[768|c&255],h^=o^i[15],o=s[h>>>24],o+=s[256|h>>16&255],o^=s[512|h>>8&255],o+=s[768|h&255],c^=o^i[16],r[e]=h^i[AN+1],r[e+1]=c,r}function Ro(r,e){for(var i=0,s=0;i<4;++i)s=s<<8|r[e]&255,e=(e+1)%r.length;return{key:s,offp:e}}function O_(r,e,i){for(var s=0,o=[0,0],c=e.length,h=i.length,g,y=0;y<c;y++)g=Ro(r,s),s=g.offp,e[y]=e[y]^g.key;for(y=0;y<c;y+=2)o=lc(o,0,e,i),e[y]=o[0],e[y+1]=o[1];for(y=0;y<h;y+=2)o=lc(o,0,e,i),i[y]=o[0],i[y+1]=o[1]}function RN(r,e,i,s){for(var o=0,c=[0,0],h=i.length,g=s.length,y,_=0;_<h;_++)y=Ro(e,o),o=y.offp,i[_]=i[_]^y.key;for(o=0,_=0;_<h;_+=2)y=Ro(r,o),o=y.offp,c[0]^=y.key,y=Ro(r,o),o=y.offp,c[1]^=y.key,c=lc(c,0,i,s),i[_]=c[0],i[_+1]=c[1];for(_=0;_<g;_+=2)y=Ro(r,o),o=y.offp,c[0]^=y.key,y=Ro(r,o),o=y.offp,c[1]^=y.key,c=lc(c,0,i,s),s[_]=c[0],s[_+1]=c[1]}function V_(r,e,i,s,o){var c=gv.slice(),h=c.length,g;if(i<4||i>31)if(g=Error("Illegal number of rounds (4-31): "+i),s){Zi(s.bind(this,g));return}else throw g;if(e.length!==oc)if(g=Error("Illegal salt length: "+e.length+" != "+oc),s){Zi(s.bind(this,g));return}else throw g;i=1<<i>>>0;var y,_,E=0,S;typeof Int32Array=="function"?(y=new Int32Array(D_),_=new Int32Array(M_)):(y=D_.slice(),_=M_.slice()),RN(e,r,y,_);function N(){if(o&&o(E/i),E<i)for(var Z=Date.now();E<i&&(E=E+1,O_(r,y,_),O_(e,y,_),!(Date.now()-Z>NN)););else{for(E=0;E<64;E++)for(S=0;S<h>>1;S++)lc(c,S<<1,y,_);var $=[];for(E=0;E<h;E++)$.push((c[E]>>24&255)>>>0),$.push((c[E]>>16&255)>>>0),$.push((c[E]>>8&255)>>>0),$.push((c[E]&255)>>>0);if(s){s(null,$);return}else return $}s&&Zi(N)}if(typeof s<"u")N();else for(var P;;)if(typeof(P=N())<"u")return P||[]}function Im(r,e,i,s){var o;if(typeof r!="string"||typeof e!="string")if(o=Error("Invalid string / salt: Not a string"),i){Zi(i.bind(this,o));return}else throw o;var c,h;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(o=Error("Invalid salt version: "+e.substring(0,2)),i){Zi(i.bind(this,o));return}else throw o;if(e.charAt(2)==="$")c="\0",h=3;else{if(c=e.charAt(2),c!=="a"&&c!=="b"&&c!=="y"||e.charAt(3)!=="$")if(o=Error("Invalid salt revision: "+e.substring(2,4)),i){Zi(i.bind(this,o));return}else throw o;h=4}if(e.charAt(h+2)>"$")if(o=Error("Missing salt rounds"),i){Zi(i.bind(this,o));return}else throw o;var g=parseInt(e.substring(h,h+1),10)*10,y=parseInt(e.substring(h+1,h+2),10),_=g+y,E=e.substring(h+3,h+25);r+=c>="a"?"\0":"";var S=wN(r),N=mv(E,oc);function P(Z){var $=[];return $.push("$2"),c>="a"&&$.push(c),$.push("$"),_<10&&$.push("0"),$.push(_.toString()),$.push("$"),$.push(Ef(N,N.length)),$.push(Ef(Z,gv.length*4-1)),$.join("")}if(typeof i>"u")return P(V_(S,N,_));V_(S,N,_,function(Z,$){Z?i(Z,null):i(null,P($))},s)}function CN(r,e){return Ef(r,e)}function IN(r,e){return mv(r,e)}const Lo={setRandomFallback:xN,genSaltSync:v0,genSalt:cv,hashSync:uv,hash:fv,compareSync:bN,compare:vN,getRounds:EN,getSalt:TN,truncates:SN,encodeBase64:CN,decodeBase64:IN},DN=({isOpen:r,onClose:e,targetRole:i,team:s,onLoginSuccess:o,onTeamUpdate:c,t:h})=>{const[g,y]=ae.useState(""),[_,E]=ae.useState(""),[S,N]=ae.useState(""),[P,Z]=ae.useState(""),[$,ie]=ae.useState(!1),[he,De]=ae.useState(""),[ye,Fe]=ae.useState("");if(ae.useEffect(()=>{r&&(y(""),E(""),N(""),Z(""),ie(!1),De(""),Fe(""))},[r,i]),!r)return null;const Ne=async R=>{if(R.preventDefault(),N(""),i==="manager"||i==="admin")try{if(!g||g.length<1||g.length>500){N("Invalid password format");return}const w="https://us-central1-gcc-scheduler-3ef7f.cloudfunctions.net/roleLogin",A=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({role:i,password:g})});if(!A.ok){const $e=await A.json().catch(()=>({}));A.status===429?N("Too many login attempts. Try again later."):A.status===401?N(h.invalidPass):N($e.error||h.invalidPass);return}const M=(await A.json())?.token;if(!M||typeof M!="string"){N("Invalid server response");return}const j=hm();try{await j.signOut()}catch{}await Tx(j,M),sessionStorage.setItem("firebaseToken",M),o(i,i==="admin"?"Admin":"Diretor",0),e()}catch(w){N(w?.code==="auth/invalid-custom-token"?"Session expired. Try again.":h.invalidPass)}else if(i==="editor"){if(!_){N(h.selectUser);return}const w=s.find(j=>j.id===+_);if(!w)return;const A=w.password||"1234",k=A.startsWith("$2");let M=!1;if(k?M=await Lo.compare(g,A):M=g===A,M){if(w.requirePasswordChange||!w.password||w.password==="1234"){ie(!0),N(""),Z("");return}o("editor",w.name,w.id),e()}else N(h.invalidPass)}},Ue=async R=>{if(R.preventDefault(),!_){N(h.selectUser);return}const w=s.find(C=>C.id===+_);if(!w)return;const A=w.password||"1234",k=A.startsWith("$2");let M=!1;if(k?M=await Lo.compare(g,A):M=g===A,!M){N(h.invalidPass);return}if(he!==ye){N(h.passMismatch);return}if(he.length<3){N("Password too short");return}const j=await Lo.hash(he,10);c(C=>C.map($e=>$e.id===+_?{...$e,password:j,requirePasswordChange:!1}:$e)),Z(h.passChanged),setTimeout(()=>{o("editor",w.name,w.id),e()},800)};return p.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 animate-in fade-in duration-200 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col transform transition-all",children:[p.jsxs("div",{className:"bg-indigo-600 p-6 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 text-white",children:i==="manager"?p.jsx(tm,{size:32}):p.jsx(mT,{size:32})}),p.jsx("h3",{className:"text-xl font-bold text-white",children:$?h.changePass:h.loginRequired}),p.jsx("p",{className:"text-indigo-200 text-sm mt-1",children:i==="manager"?h.managerLoginDesc:h.userLoginDesc})]}),p.jsxs("div",{className:"p-8",children:[S&&p.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm flex items-center gap-2 border border-red-100 animate-shake mb-4",children:[p.jsx(Wu,{size:16})," ",S]}),P&&p.jsxs("div",{className:"bg-green-50 text-green-600 p-3 rounded-lg text-sm flex items-center gap-2 border border-green-100 mb-4",children:[p.jsx(Vm,{size:16})," ",P]}),!$&&p.jsxs("form",{onSubmit:Ne,className:"space-y-6",children:[i==="editor"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:h.selectUser}),p.jsxs("select",{value:_,onChange:R=>E(R.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",required:!0,children:[p.jsx("option",{value:"",children:h.selectUser}),s.map(R=>p.jsxs("option",{value:R.id,children:[R.name," - ",R.role]},R.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:h.password}),p.jsx("input",{type:"password",value:g,onChange:R=>y(R.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition",placeholder:"",required:!0})]}),p.jsxs("div",{className:"flex gap-3 pt-4",children:[p.jsx("button",{type:"button",onClick:e,className:"flex-1 py-3 text-sm font-semibold text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:h.cancel}),p.jsxs("button",{type:"submit",className:"flex-1 py-3 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition flex items-center justify-center gap-2",children:[p.jsx(tm,{size:16}),h.login]})]}),i==="editor"&&p.jsx("button",{type:"button",onClick:()=>ie(!0),className:"w-full text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:h.changePass})]}),$&&p.jsxs("form",{onSubmit:Ue,className:"space-y-6",children:[p.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 text-amber-800 text-sm rounded mb-4 flex items-start gap-2",children:[p.jsx(Wu,{size:18,className:"flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-semibold mb-1",children:"Password Change Required"}),p.jsxs("div",{className:"text-xs",children:["You must change your password before continuing. Updating password for:"," ",p.jsx("strong",{children:s.find(R=>R.id===+_)?.name})]})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[h.password," (Current)"]}),p.jsx("input",{type:"password",value:g,onChange:R=>y(R.target.value),className:"w-full p-2 border rounded"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:h.newPass}),p.jsx("input",{type:"password",value:he,onChange:R=>De(R.target.value),className:"w-full p-2 border rounded"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:h.confirmPass}),p.jsx("input",{type:"password",value:ye,onChange:R=>Fe(R.target.value),className:"w-full p-2 border rounded"})]}),p.jsxs("div",{className:"flex gap-3 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>ie(!1),className:"flex-1 py-2 text-sm text-gray-600 bg-gray-100 rounded",children:h.backToLogin}),p.jsx("button",{type:"submit",className:"flex-1 py-2 text-sm font-bold text-white bg-green-600 rounded",children:h.changePass})]})]})]})]})})},MN=({show:r,team:e,setTeam:i})=>{const[s,o]=ae.useState(null),[c,h]=ae.useState(""),[g,y]=ae.useState("");if(!r)return null;const _=async(N,P)=>{if(!window.confirm(`Reset password for this user to: ${P}?`))return;const Z=await Lo.hash(P,10);i($=>$.map(ie=>ie.id===N?{...ie,password:Z,requirePasswordChange:!0}:ie)),y(`Password reset for ${e.find($=>$.id===N)?.name}`),setTimeout(()=>y(""),3e3),o(null)},E=async N=>{if(!c){y("Please enter a password");return}const P=await Lo.hash(c,10);i(Z=>Z.map($=>$.id===N?{...$,password:P,requirePasswordChange:!0}:$)),y(`Password set for ${e.find(Z=>Z.id===N)?.name}`),setTimeout(()=>y(""),3e3),h(""),o(null)},S=async()=>{const N=e.filter(Z=>Z.password&&!Z.password.startsWith("$2")).length;if(N===0){y("All passwords are already encrypted!"),setTimeout(()=>y(""),3e3);return}if(!window.confirm(`This will encrypt ${N} plain-text password(s). All users will need to change their password on next login. Continue?`))return;y("Encrypting passwords...");const P=await Promise.all(e.map(async Z=>{if(!Z.password||Z.password.startsWith("$2"))return Z;const $=await Lo.hash(Z.password,10);return{...Z,password:$,requirePasswordChange:!0}}));i(P),y(`Successfully encrypted ${N} password(s)!`),setTimeout(()=>y(""),5e3)};return p.jsxs("div",{className:"w-80 bg-white border-l shadow-lg overflow-y-auto flex flex-col h-full",children:[p.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-red-600 to-red-700 text-white p-4 flex items-center justify-between border-b shadow-md",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Co,{size:20}),p.jsx("h2",{className:"font-bold text-lg",children:"Admin Panel"})]})}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[g&&p.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 p-3 rounded text-sm",children:g}),p.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[p.jsxs("h3",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[p.jsx(Co,{size:16,className:"text-yellow-600"}),"Security Actions"]}),p.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Encrypt all plain-text passwords in the database. This is a one-time operation."}),p.jsx("button",{onClick:S,className:"w-full px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition font-medium text-sm shadow-sm",children:" Encrypt All Passwords"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"User Management"}),p.jsx("div",{className:"space-y-2",children:e.map(N=>p.jsxs("div",{className:"bg-gray-50 border rounded p-3 cursor-pointer hover:bg-gray-100",onClick:()=>o(s===N.id?null:N.id),children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-gray-800",children:N.name}),p.jsx("p",{className:"text-xs text-gray-500",children:N.role})]}),s===N.id&&p.jsx(Om,{size:16,className:"text-gray-400"})]}),s===N.id&&p.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2",children:[p.jsx("button",{onClick:P=>{P.stopPropagation(),_(N.id,"1234")},className:"w-full px-3 py-2 bg-orange-100 text-orange-700 rounded hover:bg-orange-200 transition text-sm font-medium",children:"Reset to Default (1234)"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"password",placeholder:"New password",value:c,onChange:P=>h(P.target.value),onClick:P=>P.stopPropagation(),className:"flex-1 px-2 py-1 border rounded text-xs"}),p.jsx("button",{onClick:P=>{P.stopPropagation(),E(N.id)},className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition text-xs font-medium",children:"Set"})]}),p.jsx("div",{className:"text-[11px] text-gray-500 bg-gray-100 p-2 rounded",children:p.jsxs("p",{children:[p.jsx("strong",{children:"Requires Password Change:"})," ",N.requirePasswordChange?"Yes":"No"]})})]})]},N.id))})]})]})]})},ON=({isOpen:r,onClose:e,requests:i,onApprove:s,onReject:o,t:c})=>{if(!r)return null;const h=i.filter(g=>g.status==="PENDING").sort((g,y)=>y.timestamp-g.timestamp);return p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg flex flex-col max-h-[80vh]",children:[p.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50 rounded-t-lg",children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[p.jsx(z_,{size:20,className:"text-indigo-600"})," ",c.pendingRequests]}),p.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded",children:p.jsx(Uo,{size:20})})]}),p.jsx("div",{className:"overflow-y-auto p-4 flex-1",children:h.length===0?p.jsxs("div",{className:"text-center text-gray-500 py-8 flex flex-col items-center gap-2",children:[p.jsx(Vm,{size:48,className:"text-gray-200"}),c.noRequests]}):p.jsx("div",{className:"space-y-3",children:h.map(g=>p.jsxs("div",{className:"border rounded-lg p-3 bg-white shadow-sm flex items-start gap-3",children:[p.jsx("div",{className:"bg-yellow-100 text-yellow-700 p-2 rounded-full",children:p.jsx(P_,{size:20})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("span",{className:"font-bold text-gray-800",children:g.empName}),p.jsx("span",{className:"text-xs text-gray-400",children:new Date(g.timestamp).toLocaleTimeString()})]}),p.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[c.reqDesc," ",p.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:g.date})," ",c.to," ",p.jsx("strong",{children:g.newShift||"Auto"})]})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("button",{onClick:()=>s(g),className:"p-1.5 bg-green-100 text-green-700 rounded hover:bg-green-200",title:c.approve,children:p.jsx(xE,{size:18})}),p.jsx("button",{onClick:()=>o(g),className:"p-1.5 bg-red-100 text-red-700 rounded hover:bg-red-200",title:c.reject,children:p.jsx(Uo,{size:18})})]})]},g.id))})})]})})},VN=({isOpen:r,onClose:e,data:i,t:s,hoursConfig:o})=>r?p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50",children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[p.jsx(L_,{size:20})," ",s.statsTitle]}),p.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded",children:p.jsx(Uo,{size:20})})]}),p.jsx("div",{className:"overflow-auto flex-1 p-4",children:p.jsxs("table",{className:"w-full text-sm border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-gray-100 text-left",children:[p.jsx("th",{className:"p-2 border",children:s.statName}),p.jsx("th",{className:"p-2 border text-center bg-green-50",children:s.statM}),p.jsx("th",{className:"p-2 border text-center bg-orange-50",children:s.statT}),p.jsx("th",{className:"p-2 border text-center bg-blue-50",children:s.statN}),p.jsx("th",{className:"p-2 border text-center bg-purple-50",children:s.statWE}),p.jsx("th",{className:"p-2 border text-center bg-pink-50",children:s.statV}),p.jsx("th",{className:"p-2 border text-center font-bold",children:s.statTotal}),p.jsx("th",{className:"p-2 border text-center bg-yellow-50 font-bold",children:s.statHours}),p.jsx("th",{className:"p-2 border text-center bg-gray-200 font-bold",children:s.statBalance})]})}),p.jsx("tbody",{children:i.map(c=>{const h=c.Hours-o.target;return p.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[p.jsx("td",{className:"p-2 border font-medium",children:c.name}),p.jsx("td",{className:"p-2 border text-center",children:c.M}),p.jsx("td",{className:"p-2 border text-center",children:c.T}),p.jsx("td",{className:"p-2 border text-center",children:c.N}),p.jsx("td",{className:"p-2 border text-center font-bold text-purple-700",children:c.WE}),p.jsx("td",{className:"p-2 border text-center text-pink-600",children:c.V}),p.jsx("td",{className:"p-2 border text-center font-bold",children:c.Total}),p.jsxs("td",{className:"p-2 border text-center bg-yellow-50 font-mono",children:[c.Hours,"h"]}),p.jsxs("td",{className:`p-2 border text-center font-bold font-mono ${h>=0?"text-green-600":"text-red-600"}`,children:[h>0?"+":"",h,"h"]})]},c.name)})})]})}),p.jsxs("div",{className:"p-3 border-t bg-gray-50 flex justify-between items-center text-xs text-gray-500",children:[p.jsxs("span",{children:["Target: ",o.target,"h/month | Values: M=",o.M,"h, T=",o.T,"h, N=",o.N,"h"]}),p.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-700",children:s.close})]})]})}):null,Pl={apiKey:"AIzaSyCtPbNvCgzbNy7jOZl-up0PUEhzaT8lUbg",authDomain:"gcc-scheduler-3ef7f.firebaseapp.com",projectId:"gcc-scheduler-3ef7f",storageBucket:"gcc-scheduler-3ef7f.firebasestorage.app",messagingSenderId:"712007349828",appId:"1:712007349828:web:a8c931a6784a68b0beae11"},Bu="gcc-scheduler",Pr={VIEWER:{id:"viewer",label:"Reader",role:"viewer",permissions:["read"],description:"Ready-only access to view the schedule."},EDITOR:{id:"editor",label:"Escalador",role:"editor",permissions:["read","write","self_only"],description:"Can edit own schedule only."},MANAGER:{id:"manager",label:"Manager",role:"manager",permissions:["read","write","admin","approve"],description:"Full access to manage team schedules and approve requests."},ADMIN:{id:"admin",label:"Admin",role:"admin",permissions:["read","write","admin","approve","system"],description:"Administrative access to manage users and system settings."}},Dm=["EN","DE","IT","FR","PT","TR","ES"],kN=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],jN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k_=["2025-12-25","2026-01-01","2026-03-29","2026-04-25","2026-05-01","2026-06-10","2026-06-11","2026-08-15","2026-10-05","2026-11-01","2026-12-01","2026-12-08","2026-12-25"],LN=[{id:4,name:"Huyesin Gozcu",role:"GCC",languages:["EN","TR","PT"],offset:0,password:"1234"},{id:6,name:"Lourdes Gutierrez",role:"GCC",languages:["EN","ES","PT"],offset:2,password:"1234"},{id:11,name:"Sergio Ribeiro",role:"TL",languages:["EN","FR","PT"],offset:4,password:"1234"},{id:2,name:"Filipe Cardoso",role:"TL",languages:["EN","FR","PT"],offset:6,password:"1234"},{id:8,name:"Joao Monteiro",role:"GCC",languages:["EN","PT"],offset:8,password:"1234"},{id:14,name:"Juliana Andrade",role:"GCC",languages:["EN","PT"],offset:10,password:"1234"},{id:10,name:"Rita Quaresma",role:"GCC",languages:["EN","PT","ES"],offset:12,password:"1234"},{id:5,name:"Hugo Rodrigues",role:"GCC",languages:["EN","PT"],offset:14,password:"1234"},{id:9,name:"Miguel Geada",role:"GCC",languages:["EN","PT"],offset:16,password:"1234"},{id:7,name:"Lucas Alves",role:"GCC",languages:["EN","PT"],offset:18,password:"1234"}],pv={en:{title:"Shift Scheduler - GCC Team",start:"Start",pattern:"Pattern",colaborador:"Employee",cargo:"Role",linguas:"Languages",analise:"Coverage Analysis",analiseDesc:"Missing languages or low staff",faltas:"Issues",manha:"Morning",tarde:"Afternoon",noite:"Night",folga:"Off",ferias:"Vacation",baixa:"Sick",exportCsv:"Excel",print:"Print",stats:"Stats",annual:"Annual View",config:"Settings",adjustOffsets:"Adjust Offsets",configPanelTitle:"Schedule Settings",generalParams:"General Parameters",startDate:"Rotation Start Date",rotationPattern:"Rotation Pattern",daysM:"Days Morning",offsM:"Offs (Auto)",daysT:"Days Afternoon",offsT:"Offs (Auto)",daysN:"Days Night",offsN:"Offs (Manual)",teamOffsets:"Team & Offsets",langsLabel:"Languages (comma separated)",name:"Name",offset:"Offset",printTitle:"Monthly Schedule",generatedOn:"Generated on",legend:"Legend",legendDesc:"Shift Codes",legM:"Morning",legT:"Afternoon",legN:"Night",legF:"Day Off",legV:"Vacation",legS:"Sick Leave",altActive:"* Alternating 2/3 days active",fixed2:"* Fixed 2 days",autoCalcInfo:"Auto M/T Offs: < 5 days = 1 Off;  5 days = 2 Offs.",sortTeam:"Sort by Shift",holidaysSection:"Holidays Management",addHoliday:"Add Date",minStaffSection:"Minimum Staff Level",minStaffWarn:"Alert if count below:",langsSection:"Mandatory Languages",legendsSection:"Shift Legends & Hours",colorsSection:"Shift Colors",weekendSection:"Weekend Definition",lowStaff:"Low Staff",missing:"Missing",restWarn:"Short Rest (<11h)",statsTitle:"Team Statistics & Hour Bank",statName:"Name",statM:"M",statT:"T",statN:"N",statWE:"W.End",statV:"Vac",statTotal:"Shifts",statHours:"Hours",statBalance:"Balance",hoursTarget:"Target Hours/Month",hoursPerShift:"Hours per Shift",annualTitle:"Annual Planner",selectEmp:"Select Employee:",rotationMode:"Rotation Mode",modeStandard:"Standard Rotation",modeFixedM:"Fixed Morning",modeFixedT:"Fixed Afternoon",modeFixedN:"Fixed Night",saveFile:"Save File",loadFile:"Load File",resetData:"Reset Data",filters:"Filters",roleFilter:"Role",langFilter:"Language",shiftFilter:"Shift",sort:"Sort",sortDefault:"Default",sortAZ:"Name (A-Z)",sortZA:"Name (Z-A)",sortLang:"Languages",sortRole:"Role",all:"All",bulkActions:"Actions",planVacation:"Plan Vacation",startDateVac:"Start Date",endDateVac:"End Date",apply:"Apply",days:"days",close:"Close",readOnly:"Read Only Mode",permissionDenied:"You do not have permission to edit.",loginRequired:"Authentication Required",selectUser:"Select Your Name",password:"Password",enterPass:"Enter Password",login:"Login",cancel:"Cancel",accessGranted:"Access Granted",invalidPass:"Invalid Password",userLoginDesc:"Please identify yourself to access Editor mode.",managerLoginDesc:"Please enter the administrative password.",loggedInAs:"Logged in as",changePass:"Change Password",newPass:"New Password",confirmPass:"Confirm Password",passChanged:"Password changed successfully!",defaultPassInfo:"Default password: '1234'",backToLogin:"Back to Login",passMismatch:"Passwords do not match",requests:"Requests",pendingRequests:"Pending Requests",noRequests:"No pending requests.",reqDesc:"wants to change",to:"to",approve:"Approve",reject:"Reject",requestSent:"Request sent for approval!",cantEditOthers:"You can only edit your own schedule!",pending:"Pending Approval",bulkTitle:"Bulk Actions",bulkDesc:"Apply changes to date ranges",target:"Target",targetAll:"All Employees (Manager Only)",shiftType:"Shift Type",clearShifts:"Reset (Auto)",applyToAll:"Apply to Entire Team",warningBulk:"This will overwrite existing overrides!",bulkSuccess:"Bulk action applied successfully!",saving:"Saving...",saved:"Saved to Cloud",offline:"Offline",loading:"Loading Data...",undo:"Undo",redo:"Redo",selectMultiple:"Hold Ctrl or Shift to select multiple dates",clearSelection:"Clear Selection",selectedDays:"Selected Days",applyToSelection:"Apply to Selection"}},Fl=r=>{const e=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${e}-${i}-${s}`},em=(r,e)=>new Date(r,e+1,0).getDate(),UN=(r,e)=>r==="T"&&e==="M"||r==="N"&&e==="M"||r==="N"&&e==="T",PN=(r,e)=>{let i=e;for(;i>0;){const c=r[i-1];if(c==="F"||c==="V"||c==="S")break;i--}let s=0;for(let c=i;c<r.length;c++){const h=r[c];if(h==="F"||h==="V"||h==="S")break;s++}return{hasShiftOverflow:s>=6&&e>=i&&e<i+s,startIdx:i}},zN=({isOpen:r,onClose:e,t:i,onApply:s,team:o,currentUser:c,preSelectedId:h})=>{const[g,y]=ae.useState(""),[_,E]=ae.useState(""),[S,N]=ae.useState("V"),[P,Z]=ae.useState("");if(ae.useEffect(()=>{r&&(h?Z(h):c.role==="editor"?Z(String(c.id)):Z(""),y(""),E(""),N("V"))},[r,c,h]),!r)return null;const $=()=>{g&&_&&P&&(s(P,g,_,S==="CLEAR"?void 0:S),e())},ie=c.role==="manager";return p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[p.jsxs("h3",{className:"font-bold text-xl mb-2 flex items-center gap-2 text-indigo-900",children:[p.jsx(B_,{size:24,className:"text-indigo-600"})," ",i.bulkTitle]}),p.jsx("p",{className:"text-sm text-gray-500 mb-6",children:i.bulkDesc}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:i.target}),p.jsxs("select",{value:P,onChange:he=>Z(he.target.value),disabled:!ie,className:"w-full p-2 border rounded text-sm bg-white",children:[p.jsx("option",{value:"",disabled:!0,children:"-- Select Target --"}),ie&&p.jsx("option",{value:"ALL",className:"font-bold text-indigo-700",children:i.targetAll}),o.map(he=>p.jsx("option",{value:he.id,children:he.name},he.id))]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:i.startDateVac}),p.jsx("input",{type:"date",value:g,onChange:he=>y(he.target.value),className:"w-full p-2 border rounded text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:i.endDateVac}),p.jsx("input",{type:"date",value:_,onChange:he=>E(he.target.value),className:"w-full p-2 border rounded text-sm"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:i.shiftType}),p.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[["M","T","N","F"].map(he=>p.jsx("button",{onClick:()=>N(he),className:`p-2 rounded border text-sm font-bold ${S===he?"bg-indigo-100 border-indigo-500 text-indigo-800":"bg-white text-gray-600 hover:bg-gray-50"}`,children:he},he)),p.jsx("button",{onClick:()=>N("V"),className:`p-2 rounded border text-sm font-bold ${S==="V"?"bg-pink-100 border-pink-500 text-pink-800":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Vac"}),p.jsx("button",{onClick:()=>N("S"),className:`p-2 rounded border text-sm font-bold ${S==="S"?"bg-gray-200 border-gray-500 text-gray-800":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Sick"}),p.jsxs("button",{onClick:()=>N("CLEAR"),className:`col-span-2 p-2 rounded border text-sm font-bold flex items-center justify-center gap-1 ${S==="CLEAR"?"bg-red-100 border-red-500 text-red-800":"bg-white text-red-500 hover:bg-red-50"}`,children:[p.jsx(OE,{size:14})," ",i.clearShifts]})]})]}),P==="ALL"&&p.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800 flex items-center gap-2",children:[p.jsx(F_,{size:16})," ",i.warningBulk]})]}),p.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[p.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded hover:bg-gray-200",children:i.close}),p.jsx("button",{onClick:$,disabled:!g||!_||!P,className:"px-4 py-2 text-sm font-bold text-white bg-indigo-600 rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:i.apply})]})]})})},BN=({isOpen:r,onClose:e,team:i,overrides:s,colors:o,t:c})=>{const[h,g]=ae.useState(i[0]?.id||0),[y,_]=ae.useState(2026);if(!r)return null;const E=i.find(N=>N.id===+h),S=N=>{const P=new Date(y,N+1,0).getDate(),Z=[];for(let $=1;$<=P;$++){const ie=new Date(y,N,$),he=Fl(ie);let ye=s[`${E.id}_${he}`]||"F";Z.push(p.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-[9px] border rounded-sm",style:{backgroundColor:o[ye]||"#fff"},title:`${he}: ${ye}`,children:ye!=="F"?ye:""},$))}return Z};return p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50",children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[p.jsx(Ju,{size:20})," ",c.annualTitle]}),p.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded",children:p.jsx(Uo,{size:20})})]}),p.jsxs("div",{className:"p-4 border-b flex gap-4 items-center bg-white",children:[p.jsx("label",{className:"text-sm font-bold",children:c.selectEmp}),p.jsx("select",{value:h,onChange:N=>g(+N.target.value),className:"border p-2 rounded text-sm w-64",children:i.map(N=>p.jsx("option",{value:N.id,children:N.name},N.id))}),p.jsxs("div",{className:"flex gap-2 items-center ml-4",children:[p.jsx("button",{onClick:()=>_(y-1),className:"p-1 border rounded hover:bg-gray-50",children:p.jsx(Om,{size:16})}),p.jsx("span",{className:"font-bold",children:y}),p.jsx("button",{onClick:()=>_(y+1),className:"p-1 border rounded hover:bg-gray-50",children:p.jsx(U_,{size:16})})]})]}),p.jsx("div",{className:"overflow-auto flex-1 p-6",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:jN.map((N,P)=>p.jsxs("div",{className:"border rounded p-2",children:[p.jsx("h4",{className:"font-bold text-sm mb-2 text-center bg-gray-50 rounded py-1",children:N}),p.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:S(P)})]},N))})})]})})},qN=({cell:r,onClose:e,onUpdate:i,legends:s,customColors:o})=>{const c=[{id:"M",label:`Morning (${s.M})`,color:o.M},{id:"T",label:`Afternoon (${s.T})`,color:o.T},{id:"N",label:`Night (${s.N})`,color:o.N},{id:"F",label:"Day Off",color:o.F},{id:"V",label:"Vacation",icon:p.jsx(ZE,{size:14}),color:o.V},{id:"S",label:"Sick Leave",icon:p.jsx(lT,{size:14}),color:o.S}],h=r.y>window.innerHeight-350,g=window.innerHeight-r.y+40;return p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-40",onClick:e}),p.jsxs("div",{className:"absolute z-50 bg-white rounded-lg shadow-xl border p-2 w-48 flex flex-col gap-1 animate-in fade-in zoom-in duration-200",style:{top:h?void 0:r.y+10,bottom:h?g:void 0,left:Math.min(r.x,window.innerWidth-200)},children:[p.jsxs("div",{className:"text-xs font-bold text-gray-500 mb-1 px-1 border-b pb-1",children:["Edit: ",r.empName," ",p.jsx("br",{})," ",r.date]}),c.map(y=>p.jsxs("button",{onClick:()=>{i(r.key,y.id),e()},className:"flex items-center gap-2 p-2 text-xs rounded hover:bg-gray-100 text-left border transition-colors",style:{borderLeftColor:y.color,borderLeftWidth:4},children:[y.icon||p.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:y.color}})," ",y.label]},y.id))]})]})},HN=({show:r,config:e,setConfig:i,team:s,setTeam:o,holidays:c,setHolidays:h,minStaff:g,setMinStaff:y,requiredLangs:_,setRequiredLangs:E,legends:S,setLegends:N,colors:P,setColors:Z,weekendDays:$,setWeekendDays:ie,lang:he,onReset:De,hoursConfig:ye,setHoursConfig:Fe})=>{if(!r)return null;const Ne=pv[he],[Ue,R]=ae.useState(""),w=()=>{Ue&&!c.includes(Ue)&&(h([...c,Ue].sort()),R(""))},A=z=>{h(c.filter(le=>le!==z))},k=z=>{_.includes(z)?E(_.filter(le=>le!==z)):E([..._,z])},M=z=>{$.includes(z)?ie($.filter(le=>le!==z)):ie([...$,z])},j=(z,le,qe)=>{o(s.map(ke=>ke.id===z?{...ke,[le]:qe}:ke))},C=(z,le)=>{const qe=le.toUpperCase().split(",").map(ke=>ke.trim()).filter(ke=>ke);o(s.map(ke=>ke.id===z?{...ke,languages:qe}:ke))},$e=()=>{const le={id:s.length>0?Math.max(...s.map(qe=>qe.id))+1:1,name:"Novo Colaborador",role:"GCC",languages:["EN"],offset:0,password:"1234",rotationMode:"STANDARD"};o([...s,le])},Dt=z=>{window.confirm("Tem a certeza que quer remover este colaborador?")&&o(s.filter(le=>le.id!==z))},Q=z=>z<5?1:2;return p.jsxs("div",{className:"w-96 bg-white border-r overflow-y-auto p-4 shadow-inner z-10 animate-slide-in flex flex-col h-full print:hidden",children:[p.jsxs("h3",{className:"font-bold mb-4 text-indigo-900 flex items-center gap-2",children:[p.jsx(q_,{size:18})," ",Ne.configPanelTitle]}),p.jsx("div",{className:"bg-gray-50 p-3 rounded mb-4 border space-y-3",children:p.jsxs("div",{className:"border-t pt-1.5 mt-0",children:[p.jsxs("label",{className:"block text-xs font-bold text-gray-600 mb-1 flex items-center gap-1",children:[p.jsx(Ju,{size:12})," ",Ne.holidaysSection]}),p.jsxs("div",{className:"flex gap-1.5 mb-1.5",children:[p.jsx("input",{type:"date",value:Ue,onChange:z=>R(z.target.value),className:"flex-1 p-0.5 border rounded text-[10px]"}),p.jsx("button",{onClick:w,className:"bg-indigo-100 text-indigo-700 px-2 py-1 rounded hover:bg-indigo-200",children:p.jsx(n1,{size:14})})]}),p.jsx("div",{className:"max-h-20 overflow-y-auto space-y-0.5",children:c.map(z=>p.jsxs("div",{className:"flex justify-between items-center bg-white border px-2 py-1 rounded text-xs",children:[p.jsx("span",{children:z}),p.jsx("button",{onClick:()=>A(z),className:"text-red-400 hover:text-red-600",children:p.jsx(Uo,{size:12})})]},z))})]})}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-4 border space-y-3",children:[p.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase",children:Ne.rotationPattern}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] text-gray-600",children:Ne.daysM}),p.jsx("input",{type:"number",value:e.morningDays,onChange:z=>i({...e,morningDays:+z.target.value}),className:"w-full p-1 border rounded"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] text-gray-600",children:Ne.offsM}),p.jsx("input",{type:"text",value:Q(e.morningDays),disabled:!0,className:"w-full p-1 border rounded bg-gray-100 text-gray-500 text-center font-bold"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] text-gray-600",children:Ne.daysT}),p.jsx("input",{type:"number",value:e.afternoonDays,onChange:z=>i({...e,afternoonDays:+z.target.value}),className:"w-full p-1 border rounded"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] text-gray-600",children:Ne.offsT}),p.jsx("input",{type:"text",value:Q(e.afternoonDays),disabled:!0,className:"w-full p-1 border rounded bg-gray-100 text-gray-500 text-center font-bold"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] text-gray-600",children:Ne.daysN}),p.jsx("input",{type:"number",value:e.nightDays,onChange:z=>i({...e,nightDays:+z.target.value}),className:"w-full p-1 border rounded"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] text-gray-600 font-bold text-indigo-700",children:Ne.offsN}),p.jsx("input",{type:"number",value:e.nightOffs,onChange:z=>i({...e,nightOffs:+z.target.value}),className:"w-full p-1 border rounded bg-white"})]})]})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-4 border space-y-3",children:[p.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase flex items-center gap-1",children:[p.jsx(H_,{size:12})," Coverage, Weekend & Hours"]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:Ne.minStaffWarn}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("div",{className:"grid grid-cols-3 gap-2 min-w-[300px]",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-[9px] block text-center",children:"M"}),p.jsx("input",{type:"number",value:g.M,onChange:z=>y({...g,M:+z.target.value}),className:"w-full p-1 border rounded text-center"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-[9px] block text-center",children:"T"}),p.jsx("input",{type:"number",value:g.T,onChange:z=>y({...g,T:+z.target.value}),className:"w-full p-1 border rounded text-center"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-[9px] block text-center",children:"N"}),p.jsx("input",{type:"number",value:g.N,onChange:z=>y({...g,N:+z.target.value}),className:"w-full p-1 border rounded text-center"})]})]})})]}),p.jsxs("div",{className:"border-t pt-2",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:Ne.weekendSection}),p.jsx("div",{className:"flex gap-1",children:kN.map((z,le)=>p.jsx("button",{onClick:()=>M(le),className:`text-xs px-2 py-1 rounded border ${$.includes(le)?"bg-indigo-600 text-white":"bg-white text-gray-500"}`,children:z.charAt(0)},z))})]}),p.jsxs("div",{className:"border-t pt-2",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:Ne.hoursPerShift}),p.jsx("div",{className:"overflow-x-auto mb-2",children:p.jsxs("div",{className:"grid grid-cols-3 gap-2 min-w-[300px]",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-[9px] block text-center",children:"M"}),p.jsx("input",{type:"number",value:ye.M,onChange:z=>Fe({...ye,M:+z.target.value}),className:"w-full p-1 border rounded text-center"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-[9px] block text-center",children:"T"}),p.jsx("input",{type:"number",value:ye.T,onChange:z=>Fe({...ye,T:+z.target.value}),className:"w-full p-1 border rounded text-center"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-[9px] block text-center",children:"N"}),p.jsx("input",{type:"number",value:ye.N,onChange:z=>Fe({...ye,N:+z.target.value}),className:"w-full p-1 border rounded text-center"})]})]})}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-xs font-bold text-gray-600",children:Ne.hoursTarget}),p.jsx("input",{type:"number",value:ye.target,onChange:z=>Fe({...ye,target:+z.target.value}),className:"w-16 p-1 border rounded text-center"})]})]}),p.jsxs("div",{className:"border-t pt-2",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:Ne.langsSection}),p.jsx("div",{className:"flex flex-wrap gap-1",children:Dm.map(z=>p.jsxs("label",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded cursor-pointer border ${_.includes(z)?"bg-indigo-100 border-indigo-300 text-indigo-800":"bg-white border-gray-200 text-gray-400"}`,children:[p.jsx("input",{type:"checkbox",checked:_.includes(z),onChange:()=>k(z),className:"hidden"}),z]},z))})]})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-4 border space-y-3",children:[p.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase flex items-center gap-1 mb-2",children:[p.jsx(QE,{size:12})," Shift Legends, Hours & Colors"]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsx("div",{className:"space-y-2",children:["M","T","N","F","V","S"].map(z=>p.jsxs("div",{className:"flex items-center gap-1 min-w-[400px]",children:[p.jsx("input",{type:"color",value:P[z],onChange:le=>Z({...P,[z]:le.target.value}),className:"w-5 h-5 p-0 border-0 rounded cursor-pointer flex-shrink-0"}),p.jsx("span",{className:"text-[10px] font-bold w-4 flex-shrink-0",children:z}),p.jsx("input",{value:S[z]||"",onChange:le=>N({...S,[z]:le.target.value}),className:"flex-1 p-1 border rounded text-xs"}),["F","V","S"].includes(z)&&p.jsx("span",{className:"text-xs text-gray-500 flex-1",children:Ne[`leg${z}`]})]},z))})})]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase",children:Ne.teamOffsets}),p.jsxs("button",{onClick:$e,className:"flex items-center gap-1 bg-green-50 text-green-700 px-2 py-1 rounded text-[10px] font-bold border border-green-200 hover:bg-green-100",children:[p.jsx(n1,{size:12})," Add"]})]}),p.jsxs("div",{className:"space-y-3 pb-10",children:[s.length===0&&p.jsx("div",{className:"text-center text-xs text-gray-400 py-8 italic",children:"No employees yet"}),s.map(z=>p.jsxs("div",{className:"p-3 border rounded bg-white shadow-sm text-xs relative group",children:[p.jsx("button",{onClick:()=>Dt(z.id),className:"absolute top-2 right-2 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove",children:p.jsx(Uo,{size:14})}),p.jsxs("div",{className:"flex gap-2 mb-2 pr-4",children:[p.jsx("input",{className:"font-bold flex-1 border-b focus:border-indigo-500 outline-none",value:z.name,onChange:le=>j(z.id,"name",le.target.value),placeholder:"Nome"}),p.jsx("input",{className:"w-10 text-center border rounded bg-gray-50",title:Ne.offset,type:"number",value:z.offset,onChange:le=>j(z.id,"offset",+le.target.value)})]}),p.jsxs("div",{className:"mb-2 space-y-2",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("input",{className:"w-full border p-1 rounded",value:z.role,onChange:le=>j(z.id,"role",le.target.value),placeholder:"Cargo (ex: GCC)"}),p.jsx("input",{className:"w-full border p-1 rounded",value:z.languages.join(", "),onChange:le=>C(z.id,le.target.value),placeholder:"Lnguas (ex: EN, PT)"})]}),p.jsxs("select",{value:z.rotationMode||"STANDARD",onChange:le=>j(z.id,"rotationMode",le.target.value),className:"w-full border p-1 rounded bg-gray-50",children:[p.jsx("option",{value:"STANDARD",children:Ne.modeStandard}),p.jsx("option",{value:"FIXED_M",children:Ne.modeFixedM}),p.jsx("option",{value:"FIXED_T",children:Ne.modeFixedT}),p.jsx("option",{value:"FIXED_N",children:Ne.modeFixedN})]})]})]},z.id))]})]}),p.jsx("div",{className:"p-4 border-t sticky bottom-0 bg-white",children:p.jsxs("button",{onClick:De,className:"w-full py-2 bg-red-50 text-red-600 border border-red-200 rounded flex items-center justify-center gap-2 hover:bg-red-100",children:[p.jsx(nm,{size:14})," ",Ne.resetData]})})]})},FN=()=>{const[r,e]=ae.useState(!0),[i,s]=ae.useState(!1),[o,c]=ae.useState("offline"),[h,g]=ae.useState(()=>{const D=new Date;return new Date(D.getFullYear(),D.getMonth(),1)}),[y,_]=ae.useState(()=>{const D=new Date;return new Date(D.getFullYear(),D.getMonth(),1)}),[E,S]=ae.useState(!1),[N,P]=ae.useState(!1),[Z,$]=ae.useState(!1),[ie,he]=ae.useState(!1),[De,ye]=ae.useState(!1),[Fe,Ne]=ae.useState(!1),[Ue]=ae.useState("en"),[R,w]=ae.useState(null),[A,k]=ae.useState(Pr.VIEWER),[M,j]=ae.useState(!1),[C,$e]=ae.useState(null),[Dt,Q]=ae.useState(""),[z,le]=ae.useState(0),[qe,ke]=ae.useState(""),V=ae.useRef(!1),J=ae.useRef(!1),ue=ae.useRef(!0),pe=ae.useRef(null),we=ae.useRef(null),[Re,Ge]=ae.useState(0),Mt=ae.useRef(0),mt=ae.useRef(!1),ji=ae.useRef(0),Kn=A.permissions.includes("write"),tr=A.role==="manager",Xt=A.role==="manager";J.current=Kn,ue.current=r;const[dn,nr]=ae.useState("All"),[Un,ir]=ae.useState("All"),[yn,At]=ae.useState("All"),[ft,Wi]=ae.useState("AZ"),[$n,sr]=ae.useState(null),[_n,Xn]=ae.useState(null),[Li,Ui]=ae.useState({}),[yi,za]=ae.useState(null),[Ts,na]=ae.useState(!1),[es,Pn]=ae.useState("2025-12-15"),[St,xn]=ae.useState(k_),[rt,rr]=ae.useState({M:4,T:4,N:3}),[an,ar]=ae.useState(["EN","TR","ES","FR","IT","PT","DE"]),[on,Pi]=ae.useState([0,6]),[ot,Zn]=ae.useState({M:"07:00 - 16:00",T:"15:00 - 00:00",N:"23:00 - 08:00"}),[ln,zn]=ae.useState({M:"#d1fae5",T:"#ffedd5",N:"#1e3a8a",F:"#f3f4f6",V:"#fbcfe8",S:"#e5e7eb"}),[cn,Jn]=ae.useState({}),[Bn,_i]=ae.useState([]),[or,zi]=ae.useState([]),[oi,li]=ae.useState([]),[ts,Wn]=ae.useState(null);ae.useEffect(()=>{if(!Xt)return;const D=JSON.stringify(cn)!==JSON.stringify(Li);na(D)},[cn,Li,Xt]);const[ns,qn]=ae.useState({morningDays:5,afternoonDays:5,nightDays:4,nightOffs:2,autoAdjustOffs:!0}),[Nt,Ot]=ae.useState({M:8,T:8,N:8,target:160}),[Ke,In]=ae.useState(LN),[Dn,is]=ae.useState([]),Bi=ae.useRef(0),Ba=5;ae.useEffect(()=>{let D=null,Y=null,W=!0;const fe=()=>{if(!Pl.apiKey){W&&(e(!1),c("offline"));return}try{const se=lm(Pl),re=hm(se),ge=W3(se,{experimentalForceLongPolling:!0});pe.current=ge,(async()=>{try{if(re.currentUser)return;const be=sessionStorage.getItem("firebaseToken");if(be)try{await Tx(re,be);return}catch{sessionStorage.removeItem("firebaseToken")}await jw(re),Bi.current=0}catch(be){console.error("[Firebase] Auth Error - Please check console:",{code:be?.code,message:be?.message,fullError:be}),["auth/operation-not-allowed","auth/invalid-api-key","auth/app-deleted","auth/invalid-user-token"].includes(be?.code)?(e(!1),c("offline")):me()}})();const Se=Wd(ge,"artifacts",Bu,"public","data","shift_scheduler","global_state");D=mN(Se,be=>{if(W)if(be.exists()){const de=be.data();if(!ue.current&&J.current)return;V.current=!0,de.startDateStr&&Pn(de.startDateStr),de.holidays&&xn(de.holidays),de.minStaff&&rr(de.minStaff),de.requiredLangs&&ar(de.requiredLangs),de.weekendDays&&Pi(de.weekendDays),de.legends&&Zn(de.legends),de.colors&&zn(de.colors),de.config&&qn(de.config),de.hoursConfig&&Ot(de.hoursConfig),de.team&&In(de.team),de.requests&&is(de.requests),de.overrides&&Jn(de.overrides),de.publishedOverrides?Ui(de.publishedOverrides):de.overrides&&Ui(de.overrides),de.lastPublished&&za(de.lastPublished),s(!1),e(!1),c("saved"),Bi.current=0}else s(!1),e(!1),c("saved"),Bi.current=0},be=>{W&&(ue.current&&(s(!1),e(!1),c("offline")),me())})}catch{if(!W)return;s(!1),e(!1),c("offline"),me()}},me=()=>{if(Bi.current>=Ba)return;const se=Math.min(1e3*Math.pow(2,Bi.current),3e4);Bi.current++,Y=setTimeout(()=>{W&&(D&&D(),fe())},se)};return fe(),()=>{W=!1,D&&D(),Y&&clearTimeout(Y)}},[]),ae.useEffect(()=>{if(r||i||!Pl.apiKey||!Bu)return;if(V.current){V.current=!1;return}if(!Kn)return;c("saving");const Y=setTimeout(async()=>{try{let W;try{W=nf()}catch{W=lm(Pl)}const fe=C_(W),me=Wd(fe,"artifacts",Bu,"public","data","shift_scheduler","global_state");await I_(me,{startDateStr:es,holidays:St,minStaff:rt,requiredLangs:an,weekendDays:on,legends:ot,colors:ln,overrides:cn,publishedOverrides:Li,lastPublished:yi||null,config:ns,hoursConfig:Nt,team:Ke,requests:Dn,lastUpdated:Date.now()}),c("saved")}catch{c("error")}},2e3);return()=>clearTimeout(Y)},[es,St,rt,an,on,ot,ln,cn,ns,Nt,Ke,Dn,r,i]);const xi=()=>{confirm("Are you sure you want to reset all data to defaults?")&&(Pn("2025-12-15"),xn(k_),Jn({}),Ui({}),is([]),window.location.reload())},lr=async()=>{const D={...cn},Y=Date.now();if(Ui(D),za(Y),na(!1),Pl.apiKey)try{await hm().currentUser?.getIdToken(!0);const fe=nf(),me=pe.current||C_(fe);pe.current||(pe.current=me);const se=Wd(me,"artifacts",Bu,"public","data","shift_scheduler","global_state"),re={startDateStr:es,holidays:St,minStaff:rt,requiredLangs:an,weekendDays:on,legends:ot,colors:ln,overrides:cn,publishedOverrides:D,lastPublished:Y,config:ns,hoursConfig:Nt,team:Ke,requests:Dn,lastUpdated:Date.now()};console.log("[Publish] Writing data with keys:",Object.keys(re)),await I_(se,re),c("saved")}catch(W){console.error("Publish Error:",{code:W?.code,message:W?.message}),c("error")}else c("offline")},bi=D=>{if(D==="VIEWER"){k(Pr.VIEWER),Q(""),le(0),S(!1),Ne(!1),Xn(null),li([]);return}$e(D==="ADMIN"?"admin":D==="MANAGER"?"manager":"editor"),j(!0)},ei=(D,Y,W)=>{li([]),D==="manager"?(k(Pr.MANAGER),Xn(null)):D==="admin"?(k(Pr.ADMIN),Xn(null)):D==="editor"?(k(Pr.EDITOR),Xn(W)):(k(Pr.VIEWER),Xn(null)),Q(Y),le(W)},Hn=D=>{Jn(Y=>{const W={...Y},fe=`${D.empId}_${D.date}`;return D.newShift?W[fe]=D.newShift:delete W[fe],W}),is(Y=>Y.map(W=>W.id===D.id?{...W,status:"APPROVED"}:W))},vi=D=>{is(Y=>Y.map(W=>W.id===D.id?{...W,status:"REJECTED"}:W))},Vt=ae.useRef(null),ia=()=>{const D={version:1,date:new Date().toISOString(),state:{startDateStr:es,holidays:St,minStaff:rt,requiredLangs:an,weekendDays:on,legends:ot,colors:ln,overrides:cn,config:ns,hoursConfig:Nt,team:Ke,requests:Dn}},Y=new Blob([JSON.stringify(D,null,2)],{type:"application/json"}),W=URL.createObjectURL(Y),fe=document.createElement("a");fe.href=W,fe.download=`shift_scheduler_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)},sa=D=>{const Y=D.target.files?.[0];if(!Y)return;const W=new FileReader;W.onload=fe=>{try{const me=JSON.parse(fe.target?.result);if(me.state){const se=me.state;if(se.startDateStr&&Pn(se.startDateStr),se.holidays&&xn(se.holidays),se.minStaff&&rr(se.minStaff),se.requiredLangs&&ar(se.requiredLangs),se.weekendDays&&Pi(se.weekendDays),se.legends&&Zn(se.legends),se.colors&&zn(se.colors),se.overrides){const re={};Object.entries(se.overrides).forEach(([ge,Te])=>{const[Se,be]=ge.split("_"),de=be.includes("T")?be.split("T")[0]:be;re[`${Se}_${de}`]=Te}),Jn(re)}if(se.publishedOverrides){const re={};Object.entries(se.publishedOverrides).forEach(([ge,Te])=>{const[Se,be]=ge.split("_"),de=be.includes("T")?be.split("T")[0]:be;re[`${Se}_${de}`]=Te}),Ui(re)}se.config&&qn(se.config),se.hoursConfig&&Ot(se.hoursConfig),se.team&&In(se.team),se.requests&&is(se.requests),alert("Configuration loaded successfully!")}}catch{alert("Error loading file. Invalid JSON.")}Vt.current&&(Vt.current.value="")},W.readAsText(Y)},oe=pv[Ue],bn=Xt?cn:Li,Fn=ae.useMemo(()=>{let D=Ke.filter(Y=>{const W=dn==="All"||Y.role===dn,fe=Un==="All"||Y.languages.includes(Un);let me=!0;return yn!=="All"&&(oi.length>0?me=oi.some(se=>{const re=`${Y.id}_${se}`;return(bn[re]||"F")===yn}):me=!0),W&&fe&&me});return ft==="AZ"?D.sort((Y,W)=>Y.name.localeCompare(W.name)):ft==="ZA"?D.sort((Y,W)=>W.name.localeCompare(Y.name)):ft==="LANG"?D.sort((Y,W)=>Y.languages.join("").localeCompare(W.languages.join(""))):ft==="ROLE"?D.sort((Y,W)=>Y.role.localeCompare(W.role)):D.sort((Y,W)=>Y.offset-W.offset),D},[Ke,dn,Un,yn,ft,es,bn,oi]),cr=(D,Y,W,fe)=>{if(!Kn||A.role==="editor"&&Y!==z)return;const me=D.target.getBoundingClientRect();w({key:`${Y}_${W}`,x:me.left,y:me.bottom,empName:fe,date:W})},ra=(D,Y)=>{if(!Kn)return;if(Xt){_i(ge=>[...ge,{...cn}]),zi([]),Jn(ge=>{const Te={...ge};return Y?Te[D]=Y:delete Te[D],Te});return}const[W,fe]=D.split("_"),me=parseInt(W);if(me!==z)return;const se=Ke.find(ge=>ge.id===me)?.name||"Unknown",re={id:crypto.randomUUID(),empId:me,empName:se,date:fe,newShift:Y,status:"PENDING",timestamp:Date.now()};is(ge=>[...ge,re]),alert(oe.requestSent)},qa=()=>{if(Bn.length===0)return;const D=Bn[Bn.length-1];zi(Y=>[...Y,{...cn}]),Jn(D),_i(Y=>Y.slice(0,-1))},ur=()=>{if(or.length===0)return;const D=or[or.length-1];_i(Y=>[...Y,{...cn}]),Jn(D)},Gn=(D,Y,W,fe)=>{if(!Kn)return;_i(se=>[...se,{...cn}]),zi([]);const me=se=>{const re=new Date(Y),ge=new Date(W),Te={...cn},Se=new Date(re);for(;Se<=ge;){const be=Fl(Se),de=`${se}_${be}`;fe?Te[de]=fe:delete Te[de],Se.setDate(Se.getDate()+1)}return Te};if(typeof D=="number"||!isNaN(Number(D))){const se=Number(D);if(!Xt&&se!==z){alert(oe.cantEditOthers);return}Jn(me(se))}else if(D==="ALL"){if(!Xt){alert(oe.permissionDenied);return}let se={...cn};Ke.forEach(re=>{const ge=new Date(Y),Te=new Date(W),Se=new Date(ge);for(;Se<=Te;){const be=Fl(Se),de=`${re.id}_${be}`;fe?se[de]=fe:delete se[de],Se.setDate(Se.getDate()+1)}}),Jn(se)}},Pe=ae.useMemo(()=>{const D=h.getFullYear(),Y=h.getMonth(),W=em(D,Y),fe=[],me="en-GB",se=new Map;Dn.forEach(re=>{re.status==="PENDING"&&se.set(`${re.empId}_${re.date}`,!0)});for(let re=1;re<=W;re++){const ge=new Date(D,Y,re),Te=Fl(ge),Se=on.includes(ge.getDay()),be=St.includes(Te),de={},wt={},it={M:new Set,T:new Set,N:new Set},Ut={M:0,T:0,N:0};Ke.forEach(Et=>{const zt=`${Et.id}_${Te}`;wt[Et.id]=se.get(zt)||!1;const kt=bn[zt]||"F";de[Et.id]=kt,["M","T","N"].includes(kt)&&(Et.languages.forEach(Gt=>it[kt].add(Gt)),Ut[kt]++)});const vt={M:an.filter(Et=>!it.M.has(Et)),T:an.filter(Et=>!it.T.has(Et)),N:an.filter(Et=>!it.N.has(Et))},Pt={M:Ut.M<rt.M,T:Ut.T<rt.T,N:Ut.N<rt.N};fe.push({date:re,fullDate:Te,weekDay:ge.toLocaleDateString(me,{weekday:"short"}).slice(0,3),isWeekend:Se,isPtHoliday:be,shifts:de,missing:vt,lowStaff:Pt,counts:Ut,pendingReqs:wt,hasIssues:vt.M.length>0||vt.T.length>0||vt.N.length>0||Pt.M||Pt.T||Pt.N})}if(Re&&Re>0){const re=new Date(D,Y+1,1),ge=re.getFullYear(),Te=re.getMonth(),Se=em(ge,Te),be=Math.min(Re,Se);for(let de=1;de<=be;de++){const wt=new Date(ge,Te,de),it=Fl(wt),Ut=on.includes(wt.getDay()),vt=St.includes(it),Pt={},Et={},zt={M:new Set,T:new Set,N:new Set},kt={M:0,T:0,N:0};Ke.forEach(Ye=>{const ci=`${Ye.id}_${it}`;let Ti;const ws=Dn.some(qi=>qi.empId===Ye.id&&qi.date===it&&qi.status==="PENDING");Et[Ye.id]=ws,bn[ci]?Ti=bn[ci]:Ti="F",Pt[Ye.id]=Ti,["M","T","N"].includes(Ti)&&(Ye.languages.forEach(qi=>zt[Ti].add(qi)),kt[Ti]++)});const Gt={M:an.filter(Ye=>!zt.M.has(Ye)),T:an.filter(Ye=>!zt.T.has(Ye)),N:an.filter(Ye=>!zt.N.has(Ye))},Mn={M:kt.M<rt.M,T:kt.T<rt.T,N:kt.N<rt.N};fe.push({date:de,fullDate:it,weekDay:wt.toLocaleDateString(me,{weekday:"short"}).slice(0,3),isWeekend:Ut,isPtHoliday:vt,shifts:Pt,missing:Gt,lowStaff:Mn,counts:kt,pendingReqs:Et,hasIssues:Gt.M.length>0||Gt.T.length>0||Gt.N.length>0||Mn.M||Mn.T||Mn.N})}}return fe},[h,Ke,St,rt,an,on,bn,Dn,Re]);ae.useEffect(()=>{const D=we.current;if(!D)return;const Y=new Date;if(h.getFullYear()!==Y.getFullYear()||h.getMonth()!==Y.getMonth())return;const W=`${Y.getFullYear()}-${String(Y.getMonth()+1).padStart(2,"0")}-${String(Y.getDate()).padStart(2,"0")}`,fe=Pe.findIndex(me=>me.fullDate===W);fe>=0&&setTimeout(()=>{const me=D.querySelectorAll("table thead th"),re=Array.from(me).slice(1)[fe];if(re){const ge=me[0]?.offsetWidth||0;D.scrollLeft=re.offsetLeft-ge-100}},100)},[h]),ae.useEffect(()=>{const D=we.current;if(!D)return;let Y=!1,W=D.scrollLeft,fe=D.scrollTop;const me=()=>{Y||(Y=!0,requestAnimationFrame(()=>{try{const se=D.scrollLeft,re=D.scrollTop,ge=Math.abs(se-W),Te=Math.abs(re-fe);if(ge>5&&ge>Te&&D.scrollLeft+D.clientWidth>=D.scrollWidth-40&&Re===0){const be=Date.now();be-Mt.current>900&&(Mt.current=be,Ge(7))}W=se,fe=re}finally{Y=!1}}))};return D.addEventListener("scroll",me,{passive:!0}),()=>D.removeEventListener("scroll",me)},[we,h,Ke,Re]),ae.useEffect(()=>{const D=we.current;if(!D)return;let Y=null;const W=()=>{const me=D.querySelectorAll("table thead th");if(!me||me.length<=1)return;const se=Array.from(me).slice(1),re=me[0],ge=re?re.offsetWidth:0;let Te=-1;se.forEach((wt,it)=>{const Ut=wt.offsetLeft,vt=Ut+wt.offsetWidth,Pt=D.scrollLeft+ge,Et=D.scrollLeft+D.clientWidth;Ut<Et&&vt>Pt&&(Te=it)});const be=em(h.getFullYear(),h.getMonth())-1;if(Te>=be-3&&Re===0&&D.scrollLeft>100&&(ji.current=D.scrollLeft,mt.current=!0,Ge(7)),Te>=be&&Re>0){const wt=new Date(h.getFullYear(),h.getMonth()+1,1);_(wt)}else _(new Date(h.getFullYear(),h.getMonth(),1))},fe=()=>{Y&&window.clearTimeout(Y),Y=window.setTimeout(()=>{W()},220)};return D.addEventListener("scroll",fe,{passive:!0}),()=>{D.removeEventListener("scroll",fe),Y&&window.clearTimeout(Y)}},[we,h,Re]),ae.useEffect(()=>{const D=we.current;!D||!mt.current||ji.current===0||requestAnimationFrame(()=>{D.scrollLeft=ji.current})},[Re]);const Zt=ae.useMemo(()=>Fn.map(D=>{let Y=0,W=0,fe=0,me=0,se=0,re=0,ge=0;return Pe.forEach(Te=>{const Se=Te.shifts[D.id];Se==="M"&&(Y++,ge+=Nt.M),Se==="T"&&(W++,ge+=Nt.T),Se==="N"&&(fe++,ge+=Nt.N),Se==="V"&&se++,["M","T","N"].includes(Se)&&(re++,Te.isWeekend&&me++)}),{name:D.name,M:Y,T:W,N:fe,WE:me,V:se,Total:re,Hours:ge}}),[Pe,Fn,Nt]),ss=()=>{Ge(0),mt.current=!1,Mt.current=0;const D=new Date(h.getFullYear(),h.getMonth()-1,1);g(D),_(D)},aa=()=>{Ge(0),mt.current=!1,Mt.current=0;const D=new Date(h.getFullYear(),h.getMonth()+1,1);g(D),_(D)};ae.useEffect(()=>{_(D=>D.getFullYear()!==h.getFullYear()||D.getMonth()!==h.getMonth()?new Date(h.getFullYear(),h.getMonth(),1):D)},[h]);const lt=y.toLocaleDateString("en-GB",{month:"long",year:"numeric"}),rs=ae.useMemo(()=>{const D=new Set;return Pe.forEach((Y,W)=>{if(Fn.some(me=>{const se=Y.shifts[me.id];return["M","T","N"].includes(se)})){const me=W-W%7;D.add(me)}}),D},[Pe,Fn]),Ei=()=>{const D=[oe.colaborador,oe.cargo,oe.linguas,...Pe.map(re=>`${re.date}/${re.weekDay}`)],Y=Fn.map(re=>[re.name,re.role,re.languages.join(" "),...Pe.map(ge=>ge.shifts[re.id]==="F"?"F":ge.shifts[re.id])]);Y.push([]),Y.push([oe.analise.toUpperCase(),oe.analiseDesc]),["M","T","N"].forEach(re=>{const ge=re==="M"?oe.manha:re==="T"?oe.tarde:oe.noite,Te=`${oe.faltas}: ${ge}`,Se=Pe.map(be=>{const de=be.missing[re],wt=be.lowStaff[re],it=[];return de.length>0&&it.push(`Missing: ${de.join(",")}`),wt&&it.push(oe.lowStaff),it.length>0?it.join(" | "):"OK"});Y.push([Te,"","",...Se])}),Y.push([]),Y.push([oe.legend]),Y.push(["M",`${oe.legM} (${ot.M})`]),Y.push(["T",`${oe.legT} (${ot.T})`]),Y.push(["N",`${oe.legN} (${ot.N})`]),Y.push(["F",oe.legF]),Y.push(["V",oe.legV]),Y.push(["S",oe.legS]);let W="\uFEFF"+D.join(";")+`
`;Y.forEach(re=>W+=re.join(";")+`
`);const fe=new Blob([W],{type:"text/csv;charset=utf-8;"}),me=URL.createObjectURL(fe),se=document.createElement("a");se.setAttribute("href",me),se.setAttribute("download",`Schedule_${h.getMonth()+1}_${h.getFullYear()}.csv`),document.body.appendChild(se),se.click(),document.body.removeChild(se)},Jt=D=>({backgroundColor:ln[D]||"#fff",color:D==="N"?"#fff":"#000",borderColor:D==="N"?"transparent":"rgba(0,0,0,0.1)"}),vn=async D=>{try{const Y=(await rE(async()=>{const{default:re}=await import("./html2canvas.esm-Ge7aVWlp.js");return{default:re}},[])).default,W=document.querySelector("table");if(!W){alert("Could not find table to export");return}const fe=W.cloneNode(!0),me=re=>{const ge=[/text-\w+-\d+/,/bg-\w+-\d+/,/border-\w+-\d+/,/ring-\w+-\d+/,/divide-\w+-\d+/,/from-\w+-\d+/,/to-\w+-\d+/,/via-\w+-\d+/];Array.from(re.classList).forEach(Te=>{ge.some(Se=>Se.test(Te))&&re.classList.remove(Te)}),Array.from(re.children).forEach(Te=>{me(Te)})};me(fe);const se=document.createElement("div");se.style.position="fixed",se.style.left="-9999px",se.style.top="-9999px",se.appendChild(fe),document.body.appendChild(se),setTimeout(async()=>{try{const re=await Y(fe,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",allowTaint:!0}),ge=document.createElement("a");ge.href=re.toDataURL(`image/${D==="jpeg"?"jpeg":"png"}`),ge.download=`schedule_${h.getMonth()+1}_${h.getFullYear()}.${D}`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)}catch{alert("Error exporting image. Please try again.")}finally{document.body.removeChild(se)}},100)}catch{alert("Error with export library. Please try again.")}},fr=ae.useMemo(()=>Array.from(new Set(Ke.map(D=>D.role))),[Ke]),oa=Dn.filter(D=>D.status==="PENDING").length,Ss=(A.role==="editor","calc(100vh - 140px)");return i?p.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-red-50 text-red-900 p-4 text-center",children:[p.jsx(H_,{className:"w-16 h-16 text-red-600 mb-4"}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erro Crtico"}),p.jsx("p",{className:"max-w-md mb-2 text-sm",children:"Houve um erro ao inicializar a aplicao."}),p.jsx("p",{className:"max-w-md mb-6 text-sm text-red-800",children:"Por favor, verifique a sua conexo de internet e as credenciais do Firebase no arquivo .env"}),p.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 shadow-lg flex items-center justify-center gap-2",children:[p.jsx(nm,{size:20})," Tentar Novamente"]})]}):r?p.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-gray-50",children:[p.jsx(zd,{className:"w-12 h-12 text-indigo-600 animate-spin mb-4"}),p.jsx("h2",{className:"text-xl font-bold text-gray-700",children:oe.loading})]}):p.jsxs("div",{className:"flex flex-col min-h-screen h-screen w-full overflow-x-hidden bg-gray-50 text-xs sm:text-sm md:text-sm font-sans relative print:overflow-visible print:bg-white print:h-auto",children:[p.jsx("style",{children:`
        @media print { 
          @page { size: landscape; margin: 10mm; } 
          .print\\:hidden { display: none !important; } 
          body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
          .no-shift-week { display: none !important; }
        }
      `}),r&&p.jsxs("div",{className:"bg-blue-50 border-b-2 border-blue-400 text-blue-800 p-3 flex items-center gap-3 z-40 print:hidden",children:[p.jsx(zd,{size:18,className:"animate-spin flex-shrink-0"}),p.jsx("span",{className:"text-sm font-medium",children:"Loading schedule data. Please wait before making edits..."})]}),p.jsxs("div",{className:"bg-slate-900 text-white p-2 shadow-lg z-30 print:hidden flex justify-between items-center px-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Co,{className:"w-4 h-4 text-emerald-400"}),p.jsx("span",{className:"font-semibold text-xs uppercase tracking-wide",children:"Access Mode:"})]}),p.jsx("div",{className:"flex bg-slate-800 rounded-lg p-0.5 gap-1",children:Object.keys(Pr).map(D=>{const Y=Pr[D],W=A.id===Y.id;return p.jsxs("button",{onClick:()=>!W&&bi(D),disabled:W,className:`px-3 py-1 text-xs font-medium rounded transition-all flex items-center gap-1.5 ${W?"bg-emerald-600 text-white shadow-sm cursor-default":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[Y.id==="viewer"&&p.jsx(kE,{size:12}),Y.id==="editor"&&p.jsx($E,{size:12}),Y.id==="manager"&&p.jsx(Co,{size:12}),Y.id==="admin"&&p.jsx(Co,{size:12,className:"text-red-400"}),Y.label]},Y.id)})})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:`flex items-center gap-2 text-xs px-3 py-1 rounded-full border transition-colors ${o==="saved"?"bg-green-900/30 border-green-700 text-green-300":o==="saving"?"bg-yellow-900/30 border-yellow-700 text-yellow-300":o==="offline"?"bg-orange-900/30 border-orange-700 text-orange-300 hover:bg-orange-900/50 cursor-help":"bg-red-900/30 border-red-700 text-red-300"}`,title:o==="offline"?"Clique para tentar reconectar":void 0,onClick:o==="offline"?()=>{window.location.reload()}:void 0,children:[o==="saved"&&p.jsx(RE,{size:14}),o==="saving"&&p.jsx(nm,{size:14,className:"animate-spin"}),(o==="error"||o==="offline")&&p.jsx(AE,{size:14}),p.jsx("span",{className:"font-medium",children:o==="saved"?oe.saved:o==="saving"?oe.saving:o==="offline"?"Offline":oe.offline})]}),Dt&&p.jsxs("div",{className:"text-xs text-emerald-300 flex items-center gap-2 bg-slate-800 px-3 py-1 rounded-full border border-slate-700",children:[p.jsxs("span",{className:"text-slate-400",children:[oe.loggedInAs,":"]}),p.jsx("span",{className:"font-bold text-white",children:Dt})]})]})]}),p.jsx(DN,{isOpen:M,onClose:()=>j(!1),targetRole:C,team:Ke,onLoginSuccess:ei,onTeamUpdate:In,t:oe}),p.jsx(ON,{isOpen:ie,onClose:()=>he(!1),requests:Dn,onApprove:Hn,onReject:vi,t:oe}),p.jsx(zN,{isOpen:De,onClose:()=>ye(!1),t:oe,team:Ke,currentUser:A,preSelectedId:qe,onApply:Gn}),R&&p.jsx(qN,{cell:R,onClose:()=>w(null),onUpdate:ra,legends:ot,customColors:ln}),p.jsx(VN,{isOpen:N,onClose:()=>P(!1),data:Zt,t:oe,hoursConfig:Nt}),p.jsx(BN,{isOpen:Z,onClose:()=>$(!1),team:Ke,overrides:cn,colors:ln,t:oe}),p.jsxs("div",{className:"bg-white border-b flex flex-col shadow-sm z-20 print:hidden flex-shrink-0",children:[p.jsxs("div",{className:"px-2 sm:px-3 md:px-4 py-0.5 md:py-1 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-1 md:gap-0",children:[p.jsx("div",{children:p.jsx("h1",{className:"text-xs sm:text-sm md:text-base font-bold text-gray-800",children:oe.title})}),p.jsxs("div",{className:"flex items-center space-x-0.5 sm:space-x-1 md:space-x-1 flex-wrap gap-0.5 md:gap-0 w-full sm:w-auto",children:[Xt&&p.jsxs("button",{onClick:()=>he(!0),className:"flex items-center px-1.5 sm:px-2 py-1 sm:py-1.5 bg-orange-50 text-orange-700 rounded hover:bg-orange-100 transition border border-orange-200 relative text-xs sm:text-sm",title:oe.requests,children:[p.jsx(z_,{size:14,className:"sm:w-4 sm:h-4 mr-1 sm:mr-2"}),p.jsx("span",{className:"hidden sm:inline",children:"Requests"}),p.jsx("span",{className:"sm:hidden",children:"Req"}),oa>0&&p.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-[10px] font-bold border-2 border-white animate-pulse",children:oa})]}),Kn&&p.jsxs("button",{onClick:()=>{ke(A.role==="editor"?String(z):""),ye(!0)},className:"flex items-center px-2 sm:px-3 py-1.5 sm:py-2 bg-purple-50 text-purple-700 rounded hover:bg-purple-100 transition border border-purple-200 text-xs sm:text-sm",title:oe.bulkTitle,children:[p.jsx(B_,{size:14,className:"sm:w-4 sm:h-4 mr-1 sm:mr-2"}),p.jsx("span",{className:"hidden sm:inline",children:oe.bulkActions}),p.jsx("span",{className:"sm:hidden",children:"Bulk"})]}),Xt&&p.jsxs("div",{className:"flex items-center bg-gray-100 rounded p-1 mr-2",children:[p.jsx("button",{onClick:ia,className:"p-2 hover:bg-white rounded text-gray-600",title:oe.saveFile,children:p.jsx(LE,{size:16})}),p.jsxs("label",{className:"p-2 hover:bg-white rounded text-gray-600 cursor-pointer",title:oe.loadFile,children:[p.jsx(i1,{size:16}),p.jsx("input",{type:"file",ref:Vt,onChange:sa,className:"hidden",accept:".json"})]})]}),p.jsxs("button",{onClick:()=>$(!0),className:"flex items-center px-3 py-2 bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition border border-blue-200",children:[p.jsx(Ju,{size:16,className:"mr-2"})," ",oe.annual]}),p.jsxs("button",{onClick:()=>P(!0),className:"flex items-center px-3 py-2 bg-indigo-50 text-indigo-700 rounded hover:bg-indigo-100 transition border border-indigo-200",children:[p.jsx(L_,{size:16,className:"mr-2"})," ",oe.stats]}),p.jsxs("button",{onClick:Ei,className:"flex items-center px-3 py-2 bg-green-50 text-green-700 rounded hover:bg-green-100 transition border border-green-200",children:[p.jsx(Pd,{size:16,className:"mr-2"})," ",oe.exportCsv]}),p.jsxs("button",{onClick:()=>window.print(),className:"flex items-center px-3 py-2 bg-gray-50 text-gray-700 rounded hover:bg-gray-100 transition border border-gray-200",children:[p.jsx(eT,{size:16,className:"mr-2"})," ",oe.print]}),p.jsxs("button",{onClick:()=>vn("png"),className:"flex items-center px-3 py-2 bg-sky-50 text-sky-700 rounded hover:bg-sky-100 transition border border-sky-200",title:"Export as PNG",children:[p.jsx(Pd,{size:16,className:"mr-2"})," PNG"]}),p.jsxs("button",{onClick:()=>vn("jpeg"),className:"flex items-center px-3 py-2 bg-rose-50 text-rose-700 rounded hover:bg-rose-100 transition border border-rose-200",title:"Export as JPEG",children:[p.jsx(Pd,{size:16,className:"mr-2"})," JPEG"]}),Xt&&p.jsxs("div",{className:"flex flex-col gap-0.5",children:[p.jsxs("button",{onClick:lr,disabled:!Ts||r,className:`flex items-center px-3 py-2 rounded transition border ${Ts&&!r?"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100 cursor-pointer":"bg-gray-50 text-gray-400 border-gray-200 cursor-not-allowed"}`,title:r?"Loading schedule data...":Ts?"Publish schedule to viewers":"No unpublished changes",children:[r&&p.jsx(zd,{size:16,className:"mr-2 animate-spin"}),!r&&p.jsx(i1,{size:16,className:"mr-2"}),r?"Loading...":"Publish"," ",Ts&&!r&&p.jsx("span",{className:"ml-1 font-bold",children:"*"})]}),yi&&p.jsxs("div",{className:"text-[9px] text-gray-500 px-1 text-center",children:["Last: ",new Date(yi).toLocaleString()]})]}),Xt&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:qa,disabled:Bn.length===0,className:"flex items-center px-3 py-2 bg-gray-50 text-gray-700 rounded hover:bg-gray-100 transition border border-gray-200 disabled:opacity-40 disabled:cursor-not-allowed",title:oe.undo,children:[p.jsx(fT,{size:16,className:"mr-2"}),oe.undo]}),p.jsxs("button",{onClick:ur,disabled:or.length===0,className:"flex items-center px-3 py-2 bg-gray-50 text-gray-700 rounded hover:bg-gray-100 transition border border-gray-200 disabled:opacity-40 disabled:cursor-not-allowed",title:oe.redo,children:[p.jsx(nT,{size:16,className:"mr-2"}),oe.redo]})]}),tr?p.jsxs("button",{onClick:()=>S(!E),className:`flex items-center px-3 py-2 rounded transition ${E?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[p.jsx(q_,{size:16,className:"mr-2"})," ",oe.config]}):p.jsxs("div",{className:"flex items-center px-3 py-2 rounded bg-gray-50 text-gray-300 cursor-not-allowed border border-transparent",title:oe.permissionDenied,children:[p.jsx(tm,{size:16,className:"mr-2"})," ",oe.config]}),A.permissions.includes("system")?p.jsxs("button",{onClick:()=>Ne(!Fe),className:`flex items-center px-3 py-2 rounded transition ${Fe?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[p.jsx(Co,{size:16,className:"mr-2"})," Admin"]}):null]})]}),!Xt&&Object.keys(Li).length===0&&p.jsx("div",{className:"px-2 sm:px-3 md:px-4 py-1 bg-amber-50 text-amber-800 border-t border-b border-amber-200 text-xs",children:"No published schedule yet. Please contact a manager to publish."}),p.jsxs("div",{className:"px-2 sm:px-3 md:px-4 py-0.5 bg-gray-50 border-t flex flex-col md:flex-row justify-between items-start md:items-center gap-0.5 md:gap-0 overflow-x-auto",children:[p.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-wrap text-[10px] md:text-xs",children:[p.jsxs("div",{className:"flex items-center gap-1 md:gap-2 hidden sm:flex",children:[p.jsx(PE,{size:12,className:"md:w-4 md:h-4"}),p.jsxs("span",{className:"font-bold hidden md:inline",children:[oe.filters,":"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"text-xs font-semibold text-gray-600 mr-2",children:[oe.all,":"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 rounded text-xs border ${dn==="All"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700"}`,children:[p.jsx("input",{type:"radio",name:"roleFilter",value:"All",checked:dn==="All",onChange:()=>nr("All"),className:"sr-only"}),"All"]}),fr.map(D=>p.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 rounded text-xs border ${dn===D?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700"}`,children:[p.jsx("input",{type:"radio",name:"roleFilter",value:D,checked:dn===D,onChange:()=>nr(D),className:"sr-only"}),D]},D))]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"text-xs font-semibold text-gray-600 mr-2",children:[oe.linguas,":"]}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 rounded text-xs border ${Un==="All"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700"}`,children:[p.jsx("input",{type:"radio",name:"langFilter",value:"All",checked:Un==="All",onChange:()=>ir("All"),className:"sr-only"}),oe.all]}),Dm.map(D=>p.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 rounded text-xs border ${Un===D?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700"}`,children:[p.jsx("input",{type:"radio",name:"langFilter",value:D,checked:Un===D,onChange:()=>ir(D),className:"sr-only"}),D]},D))]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 rounded text-xs border ${yn==="All"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700"}`,children:[p.jsx("input",{type:"radio",name:"shiftFilter",value:"All",checked:yn==="All",onChange:()=>At("All"),className:"sr-only"}),oe.all]}),p.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 rounded text-xs border ${yn==="M"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700"}`,children:[p.jsx("input",{type:"radio",name:"shiftFilter",value:"M",checked:yn==="M",onChange:()=>At("M"),className:"sr-only"}),"M"]}),p.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 rounded text-xs border ${yn==="T"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700"}`,children:[p.jsx("input",{type:"radio",name:"shiftFilter",value:"T",checked:yn==="T",onChange:()=>At("T"),className:"sr-only"}),"T"]}),p.jsxs("label",{className:`inline-flex items-center gap-2 px-2 py-1 rounded text-xs border ${yn==="N"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700"}`,children:[p.jsx("input",{type:"radio",name:"shiftFilter",value:"N",checked:yn==="N",onChange:()=>At("N"),className:"sr-only"}),"N"]})]}),p.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-600 ml-4 border-l pl-4",children:p.jsxs("span",{className:"font-bold",children:[oe.sort,":"]})}),p.jsxs("select",{value:ft,onChange:D=>Wi(D.target.value),className:"text-xs border rounded p-1",children:[p.jsx("option",{value:"OFFSET",children:oe.sortDefault}),p.jsx("option",{value:"AZ",children:oe.sortAZ}),p.jsx("option",{value:"ZA",children:oe.sortZA}),p.jsx("option",{value:"LANG",children:oe.sortLang}),p.jsx("option",{value:"ROLE",children:oe.sortRole})]})]}),p.jsxs("div",{className:"flex items-center bg-white border rounded-lg shadow-sm",children:[p.jsx("button",{onClick:ss,className:"p-1.5 hover:bg-gray-100 rounded-l-lg",children:p.jsx(Om,{size:16})}),p.jsxs("div",{className:"px-4 font-semibold w-32 text-center text-xs flex items-center justify-center gap-2",children:[p.jsx(Ju,{size:14}),lt]}),p.jsx("button",{onClick:aa,className:"p-1.5 hover:bg-gray-100 rounded-r-lg",children:p.jsx(U_,{size:16})})]}),oi.length>0&&p.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 border border-blue-200 rounded-lg shadow-sm px-3 py-1",children:[p.jsxs("span",{className:"text-xs font-semibold text-blue-800",children:[oe.selectedDays,": ",oi.length]}),p.jsx("button",{onClick:()=>li([]),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:oe.clearSelection})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-white border rounded-lg shadow-sm px-3 py-1",children:[p.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Focus:"}),p.jsx("input",{type:"date",value:$n||"",onChange:D=>{const Y=D.target.value;if(sr(Y||null),Y){const[W,fe,me]=Y.split("-").map(Number),se=new Date(W,fe-1,me);(se.getFullYear()!==h.getFullYear()||se.getMonth()!==h.getMonth())&&(g(new Date(W,fe-1,1)),_(new Date(W,fe-1,1)),mt.current=!1,Ge(0)),setTimeout(()=>{const re=we.current;if(re){const ge=re.querySelectorAll("table thead th"),Te=Array.from(ge).slice(1),Se=se.getDate(),be=Te[Se-1];if(be){const de=ge[0]?.offsetWidth||0;re.scrollLeft=be.offsetLeft-de-50}}},100)}},className:"text-xs border rounded px-2 py-1"}),$n&&p.jsx("button",{onClick:()=>sr(null),className:"text-xs text-gray-500 hover:text-gray-700",title:"Clear focus",children:""})]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row flex-1 min-h-0 print:overflow-visible",children:[p.jsx(MN,{show:Fe,team:Ke,setTeam:In}),p.jsx(HN,{show:E,config:ns,setConfig:qn,team:Ke,setTeam:In,holidays:St,setHolidays:xn,minStaff:rt,setMinStaff:rr,requiredLangs:an,setRequiredLangs:ar,legends:ot,setLegends:Zn,colors:ln,setColors:zn,weekendDays:on,setWeekendDays:Pi,lang:Ue,onReset:xi,hoursConfig:Nt,setHoursConfig:Ot}),p.jsxs("div",{ref:we,className:"w-full overflow-auto print:overflow-visible",style:{height:Ss,minHeight:Ss,maxHeight:Ss},children:[p.jsxs("div",{className:"hidden print:block mb-4",children:[p.jsxs("h1",{className:"text-2xl font-bold",children:[oe.printTitle," - ",lt]}),p.jsxs("p",{className:"text-sm text-gray-500",children:[oe.generatedOn," ",new Date().toLocaleDateString("en-GB")]})]}),p.jsxs("table",{className:"w-full h-full border-collapse text-[10px] sm:text-xs print:text-[8px]",children:[p.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10 shadow-sm print:static",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-1 md:p-1.5 text-left border-b border-r min-w-[140px] md:min-w-[200px] bg-gray-50 sticky left-0 z-20 shadow-sm print:static print:bg-white print:border-black",children:p.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[oe.colaborador,ft==="AZ"&&p.jsx(t1,{size:14,className:"text-indigo-600 ml-1 print:hidden"}),ft==="ZA"&&p.jsx(dE,{size:14,className:"text-indigo-600 ml-1 print:hidden"}),ft==="OFFSET"&&p.jsx(t1,{size:14,className:"text-gray-400 ml-1 print:hidden"}),ft==="LANG"&&p.jsx(qE,{size:14,className:"text-indigo-600 ml-1 print:hidden"}),ft==="ROLE"&&p.jsx(gE,{size:14,className:"text-indigo-600 ml-1 print:hidden"})]})}),Pe.map((D,Y)=>{const W=Y-Y%7,fe=rs.has(W),me=$n===D.fullDate,se=oi.includes(D.fullDate),re=new Date,ge=`${re.getFullYear()}-${String(re.getMonth()+1).padStart(2,"0")}-${String(re.getDate()).padStart(2,"0")}`,Te=D.fullDate===ge;return p.jsxs("th",{onClick:Se=>{if(Se.shiftKey&&ts){Se.preventDefault();const be=Pe.findIndex(vt=>vt.fullDate===ts),de=Y,wt=Math.min(be,de),it=Math.max(be,de),Ut=Pe.slice(wt,it+1).map(vt=>vt.fullDate);li(vt=>{const Pt=new Set([...vt,...Ut]);return Array.from(Pt)}),Wn(D.fullDate)}else Se.ctrlKey||Se.metaKey?(Se.preventDefault(),li(be=>be.includes(D.fullDate)?be.filter(it=>it!==D.fullDate):[...be,D.fullDate]),Wn(D.fullDate)):(se?(li([]),Wn(null)):(li([D.fullDate]),Wn(D.fullDate)),sr(null))},className:`p-0 md:p-0.5 border-b min-w-[24px] md:min-w-[30px] text-center relative cursor-pointer transition-all ${fe?"":"no-shift-week"} ${Te?"bg-green-200 ring-2 md:ring-4 ring-green-500 ring-inset font-bold z-40 print:bg-green-200":se?"bg-blue-200 border-l-2 md:border-l-4 border-r-2 md:border-r-4 border-t-2 md:border-t-4 border-blue-500 z-30":me?"bg-yellow-100 border-l-2 md:border-l-4 border-r-2 md:border-r-4 border-t-2 md:border-t-4 border-yellow-500 z-30":D.isWeekend?"bg-indigo-50 print:bg-gray-100 border-r":"border-r"} ${D.isPtHoliday&&!me&&!se&&!Te?"bg-red-50 print:bg-gray-200":""} print:border-black hover:bg-gray-200`,title:se?"Selected - Shift+Click to extend, Ctrl+Click to deselect":"Click to focus, Ctrl+Click to add, Shift+Click for range",children:[p.jsx("div",{className:"text-[10px] md:text-xs font-bold text-gray-700 print:text-black",children:D.date}),p.jsx("div",{className:"text-[9px] text-gray-500 uppercase print:text-black",children:D.weekDay})]},D.fullDate)})]})}),p.jsxs("tbody",{children:[Fn.map(D=>{let Y=null;const W=z===D.id,fe=A.role==="editor"&&!W,me=_n===D.id,se=Pe.map(re=>re.shifts[D.id]);return p.jsxs("tr",{className:`transition-colors print:break-inside-avoid ${fe?"opacity-50 grayscale":"hover:bg-gray-50"}`,children:[p.jsxs("td",{onClick:()=>Xn(me?null:D.id),className:`p-0 md:p-0.5 border-b bg-white sticky left-0 z-10 shadow-sm print:static print:border-black print:shadow-none group cursor-pointer ${me?"border-l-2 md:border-l-4 border-t-2 md:border-t-4 border-b-2 md:border-b-4 border-yellow-500 bg-yellow-50":"border-r"}`,title:"Click to focus this employee",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{className:"font-bold text-[10px] md:text-xs text-gray-800 print:text-black",children:D.name}),Xt&&p.jsx("button",{onClick:()=>{ke(String(D.id)),ye(!0)},className:"opacity-0 group-hover:opacity-100 p-0.5 md:p-1 hover:bg-gray-100 rounded text-gray-500 print:hidden transition-opacity",title:oe.bulkActions,children:p.jsx(DE,{size:12,className:"md:w-4 md:h-4"})})]}),p.jsxs("div",{className:"text-[10px] text-gray-500 flex flex-wrap gap-1 print:hidden",children:[D.role," ",p.jsxs("span",{className:"text-indigo-600 font-mono",children:["[",D.languages.join(" "),"]"]}),D.rotationMode&&D.rotationMode!=="STANDARD"&&p.jsxs("span",{className:"text-orange-600 font-bold ml-1",children:["(",D.rotationMode.replace("FIXED_",""),")"]})]})]}),Pe.map((re,ge)=>{const Te=re.shifts[D.id],Se=ge-ge%7,be=rs.has(Se),de=$n===re.fullDate,wt=new Date,it=`${wt.getFullYear()}-${String(wt.getMonth()+1).padStart(2,"0")}-${String(wt.getDate()).padStart(2,"0")}`,Ut=re.fullDate===it,vt=ge===Pe.length-1,Pt=ge>0&&UN(Y,Te),Et=PN(se,ge),zt=re.pendingReqs[D.id];Y=Te;const kt=me&&de,Gt=oi.includes(re.fullDate);return p.jsx("td",{onClick:Mn=>cr(Mn,D.id,re.fullDate,D.name),className:`
                            border-b p-0.5 text-center transition print:cursor-default relative
                            ${be?"":"no-shift-week"}
                            ${Ut?"bg-green-100 border-l-4 border-r-4 border-green-500":Gt?"bg-blue-100 border-l-4 border-r-4 border-blue-500":kt?"bg-yellow-100 border-l-4 border-r-4 border-t-4 border-b-4 border-yellow-500":me?`bg-yellow-50 border-t-4 border-b-4 border-yellow-500 ${vt?"border-r-4":""}`:de?"bg-yellow-50 border-l-4 border-r-4 border-yellow-500":"border-r"}
                            cursor-pointer hover:opacity-80
                          `,children:p.jsxs("div",{onClick:Mn=>{cr(Mn,D.id,re.fullDate,D.name)},className:`
                              w-full h-5 rounded flex items-center justify-center text-[10px] md:text-xs font-bold shadow-sm print:shadow-none print:rounded-none border
                              ${Et.hasShiftOverflow?"ring-2 ring-red-500 z-10":Pt?"ring-2 ring-orange-500 z-10":""}
                              ${zt?"opacity-70 ring-2 ring-yellow-400 border-yellow-500 border-dashed":""}
                            `,style:Jt(Te),title:Et.hasShiftOverflow?"ShiftOverflow (>40h)":zt?oe.pending:Pt?oe.restWarn:"",children:[zt&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5",children:p.jsx(P_,{size:14,className:"text-gray-700"})}),Te==="F"?"":Te,Et.hasShiftOverflow&&!zt&&p.jsx(Wu,{size:10,className:"absolute top-0 right-0 text-red-600 bg-white rounded-full"}),Pt&&!zt&&!Et.hasShiftOverflow&&p.jsx(Wu,{size:10,className:"absolute top-0 right-0 text-orange-600 bg-white rounded-full"})]})},re.fullDate)})]},D.id)}),Kn&&p.jsxs(p.Fragment,{children:[p.jsxs("tr",{className:"bg-gray-800 text-white font-bold print:bg-gray-200 print:text-black print:border-t-2 print:border-black",children:[p.jsx("td",{className:"p-2 border-r sticky left-0 bg-gray-800 z-10 shadow-sm print:static print:bg-transparent",children:oe.analise}),p.jsx("td",{colSpan:Pe.length,className:"p-2 text-xs font-normal",children:oe.analiseDesc})]}),["M","T","N"].map((D,Y)=>p.jsxs("tr",{className:"bg-gray-50 print:bg-white",children:[p.jsxs("td",{className:"p-2 border-b border-r font-bold text-gray-600 sticky left-0 bg-gray-50 z-10 shadow-sm print:static print:bg-transparent print:text-black print:border-black",children:[oe.faltas,":"," ",D==="M"?oe.manha:D==="T"?oe.tarde:oe.noite]}),Pe.map(W=>{const fe=W.missing[D],me=W.lowStaff[D],se=fe.length>0||me,re=$n===W.fullDate,ge=Y===2;return p.jsx("td",{className:`border-b p-1 text-center text-[10px] ${re?`bg-yellow-50 border-l-4 border-r-4 border-yellow-500 ${ge?"border-b-4":""}`:se?"bg-red-100 print:bg-gray-100 border-r":"border-r"} print:border-black`,children:se?p.jsxs("div",{className:"text-red-600 font-bold flex flex-col items-center justify-center h-full group relative cursor-help print:text-black",children:[p.jsx(F_,{size:12,className:"mb-1 print:text-black"}),p.jsx("span",{className:"print:text-[8px]",children:fe.join(",")}),me&&p.jsx("span",{className:"text-[8px] whitespace-nowrap",children:oe.lowStaff})]}):p.jsx("div",{className:"text-green-300 print:text-gray-300",children:p.jsx(Vm,{size:12})})},W.fullDate)})]},D))]}),Xt&&p.jsxs(p.Fragment,{children:[p.jsxs("tr",{className:"bg-gray-50 print:bg-white",children:[p.jsx("td",{className:"p-2 border-b border-r font-bold text-gray-600 sticky left-0 bg-gray-50 z-10 shadow-sm print:static print:bg-transparent print:text-black print:border-black",children:"Counts"}),Pe.map(D=>{const Y=$n===D.fullDate,W=D.counts;return p.jsx("td",{className:`border-b border-r p-1 text-center text-[10px] ${Y?"bg-yellow-50 ring-2 ring-yellow-400 ring-inset":""} print:border-black`,children:p.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p.jsxs("span",{className:"px-1.5 py-0.5 rounded border text-[10px] font-semibold",style:Jt("M"),title:"Morning count",children:["M: ",W.M]}),p.jsxs("span",{className:"px-1.5 py-0.5 rounded border text-[10px] font-semibold",style:Jt("T"),title:"Afternoon count",children:["T: ",W.T]}),p.jsxs("span",{className:"px-1.5 py-0.5 rounded border text-[10px] font-semibold",style:Jt("N"),title:"Night count",children:["N: ",W.N]})]})},D.fullDate)})]}),p.jsxs("tr",{className:"bg-gray-50 print:bg-white",children:[p.jsx("td",{className:"p-2 border-b border-r font-bold text-gray-600 sticky left-0 bg-gray-50 z-10 shadow-sm print:static print:bg-transparent print:text-black print:border-black",children:"On Duty"}),Pe.map(D=>{const Y=$n===D.fullDate,W=D.counts.M+D.counts.T+D.counts.N;return p.jsx("td",{className:`border-b border-r p-1 text-center text-[10px] ${Y?"bg-yellow-50 ring-2 ring-yellow-400 ring-inset":""} print:border-black`,children:W},D.fullDate)})]}),p.jsxs("tr",{className:"bg-gray-50 print:bg-white",children:[p.jsx("td",{className:"p-2 border-b border-r font-bold text-gray-600 sticky left-0 bg-gray-50 z-10 shadow-sm print:static print:bg-transparent print:text-black print:border-black",children:"Hours"}),Pe.map(D=>{const Y=$n===D.fullDate,W=D.counts.M*Nt.M+D.counts.T*Nt.T+D.counts.N*Nt.N;return p.jsx("td",{className:`border-b border-r p-1 text-center text-[10px] ${Y?"bg-yellow-50 ring-2 ring-yellow-400 ring-inset":""} print:border-black`,children:W},D.fullDate)})]}),p.jsxs("tr",{className:"bg-gray-50 print:bg-white",children:[p.jsx("td",{className:"p-2 border-b border-r font-bold text-gray-600 sticky left-0 bg-gray-50 z-10 shadow-sm print:static print:bg-transparent print:text-black print:border-black",children:"Requests"}),Pe.map(D=>{const Y=$n===D.fullDate,W=Object.values(D.pendingReqs||{}).filter(Boolean).length;return p.jsx("td",{className:`border-b border-r p-1 text-center text-[10px] ${Y?"bg-yellow-50 ring-2 ring-yellow-400 ring-inset":""} print:border-black`,children:W},D.fullDate)})]}),Dm.map(D=>p.jsxs("tr",{className:"bg-gray-50 print:bg-white",children:[p.jsxs("td",{className:"p-2 border-b border-r font-bold text-gray-600 sticky left-0 bg-gray-50 z-10 shadow-sm print:static print:bg-transparent print:text-black print:border-black",children:[D," Overflow"]}),Pe.map(Y=>{const W=$n===Y.fullDate,fe=Fn.reduce((Se,be)=>Se+(Y.shifts[be.id]==="M"&&be.languages.includes(D)?1:0),0),me=Fn.reduce((Se,be)=>Se+(Y.shifts[be.id]==="T"&&be.languages.includes(D)?1:0),0),se=Fn.reduce((Se,be)=>Se+(Y.shifts[be.id]==="N"&&be.languages.includes(D)?1:0),0),re=Math.max(0,fe-1),ge=Math.max(0,me-1),Te=Math.max(0,se-1);return p.jsx("td",{className:`border-b border-r p-1 text-center text-[10px] ${W?"bg-yellow-50 ring-2 ring-yellow-400 ring-inset":""} print:border-black`,title:`M:${fe} T:${me} N:${se}`,children:p.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p.jsxs("span",{className:`px-1.5 py-0.5 rounded border text-[10px] font-semibold ${re>0?"":"opacity-60"}`,style:Jt("M"),children:["M:+",re]}),p.jsxs("span",{className:`px-1.5 py-0.5 rounded border text-[10px] font-semibold ${ge>0?"":"opacity-60"}`,style:Jt("T"),children:["T:+",ge]}),p.jsxs("span",{className:`px-1.5 py-0.5 rounded border text-[10px] font-semibold ${Te>0?"":"opacity-60"}`,style:Jt("N"),children:["N:+",Te]})]})},Y.fullDate)})]},`lng-${D}`))]})]})]}),p.jsxs("div",{className:"hidden print:block mt-8 border-t pt-4",children:[p.jsx("h3",{className:"font-bold text-sm mb-2 uppercase",children:oe.legend}),p.jsxs("div",{className:"grid grid-cols-6 gap-4 text-xs",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 border text-center font-bold",style:Jt("M"),children:"M"}),p.jsxs("span",{children:[oe.legM," (",ot.M,")"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 border text-center font-bold",style:Jt("T"),children:"T"}),p.jsxs("span",{children:[oe.legT," (",ot.T,")"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 border text-center font-bold",style:Jt("N"),children:"N"}),p.jsxs("span",{children:[oe.legN," (",ot.N,")"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 border bg-gray-100"}),p.jsx("span",{children:oe.legF})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 border text-center font-bold",style:Jt("V"),children:"V"}),p.jsx("span",{children:oe.legV})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 border text-center font-bold",style:Jt("S"),children:"S"}),p.jsx("span",{children:oe.legS})]})]})]})]})]})]})};nE.createRoot(document.getElementById("root")).render(p.jsx(ae.StrictMode,{children:p.jsx(FN,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/hv-scheduler/service-worker.js").catch(r=>console.error("SW registration failed",r))});
